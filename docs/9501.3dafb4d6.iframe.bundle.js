/*! For license information please see 9501.3dafb4d6.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkmeanwhilejs=self.webpackChunkmeanwhilejs||[]).push([[9501],{"./node_modules/@tsparticles/engine/browser/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HKZ:()=>AlterType,A9e:()=>AnimatableColor,H_P:()=>AnimationStatus,jlt:()=>Circle,_or:()=>CollisionMode,VKE:()=>DestroyType,Q5V:()=>DivType,mgy:()=>EasingType,sJd:()=>ExternalInteractorBase,Oit:()=>OptionsColor,Yzx:()=>OutMode,v5k:()=>OutModeDirection,x_I:()=>ParticleOutType,U4p:()=>ParticlesInteractorBase,qiC:()=>PixelMode,M_G:()=>Rectangle,pTR:()=>RotateDirection,PVU:()=>ValueWithRandom,Miz:()=>Vector,nLm:()=>addEasing,n02:()=>arrayRandomIndex,MhH:()=>calcPositionOrRandomFromSize,l1q:()=>calcPositionOrRandomFromSizeRanged,AEc:()=>calculateBounds,pEn:()=>circleBounce,Tgl:()=>circleBounceDataFromParticle,qE8:()=>clamp,EYT:()=>colorMix,zwS:()=>deepExtend,puj:()=>degToRad,NVT:()=>divMode,U6C:()=>divModeExecute,V6E:()=>drawLine,dIx:()=>errorPrefix,wJ2:()=>executeOnSingleOrMultiple,YfF:()=>getDistance,vrU:()=>getDistances,ilx:()=>getEasing,pzy:()=>getHslAnimationFromHsl,_hh:()=>getLinkColor,PGG:()=>getLinkRandomColor,tZQ:()=>getLogger,G0i:()=>getRandom,W9e:()=>getRangeMax,VGA:()=>getRangeValue,YCE:()=>getSize,LCf:()=>getStyleFromHsl,xxz:()=>getStyleFromRgb,N3d:()=>halfRandom,XsS:()=>initParticleNumericAnimationValue,cyL:()=>isArray,iKf:()=>isDivModeEnabled,hnD:()=>isInArray,EtT:()=>isNumber,Gvm:()=>isObject,Tj8:()=>isPointInside,B90:()=>isSsr,Vh1:()=>itemFromArray,TA3:()=>itemFromSingleOrMultiple,AlN:()=>loadFont,yVN:()=>loadParticlesOptions,XuV:()=>millisecondsToSeconds,Z04:()=>mouseLeaveEvent,RbF:()=>mouseMoveEvent,a56:()=>Constants_percentDenominator,U43:()=>randomInRange,R5R:()=>rangeColorToHsl,BN0:()=>rangeColorToRgb,jon:()=>rectBounce,K6u:()=>rgbToHsl,DT4:()=>setRangeValue,$k3:()=>tsParticles,UC0:()=>updateAnimation,JvX:()=>updateColor});const mouseLeaveEvent="pointerleave",mouseMoveEvent="pointermove",errorPrefix="tsParticles - Error",Constants_percentDenominator=100,halfRandom=.5,millisecondsToSeconds=1e3;var MoveDirection;function isBoolean(arg){return"boolean"==typeof arg}function isString(arg){return"string"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isArray(arg){return Array.isArray(arg)}!function(MoveDirection){MoveDirection.bottom="bottom",MoveDirection.bottomLeft="bottom-left",MoveDirection.bottomRight="bottom-right",MoveDirection.left="left",MoveDirection.none="none",MoveDirection.right="right",MoveDirection.top="top",MoveDirection.topLeft="top-left",MoveDirection.topRight="top-right",MoveDirection.outside="outside",MoveDirection.inside="inside"}(MoveDirection||(MoveDirection={}));const origin_x=0,origin_y=0,origin_z=0;class Vector3d{constructor(xOrCoords,y,z){if(this._updateFromAngle=(angle,length)=>{this.x=Math.cos(angle)*length,this.y=Math.sin(angle)*length},!isNumber(xOrCoords)&&xOrCoords){this.x=xOrCoords.x,this.y=xOrCoords.y;const coords3d=xOrCoords;this.z=coords3d.z?coords3d.z:origin_z}else{if(void 0===xOrCoords||void 0===y)throw new Error(`${errorPrefix} Vector3d not initialized correctly`);this.x=xOrCoords,this.y=y,this.z=z??origin_z}}static get origin(){return Vector3d.create(origin_x,origin_y,origin_z)}get angle(){return Math.atan2(this.y,this.x)}set angle(angle){this._updateFromAngle(angle,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(length){this._updateFromAngle(this.angle,length)}static clone(source){return Vector3d.create(source.x,source.y,source.z)}static create(x,y,z){return new Vector3d(x,y,z)}add(v){return Vector3d.create(this.x+v.x,this.y+v.y,this.z+v.z)}addTo(v){this.x+=v.x,this.y+=v.y,this.z+=v.z}copy(){return Vector3d.clone(this)}distanceTo(v){return this.sub(v).length}distanceToSq(v){return this.sub(v).getLengthSq()}div(n){return Vector3d.create(this.x/n,this.y/n,this.z/n)}divTo(n){this.x/=n,this.y/=n,this.z/=n}getLengthSq(){return this.x**2+this.y**2}mult(n){return Vector3d.create(this.x*n,this.y*n,this.z*n)}multTo(n){this.x*=n,this.y*=n,this.z*=n}normalize(){const length=this.length;0!=length&&this.multTo(1/length)}rotate(angle){return Vector3d.create(this.x*Math.cos(angle)-this.y*Math.sin(angle),this.x*Math.sin(angle)+this.y*Math.cos(angle),origin_z)}setTo(c){this.x=c.x,this.y=c.y;const v3d=c;this.z=v3d.z?v3d.z:origin_z}sub(v){return Vector3d.create(this.x-v.x,this.y-v.y,this.z-v.z)}subFrom(v){this.x-=v.x,this.y-=v.y,this.z-=v.z}}class Vector extends Vector3d{constructor(xOrCoords,y){super(xOrCoords,y,origin_z)}static get origin(){return Vector.create(origin_x,origin_y)}static clone(source){return Vector.create(source.x,source.y)}static create(x,y){return new Vector(x,y)}}let _random=Math.random;const _animationLoop={nextFrame:cb=>requestAnimationFrame(cb),cancel:idx=>cancelAnimationFrame(idx)},easingFunctions=new Map,doublePI=2*Math.PI;function addEasing(name,easing){easingFunctions.get(name)||easingFunctions.set(name,easing)}function getEasing(name){return easingFunctions.get(name)??(value=>value)}function getRandom(){return clamp(_random(),0,1-Number.EPSILON)}function clamp(num,min,max){return Math.min(Math.max(num,min),max)}function mix(comp1,comp2,weight1,weight2){return Math.floor((comp1*weight1+comp2*weight2)/(weight1+weight2))}function randomInRange(r){const max=getRangeMax(r);let min=getRangeMin(r);return max===min&&(min=0),getRandom()*(max-min)+min}function getRangeValue(value){return isNumber(value)?value:randomInRange(value)}function getRangeMin(value){return isNumber(value)?value:value.min}function getRangeMax(value){return isNumber(value)?value:value.max}function setRangeValue(source,value){if(source===value||void 0===value&&isNumber(source))return source;const min=getRangeMin(source),max=getRangeMax(source);return void 0!==value?{min:Math.min(min,value),max:Math.max(max,value)}:setRangeValue(min,max)}function getDistances(pointA,pointB){const dx=pointA.x-pointB.x,dy=pointA.y-pointB.y;return{dx,dy,distance:Math.sqrt(dx**2+dy**2)}}function getDistance(pointA,pointB){return getDistances(pointA,pointB).distance}function degToRad(degrees){return degrees*Math.PI/180}function collisionVelocity(v1,v2,m1,m2){return Vector.create(v1.x*(m1-m2)/(m1+m2)+2*v2.x*m2/(m1+m2),v1.y)}function calcPositionOrRandomFromSize(data){return{x:(data.position?.x??getRandom()*Constants_percentDenominator)*data.size.width/Constants_percentDenominator,y:(data.position?.y??getRandom()*Constants_percentDenominator)*data.size.height/Constants_percentDenominator}}function calcPositionOrRandomFromSizeRanged(data){const position={x:void 0!==data.position?.x?getRangeValue(data.position.x):void 0,y:void 0!==data.position?.y?getRangeValue(data.position.y):void 0};return calcPositionOrRandomFromSize({size:data.size,position})}function calcExactPositionOrRandomFromSize(data){return{x:data.position?.x??getRandom()*data.size.width,y:data.position?.y??getRandom()*data.size.height}}function parseAlpha(input){return input?input.endsWith("%")?parseFloat(input)/Constants_percentDenominator:parseFloat(input):1}var AnimationMode,AnimationStatus,DestroyType,OutModeDirection,PixelMode,StartValueType;!function(AnimationMode){AnimationMode.auto="auto",AnimationMode.increase="increase",AnimationMode.decrease="decrease",AnimationMode.random="random"}(AnimationMode||(AnimationMode={})),function(AnimationStatus){AnimationStatus.increasing="increasing",AnimationStatus.decreasing="decreasing"}(AnimationStatus||(AnimationStatus={})),function(DestroyType){DestroyType.none="none",DestroyType.max="max",DestroyType.min="min"}(DestroyType||(DestroyType={})),function(OutModeDirection){OutModeDirection.bottom="bottom",OutModeDirection.left="left",OutModeDirection.right="right",OutModeDirection.top="top"}(OutModeDirection||(OutModeDirection={})),function(PixelMode){PixelMode.precise="precise",PixelMode.percent="percent"}(PixelMode||(PixelMode={})),function(StartValueType){StartValueType.max="max",StartValueType.min="min",StartValueType.random="random"}(StartValueType||(StartValueType={}));const _logger={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function getLogger(){return _logger}function rectSideBounce(data){const res={bounced:!1},{pSide,pOtherSide,rectSide,rectOtherSide,velocity,factor}=data;return pOtherSide.min<rectOtherSide.min||pOtherSide.min>rectOtherSide.max||pOtherSide.max<rectOtherSide.min||pOtherSide.max>rectOtherSide.max||(pSide.max>=rectSide.min&&pSide.max<=.5*(rectSide.max+rectSide.min)&&velocity>0||pSide.min<=rectSide.max&&pSide.min>.5*(rectSide.max+rectSide.min)&&velocity<0)&&(res.velocity=velocity*-factor,res.bounced=!0),res}function isSsr(){return"undefined"==typeof window||!window||void 0===window.document||!window.document}function safeMatchMedia(query){if(function hasMatchMedia(){return!isSsr()&&"undefined"!=typeof matchMedia}())return matchMedia(query)}function isInArray(value,array){return value===array||isArray(array)&&array.indexOf(value)>-1}async function loadFont(font,weight){try{await document.fonts.load(`${weight??"400"} 36px '${font??"Verdana"}'`)}catch{}}function arrayRandomIndex(array){return Math.floor(getRandom()*array.length)}function itemFromArray(array,index,useIndex=!0){return array[void 0!==index&&useIndex?index%array.length:arrayRandomIndex(array)]}function isPointInside(point,size,offset,radius,direction){return function areBoundsInside(bounds,size,offset,direction){let inside=!0;direction&&direction!==OutModeDirection.bottom||(inside=bounds.top<size.height+offset.x);!inside||direction&&direction!==OutModeDirection.left||(inside=bounds.right>offset.x);!inside||direction&&direction!==OutModeDirection.right||(inside=bounds.left<size.width+offset.y);!inside||direction&&direction!==OutModeDirection.top||(inside=bounds.bottom>offset.y);return inside}(calculateBounds(point,radius??0),size,offset,direction)}function calculateBounds(point,radius){return{bottom:point.y+radius,left:point.x-radius,right:point.x+radius,top:point.y-radius}}function deepExtend(destination,...sources){for(const source of sources){if(null==source)continue;if(!isObject(source)){destination=source;continue}const sourceIsArray=Array.isArray(source);!sourceIsArray||!isObject(destination)&&destination&&Array.isArray(destination)?sourceIsArray||!isObject(destination)&&destination&&!Array.isArray(destination)||(destination={}):destination=[];for(const key in source){if("__proto__"===key)continue;const value=source[key],destDict=destination;destDict[key]=isObject(value)&&Array.isArray(value)?value.map((v=>deepExtend(destDict[key],v))):deepExtend(destDict[key],value)}}return destination}function isDivModeEnabled(mode,divs){return!!findItemFromSingleOrMultiple(divs,(t=>t.enable&&isInArray(mode,t.mode)))}function divModeExecute(mode,divs,callback){executeOnSingleOrMultiple(divs,(div=>{const divMode=div.mode;div.enable&&isInArray(mode,divMode)&&function singleDivModeExecute(div,callback){const selectors=div.selectors;executeOnSingleOrMultiple(selectors,(selector=>{callback(selector,div)}))}(div,callback)}))}function divMode(divs,element){if(element&&divs)return findItemFromSingleOrMultiple(divs,(div=>function checkSelector(element,selectors){const res=executeOnSingleOrMultiple(selectors,(selector=>element.matches(selector)));return isArray(res)?res.some((t=>t)):res}(element,div.selectors)))}function circleBounceDataFromParticle(p){return{position:p.getPosition(),radius:p.getRadius(),mass:p.getMass(),velocity:p.velocity,factor:Vector.create(getRangeValue(p.options.bounce.horizontal.value),getRangeValue(p.options.bounce.vertical.value))}}function circleBounce(p1,p2){const{x:xVelocityDiff,y:yVelocityDiff}=p1.velocity.sub(p2.velocity),[pos1,pos2]=[p1.position,p2.position],{dx:xDist,dy:yDist}=getDistances(pos2,pos1);if(xVelocityDiff*xDist+yVelocityDiff*yDist<0)return;const angle=-Math.atan2(yDist,xDist),m1=p1.mass,m2=p2.mass,u1=p1.velocity.rotate(angle),u2=p2.velocity.rotate(angle),v1=collisionVelocity(u1,u2,m1,m2),v2=collisionVelocity(u2,u1,m1,m2),vFinal1=v1.rotate(-angle),vFinal2=v2.rotate(-angle);p1.velocity.x=vFinal1.x*p1.factor.x,p1.velocity.y=vFinal1.y*p1.factor.y,p2.velocity.x=vFinal2.x*p2.factor.x,p2.velocity.y=vFinal2.y*p2.factor.y}function rectBounce(particle,divBounds){const bounds=calculateBounds(particle.getPosition(),particle.getRadius()),bounceOptions=particle.options.bounce,resH=rectSideBounce({pSide:{min:bounds.left,max:bounds.right},pOtherSide:{min:bounds.top,max:bounds.bottom},rectSide:{min:divBounds.left,max:divBounds.right},rectOtherSide:{min:divBounds.top,max:divBounds.bottom},velocity:particle.velocity.x,factor:getRangeValue(bounceOptions.horizontal.value)});resH.bounced&&(void 0!==resH.velocity&&(particle.velocity.x=resH.velocity),void 0!==resH.position&&(particle.position.x=resH.position));const resV=rectSideBounce({pSide:{min:bounds.top,max:bounds.bottom},pOtherSide:{min:bounds.left,max:bounds.right},rectSide:{min:divBounds.top,max:divBounds.bottom},rectOtherSide:{min:divBounds.left,max:divBounds.right},velocity:particle.velocity.y,factor:getRangeValue(bounceOptions.vertical.value)});resV.bounced&&(void 0!==resV.velocity&&(particle.velocity.y=resV.velocity),void 0!==resV.position&&(particle.position.y=resV.position))}function executeOnSingleOrMultiple(obj,callback){return isArray(obj)?obj.map(((item,index)=>callback(item,index))):callback(obj,0)}function itemFromSingleOrMultiple(obj,index,useIndex){return isArray(obj)?itemFromArray(obj,index,useIndex):obj}function findItemFromSingleOrMultiple(obj,callback){if(isArray(obj))return obj.find(((t,index)=>callback(t,index)));return callback(obj,0)?obj:void 0}function initParticleNumericAnimationValue(options,pxRatio){const valueRange=options.value,animationOptions=options.animation,res={delayTime:getRangeValue(animationOptions.delay)*millisecondsToSeconds,enable:animationOptions.enable,value:getRangeValue(options.value)*pxRatio,max:getRangeMax(valueRange)*pxRatio,min:getRangeMin(valueRange)*pxRatio,loops:0,maxLoops:getRangeValue(animationOptions.count),time:0};if(animationOptions.enable){switch(res.decay=1-getRangeValue(animationOptions.decay),animationOptions.mode){case AnimationMode.increase:res.status=AnimationStatus.increasing;break;case AnimationMode.decrease:res.status=AnimationStatus.decreasing;break;case AnimationMode.random:res.status=getRandom()>=halfRandom?AnimationStatus.increasing:AnimationStatus.decreasing}const autoStatus=animationOptions.mode===AnimationMode.auto;switch(animationOptions.startValue){case StartValueType.min:res.value=res.min,autoStatus&&(res.status=AnimationStatus.increasing);break;case StartValueType.max:res.value=res.max,autoStatus&&(res.status=AnimationStatus.decreasing);break;case StartValueType.random:default:res.value=randomInRange(res),autoStatus&&(res.status=getRandom()>=halfRandom?AnimationStatus.increasing:AnimationStatus.decreasing)}}return res.initialValue=res.value,res}function getPositionOrSize(positionOrSize,canvasSize){if(!(positionOrSize.mode===PixelMode.percent)){const{mode:_,...rest}=positionOrSize;return rest}return"x"in positionOrSize?{x:positionOrSize.x/Constants_percentDenominator*canvasSize.width,y:positionOrSize.y/Constants_percentDenominator*canvasSize.height}:{width:positionOrSize.width/Constants_percentDenominator*canvasSize.width,height:positionOrSize.height/Constants_percentDenominator*canvasSize.height}}function getPosition(position,canvasSize){return getPositionOrSize(position,canvasSize)}function getSize(size,canvasSize){return getPositionOrSize(size,canvasSize)}function updateAnimation(particle,data,changeDirection,destroyType,delta){if(particle.destroyed||!data||!data.enable||(data.maxLoops??0)>0&&(data.loops??0)>(data.maxLoops??0))return;const velocity=(data.velocity??0)*delta.factor,minValue=data.min,maxValue=data.max,decay=data.decay??1;if(data.time||(data.time=0),(data.delayTime??0)>0&&data.time<(data.delayTime??0)&&(data.time+=delta.value),!((data.delayTime??0)>0&&data.time<(data.delayTime??0))){switch(data.status){case AnimationStatus.increasing:data.value>=maxValue?(changeDirection?data.status=AnimationStatus.decreasing:data.value-=maxValue,data.loops||(data.loops=0),data.loops++):data.value+=velocity;break;case AnimationStatus.decreasing:data.value<=minValue?(changeDirection?data.status=AnimationStatus.increasing:data.value+=maxValue,data.loops||(data.loops=0),data.loops++):data.value-=velocity}data.velocity&&1!==decay&&(data.velocity*=decay),function checkDestroy(particle,destroyType,value,minValue,maxValue){switch(destroyType){case DestroyType.max:value>=maxValue&&particle.destroy();break;case DestroyType.min:value<=minValue&&particle.destroy()}}(particle,destroyType,data.value,minValue,maxValue),particle.destroyed||(data.value=clamp(data.value,minValue,maxValue))}}var AlterType,RgbIndexes;!function(AlterType){AlterType.darken="darken",AlterType.enlighten="enlighten"}(AlterType||(AlterType={})),function(RgbIndexes){RgbIndexes[RgbIndexes.r=1]="r",RgbIndexes[RgbIndexes.g=2]="g",RgbIndexes[RgbIndexes.b=3]="b",RgbIndexes[RgbIndexes.a=4]="a"}(RgbIndexes||(RgbIndexes={}));const randomColorValue="random",midColorValue="mid",colorManagers=new Map;function addColorManager(manager){colorManagers.set(manager.key,manager)}function stringToRgba(input){for(const[,manager]of colorManagers)if(input.startsWith(manager.stringPrefix))return manager.parseString(input);const hexFixed=input.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,((_,r,g,b,a)=>r+r+g+g+b+b+(void 0!==a?a+a:""))),result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(hexFixed);return result?{a:void 0!==result[RgbIndexes.a]?parseInt(result[RgbIndexes.a],16)/255:1,b:parseInt(result[RgbIndexes.b],16),g:parseInt(result[RgbIndexes.g],16),r:parseInt(result[RgbIndexes.r],16)}:void 0}function rangeColorToRgb(input,index,useIndex=!0){if(!input)return;const color=isString(input)?{value:input}:input;if(isString(color.value))return colorToRgb(color.value,index,useIndex);if(isArray(color.value))return rangeColorToRgb({value:itemFromArray(color.value,index,useIndex)});for(const[,manager]of colorManagers){const res=manager.handleRangeColor(color);if(res)return res}}function colorToRgb(input,index,useIndex=!0){if(!input)return;const color=isString(input)?{value:input}:input;if(isString(color.value))return color.value===randomColorValue?getRandomRgbColor():function stringToRgb(input){return stringToRgba(input)}(color.value);if(isArray(color.value))return colorToRgb({value:itemFromArray(color.value,index,useIndex)});for(const[,manager]of colorManagers){const res=manager.handleColor(color);if(res)return res}}function rangeColorToHsl(color,index,useIndex=!0){const rgb=rangeColorToRgb(color,index,useIndex);return rgb?rgbToHsl(rgb):void 0}function rgbToHsl(color){const r1=color.r/255,g1=color.g/255,b1=color.b/255,max=Math.max(r1,g1,b1),min=Math.min(r1,g1,b1),res={h:0,l:.5*(max+min),s:0};return max!==min&&(res.s=res.l<.5?(max-min)/(max+min):(max-min)/(2-max-min),res.h=r1===max?(g1-b1)/(max-min):res.h=g1===max?2+(b1-r1)/(max-min):4+(r1-g1)/(max-min)),res.l*=100,res.s*=100,res.h*=60,res.h<0&&(res.h+=360),res.h>=360&&(res.h-=360),res}function hslToRgb(hsl){const h=(hsl.h%360+360)%360,s=Math.max(0,Math.min(100,hsl.s)),hNormalized=h/360,sNormalized=s/100,lNormalized=Math.max(0,Math.min(100,hsl.l))/100;if(0===s){const grayscaleValue=Math.round(255*lNormalized);return{r:grayscaleValue,g:grayscaleValue,b:grayscaleValue}}const channel=(temp1,temp2,temp3)=>{if(temp3<0&&temp3++,temp3>1&&temp3--,6*temp3<1)return temp1+6*(temp2-temp1)*temp3;if(2*temp3<1)return temp2;if(3*temp3<2){return temp1+(temp2-temp1)*(2/3-temp3)*6}return temp1},temp1=lNormalized<.5?lNormalized*(1+sNormalized):lNormalized+sNormalized-lNormalized*sNormalized,temp2=2*lNormalized-temp1,phaseThird=1/3,red=Math.min(255,255*channel(temp2,temp1,hNormalized+phaseThird)),green=Math.min(255,255*channel(temp2,temp1,hNormalized)),blue=Math.min(255,255*channel(temp2,temp1,hNormalized-phaseThird));return{r:Math.round(red),g:Math.round(green),b:Math.round(blue)}}function getRandomRgbColor(min){const fixedMin=min??0;return{b:Math.floor(randomInRange(setRangeValue(fixedMin,256))),g:Math.floor(randomInRange(setRangeValue(fixedMin,256))),r:Math.floor(randomInRange(setRangeValue(fixedMin,256)))}}function getStyleFromRgb(color,opacity){return`rgba(${color.r}, ${color.g}, ${color.b}, ${opacity??1})`}function getStyleFromHsl(color,opacity){return`hsla(${color.h}, ${color.s}%, ${color.l}%, ${opacity??1})`}function colorMix(color1,color2,size1,size2){let rgb1=color1,rgb2=color2;return void 0===rgb1.r&&(rgb1=hslToRgb(color1)),void 0===rgb2.r&&(rgb2=hslToRgb(color2)),{b:mix(rgb1.b,rgb2.b,size1,size2),g:mix(rgb1.g,rgb2.g,size1,size2),r:mix(rgb1.r,rgb2.r,size1,size2)}}function getLinkColor(p1,p2,linkColor){if(linkColor===randomColorValue)return getRandomRgbColor();if(linkColor!==midColorValue)return linkColor;{const sourceColor=p1.getFillColor()??p1.getStrokeColor(),destColor=p2?.getFillColor()??p2?.getStrokeColor();if(sourceColor&&destColor&&p2)return colorMix(sourceColor,destColor,p1.getRadius(),p2.getRadius());{const hslColor=sourceColor??destColor;if(hslColor)return hslToRgb(hslColor)}}}function getLinkRandomColor(optColor,blink,consent){const color=isString(optColor)?optColor:optColor.value;return color===randomColorValue?consent?rangeColorToRgb({value:color}):blink?randomColorValue:midColorValue:color===midColorValue?midColorValue:rangeColorToRgb({value:color})}function getHslFromAnimation(animation){return void 0!==animation?{h:animation.h.value,s:animation.s.value,l:animation.l.value}:void 0}function getHslAnimationFromHsl(hsl,animationOptions,reduceFactor){const resColor={h:{enable:!1,value:hsl.h},s:{enable:!1,value:hsl.s},l:{enable:!1,value:hsl.l}};return animationOptions&&(setColorAnimation(resColor.h,animationOptions.h,reduceFactor),setColorAnimation(resColor.s,animationOptions.s,reduceFactor),setColorAnimation(resColor.l,animationOptions.l,reduceFactor)),resColor}function setColorAnimation(colorValue,colorAnimation,reduceFactor){colorValue.enable=colorAnimation.enable;colorValue.enable?(colorValue.velocity=getRangeValue(colorAnimation.speed)/Constants_percentDenominator*reduceFactor,colorValue.decay=1-getRangeValue(colorAnimation.decay),colorValue.status=AnimationStatus.increasing,colorValue.loops=0,colorValue.maxLoops=getRangeValue(colorAnimation.count),colorValue.time=0,colorValue.delayTime=getRangeValue(colorAnimation.delay)*millisecondsToSeconds,colorAnimation.sync||(colorValue.velocity*=getRandom(),colorValue.value*=getRandom()),colorValue.initialValue=colorValue.value,colorValue.offset=setRangeValue(colorAnimation.offset)):colorValue.velocity=0}function updateColorValue(data,range,decrease,delta){if(!data||!data.enable||(data.maxLoops??0)>0&&(data.loops??0)>(data.maxLoops??0))return;if(data.time||(data.time=0),(data.delayTime??0)>0&&data.time<(data.delayTime??0)&&(data.time+=delta.value),(data.delayTime??0)>0&&data.time<(data.delayTime??0))return;const offset=data.offset?randomInRange(data.offset):0,velocity=(data.velocity??0)*delta.factor+3.6*offset,decay=data.decay??1,max=getRangeMax(range),min=getRangeMin(range);if(decrease&&data.status!==AnimationStatus.increasing){data.value-=velocity;const minValue=0;data.value<minValue&&(data.loops||(data.loops=0),data.loops++,data.status=AnimationStatus.increasing)}else data.value+=velocity,data.value>max&&(data.loops||(data.loops=0),data.loops++,decrease?data.status=AnimationStatus.decreasing:data.value-=max);data.velocity&&1!==decay&&(data.velocity*=decay),data.value=clamp(data.value,min,max)}function updateColor(color,delta){if(!color)return;const{h,s,l}=color,ranges_s={min:0,max:100},ranges_l={min:0,max:100};h&&updateColorValue(h,{min:0,max:360},!1,delta),s&&updateColorValue(s,ranges_s,!0,delta),l&&updateColorValue(l,ranges_l,!0,delta)}const CanvasUtils_origin_x=0,CanvasUtils_origin_y=0,defaultTransform_a=1,defaultTransform_b=0,defaultTransform_c=0,defaultTransform_d=1;function drawLine(context,begin,end){context.beginPath(),context.moveTo(begin.x,begin.y),context.lineTo(end.x,end.y),context.closePath()}function clear(context,dimension){context.clearRect(CanvasUtils_origin_x,CanvasUtils_origin_y,dimension.width,dimension.height)}function setTransformValue(factor,newFactor,key){const newValue=newFactor[key];void 0!==newValue&&(factor[key]=(factor[key]??1)*newValue)}function setStyle(canvas,style,important=!1){if(!style)return;if(!canvas)return;const elementStyle=canvas.style;if(elementStyle)for(const key in style){const value=style[key];value&&elementStyle.setProperty(key,value,important?"important":"")}}class Canvas{constructor(container){this.container=container,this._applyPostDrawUpdaters=particle=>{for(const updater of this._postDrawUpdaters)updater.afterDraw?.(particle)},this._applyPreDrawUpdaters=(ctx,particle,radius,zOpacity,colorStyles,transform)=>{for(const updater of this._preDrawUpdaters){if(updater.getColorStyles){const{fill,stroke}=updater.getColorStyles(particle,ctx,radius,zOpacity);fill&&(colorStyles.fill=fill),stroke&&(colorStyles.stroke=stroke)}if(updater.getTransformValues){const updaterTransform=updater.getTransformValues(particle);for(const key in updaterTransform)setTransformValue(transform,updaterTransform,key)}updater.beforeDraw?.(particle)}},this._applyResizePlugins=()=>{for(const plugin of this._resizePlugins)plugin.resize?.()},this._getPluginParticleColors=particle=>{let fColor,sColor;for(const plugin of this._colorPlugins)if(!fColor&&plugin.particleFillColor&&(fColor=rangeColorToHsl(plugin.particleFillColor(particle))),!sColor&&plugin.particleStrokeColor&&(sColor=rangeColorToHsl(plugin.particleStrokeColor(particle))),fColor&&sColor)break;return[fColor,sColor]},this._initCover=async()=>{const cover=this.container.actualOptions.backgroundMask.cover,color=cover.color;if(color){const coverRgb=rangeColorToRgb(color);if(coverRgb){const coverColor={...coverRgb,a:cover.opacity};this._coverColorStyle=getStyleFromRgb(coverColor,coverColor.a)}}else await new Promise(((resolve,reject)=>{if(!cover.image)return;const img=document.createElement("img");img.addEventListener("load",(()=>{this._coverImage={image:img,opacity:cover.opacity},resolve()})),img.addEventListener("error",(evt=>{reject(evt.error)})),img.src=cover.image}))},this._initStyle=()=>{const element=this.element,options=this.container.actualOptions;if(element){this._fullScreen?(this._originalStyle=deepExtend({},element.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const key in options.style){if(!key||!options.style)continue;const value=options.style[key];value&&element.style.setProperty(key,value,"important")}}},this._initTrail=async()=>{const trail=this.container.actualOptions.particles.move.trail,trailFill=trail.fill;if(!trail.enable)return;const opacity=1/trail.length;if(trailFill.color){const fillColor=rangeColorToRgb(trailFill.color);if(!fillColor)return;this._trailFill={color:{...fillColor},opacity}}else await new Promise(((resolve,reject)=>{if(!trailFill.image)return;const img=document.createElement("img");img.addEventListener("load",(()=>{this._trailFill={image:img,opacity},resolve()})),img.addEventListener("error",(evt=>{reject(evt.error)})),img.src=trailFill.image}))},this._paintBase=baseColor=>{this.draw((ctx=>function paintBase(context,dimension,baseColor){context.fillStyle=baseColor??"rgba(0,0,0,0)",context.fillRect(CanvasUtils_origin_x,CanvasUtils_origin_y,dimension.width,dimension.height)}(ctx,this.size,baseColor)))},this._paintImage=(image,opacity)=>{this.draw((ctx=>function paintImage(context,dimension,image,opacity){image&&(context.globalAlpha=opacity,context.drawImage(image,CanvasUtils_origin_x,CanvasUtils_origin_y,dimension.width,dimension.height),context.globalAlpha=1)}(ctx,this.size,image,opacity)))},this._repairStyle=()=>{const element=this.element;element&&(this._safeMutationObserver((observer=>observer.disconnect())),this._initStyle(),this.initBackground(),this._safeMutationObserver((observer=>{element&&element instanceof Node&&observer.observe(element,{attributes:!0})})))},this._resetOriginalStyle=()=>{const element=this.element,originalStyle=this._originalStyle;element&&originalStyle&&setStyle(element,originalStyle)},this._safeMutationObserver=callback=>{this._mutationObserver&&callback(this._mutationObserver)},this._setFullScreenStyle=()=>{const element=this.element;if(!element)return;setStyle(element,{position:"fixed",zIndex:this.container.actualOptions.fullScreen.zIndex.toString(10),top:"0",left:"0",width:"100%",height:"100%"},!0)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const options=this.container.actualOptions,trail=options.particles.move.trail,trailFill=this._trailFill;options.backgroundMask.enable?this.paint():trail.enable&&trail.length>0&&trailFill?trailFill.color?this._paintBase(getStyleFromRgb(trailFill.color,trailFill.opacity)):trailFill.image&&this._paintImage(trailFill.image,trailFill.opacity):options.clear&&this.draw((ctx=>{clear(ctx,this.size)}))}destroy(){if(this.stop(),this._generated){const element=this.element;element?.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(cb){const ctx=this._context;if(ctx)return cb(ctx)}drawAsync(cb){const ctx=this._context;if(ctx)return cb(ctx)}drawParticle(particle,delta){if(particle.spawning||particle.destroyed)return;const radius=particle.getRadius();if(radius<=0)return;const pfColor=particle.getFillColor(),psColor=particle.getStrokeColor()??pfColor;let[fColor,sColor]=this._getPluginParticleColors(particle);fColor||(fColor=pfColor),sColor||(sColor=psColor),(fColor||sColor)&&this.draw((ctx=>{const container=this.container,options=container.actualOptions,zIndexOptions=particle.options.zIndex,zIndexFactor=1-particle.zIndexFactor,zOpacityFactor=zIndexFactor**zIndexOptions.opacityRate,opacity=particle.bubble.opacity??particle.opacity?.value??1,zOpacity=opacity*zOpacityFactor,zStrokeOpacity=(particle.strokeOpacity??opacity)*zOpacityFactor,transform={},colorStyles={fill:fColor?getStyleFromHsl(fColor,zOpacity):void 0};colorStyles.stroke=sColor?getStyleFromHsl(sColor,zStrokeOpacity):colorStyles.fill,this._applyPreDrawUpdaters(ctx,particle,radius,zOpacity,colorStyles,transform),function drawParticle(data){const{container,context,particle,delta,colorStyles,backgroundMask,composite,radius,opacity,shadow,transform}=data,pos=particle.getPosition(),angle=particle.rotation+(particle.pathRotation?particle.velocity.angle:0),rotateData_sin=Math.sin(angle),rotateData_cos=Math.cos(angle),rotating=!!angle,transformData={a:rotateData_cos*(transform.a??defaultTransform_a),b:rotating?rotateData_sin*(transform.b??1):transform.b??defaultTransform_b,c:rotating?-rotateData_sin*(transform.c??1):transform.c??defaultTransform_c,d:rotateData_cos*(transform.d??defaultTransform_d)};context.setTransform(transformData.a,transformData.b,transformData.c,transformData.d,pos.x,pos.y),backgroundMask&&(context.globalCompositeOperation=composite);const shadowColor=particle.shadowColor;shadow.enable&&shadowColor&&(context.shadowBlur=shadow.blur,context.shadowColor=getStyleFromRgb(shadowColor),context.shadowOffsetX=shadow.offset.x,context.shadowOffsetY=shadow.offset.y),colorStyles.fill&&(context.fillStyle=colorStyles.fill);const strokeWidth=particle.strokeWidth??0;context.lineWidth=strokeWidth,colorStyles.stroke&&(context.strokeStyle=colorStyles.stroke);const drawData={container,context,particle,radius,opacity,delta,transformData,strokeWidth};!function drawShape(data){const{container,context,particle,radius,opacity,delta,strokeWidth,transformData}=data,minStrokeWidth=0;if(!particle.shape)return;const drawer=container.shapeDrawers.get(particle.shape);drawer&&(context.beginPath(),drawer.draw({context,particle,radius,opacity,delta,pixelRatio:container.retina.pixelRatio,transformData:{...transformData}}),particle.shapeClose&&context.closePath(),strokeWidth>minStrokeWidth&&context.stroke(),particle.shapeFill&&context.fill())}(drawData),function drawShapeAfterDraw(data){const{container,context,particle,radius,opacity,delta,transformData}=data;if(!particle.shape)return;const drawer=container.shapeDrawers.get(particle.shape);drawer?.afterDraw&&drawer.afterDraw({context,particle,radius,opacity,delta,pixelRatio:container.retina.pixelRatio,transformData:{...transformData}})}(drawData),function drawEffect(data){const{container,context,particle,radius,opacity,delta,transformData}=data;if(!particle.effect)return;const drawer=container.effectDrawers.get(particle.effect);drawer&&drawer.draw({context,particle,radius,opacity,delta,pixelRatio:container.retina.pixelRatio,transformData:{...transformData}})}(drawData),context.globalCompositeOperation="source-over",context.resetTransform()}({container,context:ctx,particle,delta,colorStyles,backgroundMask:options.backgroundMask.enable,composite:options.backgroundMask.composite,radius:radius*zIndexFactor**zIndexOptions.sizeRate,opacity:zOpacity,shadow:particle.options.shadow,transform}),this._applyPostDrawUpdaters(particle)}))}drawParticlePlugin(plugin,particle,delta){this.draw((ctx=>function drawParticlePlugin(context,plugin,particle,delta){plugin.drawParticle&&plugin.drawParticle(context,particle,delta)}(ctx,plugin,particle,delta)))}drawPlugin(plugin,delta){this.draw((ctx=>function drawPlugin(context,plugin,delta){plugin.draw&&plugin.draw(context,delta)}(ctx,plugin,delta)))}async init(){this._safeMutationObserver((obs=>obs.disconnect())),this._mutationObserver=function safeMutationObserver(callback){if(!isSsr()&&"undefined"!=typeof MutationObserver)return new MutationObserver(callback)}((records=>{for(const record of records)"attributes"===record.type&&"style"===record.attributeName&&this._repairStyle()})),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){getLogger().error(e)}this.initBackground(),this._safeMutationObserver((obs=>{this.element&&this.element instanceof Node&&obs.observe(this.element,{attributes:!0})})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const background=this.container.actualOptions.background,element=this.element;if(!element)return;const elementStyle=element.style;if(elementStyle){if(background.color){const color=rangeColorToRgb(background.color);elementStyle.backgroundColor=color?getStyleFromRgb(color,background.opacity):""}else elementStyle.backgroundColor="";elementStyle.backgroundImage=background.image||"",elementStyle.backgroundPosition=background.position||"",elementStyle.backgroundRepeat=background.repeat||"",elementStyle.backgroundSize=background.size||""}}initPlugins(){this._resizePlugins=[];for(const[,plugin]of this.container.plugins)plugin.resize&&this._resizePlugins.push(plugin),(plugin.particleFillColor??plugin.particleStrokeColor)&&this._colorPlugins.push(plugin)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const updater of this.container.particles.updaters)updater.afterDraw&&this._postDrawUpdaters.push(updater),(updater.getColorStyles??updater.getTransformValues??updater.beforeDraw)&&this._preDrawUpdaters.push(updater)}loadCanvas(canvas){this._generated&&this.element&&this.element.remove(),this._generated=canvas.dataset&&"generated"in canvas.dataset?"true"===canvas.dataset.generated:this._generated,this.element=canvas,this.element.ariaHidden="true",this._originalStyle=deepExtend({},this.element.style),this.size.height=canvas.offsetHeight,this.size.width=canvas.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver((obs=>{this.element&&this.element instanceof Node&&obs.observe(this.element,{attributes:!0})})),this.container.retina.init(),this.initBackground()}paint(){const options=this.container.actualOptions;this.draw((ctx=>{options.backgroundMask.enable&&options.backgroundMask.cover?(clear(ctx,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()}))}resize(){if(!this.element)return!1;const container=this.container,pxRatio=container.retina.pixelRatio,size=container.canvas.size,newSize_width=this.element.offsetWidth*pxRatio,newSize_height=this.element.offsetHeight*pxRatio;if(newSize_height===size.height&&newSize_width===size.width&&newSize_height===this.element.height&&newSize_width===this.element.width)return!1;const oldSize={...size};return this.element.width=size.width=this.element.offsetWidth*pxRatio,this.element.height=size.height=this.element.offsetHeight*pxRatio,this.container.started&&container.particles.setResizeFactor({width:size.width/oldSize.width,height:size.height/oldSize.height}),!0}stop(){this._safeMutationObserver((obs=>obs.disconnect())),this._mutationObserver=void 0,this.draw((ctx=>clear(ctx,this.size)))}async windowResize(){if(!this.element||!this.resize())return;const container=this.container,needsRefresh=container.updateActualOptions();container.particles.setDensity(),this._applyResizePlugins(),needsRefresh&&await container.refresh()}}var InteractivityDetect;!function(InteractivityDetect){InteractivityDetect.canvas="canvas",InteractivityDetect.parent="parent",InteractivityDetect.window="window"}(InteractivityDetect||(InteractivityDetect={}));function manageListener(element,event,handler,add,options){if(add){let addOptions={passive:!0};isBoolean(options)?addOptions.capture=options:void 0!==options&&(addOptions=options),element.addEventListener(event,handler,addOptions)}else{const removeOptions=options;element.removeEventListener(event,handler,removeOptions)}}class EventListeners{constructor(container){this.container=container,this._doMouseTouchClick=e=>{const container=this.container,options=container.actualOptions;if(this._canPush){const mouseInteractivity=container.interactivity.mouse,mousePos=mouseInteractivity.position;if(!mousePos)return;mouseInteractivity.clickPosition={...mousePos},mouseInteractivity.clickTime=(new Date).getTime();executeOnSingleOrMultiple(options.interactivity.events.onClick.mode,(mode=>this.container.handleClickMode(mode)))}if("touchend"===e.type){setTimeout((()=>this._mouseTouchFinish()),500)}},this._handleThemeChange=e=>{const mediaEvent=e,container=this.container,options=container.options,defaultThemes=options.defaultThemes,themeName=mediaEvent.matches?defaultThemes.dark:defaultThemes.light,theme=options.themes.find((theme=>theme.name===themeName));theme?.default.auto&&container.loadTheme(themeName)},this._handleVisibilityChange=()=>{const container=this.container,options=container.actualOptions;this._mouseTouchFinish(),options.pauseOnBlur&&(document?.hidden?(container.pageHidden=!0,container.pause()):(container.pageHidden=!1,container.animationStatus?container.play(!0):container.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const handleResize=async()=>{const canvas=this.container.canvas;await(canvas?.windowResize())};this._resizeTimeout=setTimeout((()=>{handleResize()}),this.container.actualOptions.interactivity.events.resize.delay*millisecondsToSeconds)},this._manageInteractivityListeners=(mouseLeaveTmpEvent,add)=>{const handlers=this._handlers,container=this.container,options=container.actualOptions,interactivityEl=container.interactivity.element;if(!interactivityEl)return;const html=interactivityEl,canvasEl=container.canvas.element;canvasEl&&(canvasEl.style.pointerEvents=html===canvasEl?"initial":"none"),(options.interactivity.events.onHover.enable||options.interactivity.events.onClick.enable)&&(manageListener(interactivityEl,mouseMoveEvent,handlers.mouseMove,add),manageListener(interactivityEl,"touchstart",handlers.touchStart,add),manageListener(interactivityEl,"touchmove",handlers.touchMove,add),options.interactivity.events.onClick.enable?(manageListener(interactivityEl,"touchend",handlers.touchEndClick,add),manageListener(interactivityEl,"pointerup",handlers.mouseUp,add),manageListener(interactivityEl,"pointerdown",handlers.mouseDown,add)):manageListener(interactivityEl,"touchend",handlers.touchEnd,add),manageListener(interactivityEl,mouseLeaveTmpEvent,handlers.mouseLeave,add),manageListener(interactivityEl,"touchcancel",handlers.touchCancel,add))},this._manageListeners=add=>{const handlers=this._handlers,container=this.container,detectType=container.actualOptions.interactivity.detectsOn,canvasEl=container.canvas.element;let mouseLeaveTmpEvent=mouseLeaveEvent;detectType===InteractivityDetect.window?(container.interactivity.element=window,mouseLeaveTmpEvent="pointerout"):detectType===InteractivityDetect.parent&&canvasEl?container.interactivity.element=canvasEl.parentElement??canvasEl.parentNode:container.interactivity.element=canvasEl,this._manageMediaMatch(add),this._manageResize(add),this._manageInteractivityListeners(mouseLeaveTmpEvent,add),document&&manageListener(document,"visibilitychange",handlers.visibilityChange,add,!1)},this._manageMediaMatch=add=>{const handlers=this._handlers,mediaMatch=safeMatchMedia("(prefers-color-scheme: dark)");mediaMatch&&(void 0===mediaMatch.addEventListener?void 0!==mediaMatch.addListener&&(add?mediaMatch.addListener(handlers.oldThemeChange):mediaMatch.removeListener(handlers.oldThemeChange)):manageListener(mediaMatch,"change",handlers.themeChange,add))},this._manageResize=add=>{const handlers=this._handlers,container=this.container;if(!container.actualOptions.interactivity.events.resize)return;if("undefined"==typeof ResizeObserver)return void manageListener(window,"resize",handlers.resize,add);const canvasEl=container.canvas.element;this._resizeObserver&&!add?(canvasEl&&this._resizeObserver.unobserve(canvasEl),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&add&&canvasEl&&(this._resizeObserver=new ResizeObserver((entries=>{entries.find((e=>e.target===canvasEl))&&this._handleWindowResize()})),this._resizeObserver.observe(canvasEl))},this._mouseDown=()=>{const{interactivity}=this.container;if(!interactivity)return;const{mouse}=interactivity;mouse.clicking=!0,mouse.downPosition=mouse.position},this._mouseTouchClick=e=>{const container=this.container,options=container.actualOptions,{mouse}=container.interactivity;mouse.inside=!0;let handled=!1;const mousePosition=mouse.position;if(mousePosition&&options.interactivity.events.onClick.enable){for(const[,plugin]of container.plugins)if(plugin.clickPositionValid&&(handled=plugin.clickPositionValid(mousePosition),handled))break;handled||this._doMouseTouchClick(e),mouse.clicking=!1}},this._mouseTouchFinish=()=>{const interactivity=this.container.interactivity;if(!interactivity)return;const mouse=interactivity.mouse;delete mouse.position,delete mouse.clickPosition,delete mouse.downPosition,interactivity.status=mouseLeaveEvent,mouse.inside=!1,mouse.clicking=!1},this._mouseTouchMove=e=>{const container=this.container,options=container.actualOptions,interactivity=container.interactivity,canvasEl=container.canvas.element;if(!interactivity?.element)return;let pos;if(interactivity.mouse.inside=!0,e.type.startsWith("pointer")){this._canPush=!0;const mouseEvent=e;if(interactivity.element===window){if(canvasEl){const clientRect=canvasEl.getBoundingClientRect();pos={x:mouseEvent.clientX-clientRect.left,y:mouseEvent.clientY-clientRect.top}}}else if(options.interactivity.detectsOn===InteractivityDetect.parent){const source=mouseEvent.target,target=mouseEvent.currentTarget;if(source&&target&&canvasEl){const sourceRect=source.getBoundingClientRect(),targetRect=target.getBoundingClientRect(),canvasRect=canvasEl.getBoundingClientRect();pos={x:mouseEvent.offsetX+2*sourceRect.left-(targetRect.left+canvasRect.left),y:mouseEvent.offsetY+2*sourceRect.top-(targetRect.top+canvasRect.top)}}else pos={x:mouseEvent.offsetX??mouseEvent.clientX,y:mouseEvent.offsetY??mouseEvent.clientY}}else mouseEvent.target===canvasEl&&(pos={x:mouseEvent.offsetX??mouseEvent.clientX,y:mouseEvent.offsetY??mouseEvent.clientY})}else if(this._canPush="touchmove"!==e.type,canvasEl){const touchEvent=e,lengthOffset=1,lastTouch=touchEvent.touches[touchEvent.touches.length-lengthOffset],canvasRect=canvasEl.getBoundingClientRect(),defaultCoordinate=0;pos={x:lastTouch.clientX-(canvasRect.left??defaultCoordinate),y:lastTouch.clientY-(canvasRect.top??defaultCoordinate)}}const pxRatio=container.retina.pixelRatio;pos&&(pos.x*=pxRatio,pos.y*=pxRatio),interactivity.mouse.position=pos,interactivity.status=mouseMoveEvent},this._touchEnd=e=>{const evt=e,touches=Array.from(evt.changedTouches);for(const touch of touches)this._touches.delete(touch.identifier);this._mouseTouchFinish()},this._touchEndClick=e=>{const evt=e,touches=Array.from(evt.changedTouches);for(const touch of touches)this._touches.delete(touch.identifier);this._mouseTouchClick(e)},this._touchStart=e=>{const evt=e,touches=Array.from(evt.changedTouches);for(const touch of touches)this._touches.set(touch.identifier,performance.now());this._mouseTouchMove(e)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:e=>this._mouseTouchMove(e),mouseUp:e=>this._mouseTouchClick(e),touchStart:e=>this._touchStart(e),touchMove:e=>this._mouseTouchMove(e),touchEnd:e=>this._touchEnd(e),touchCancel:e=>this._touchEnd(e),touchEndClick:e=>this._touchEndClick(e),visibilityChange:()=>this._handleVisibilityChange(),themeChange:e=>this._handleThemeChange(e),oldThemeChange:e=>this._handleThemeChange(e),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var EventType,DivType;!function(EventType){EventType.configAdded="configAdded",EventType.containerInit="containerInit",EventType.particlesSetup="particlesSetup",EventType.containerStarted="containerStarted",EventType.containerStopped="containerStopped",EventType.containerDestroyed="containerDestroyed",EventType.containerPaused="containerPaused",EventType.containerPlay="containerPlay",EventType.containerBuilt="containerBuilt",EventType.particleAdded="particleAdded",EventType.particleDestroyed="particleDestroyed",EventType.particleRemoved="particleRemoved"}(EventType||(EventType={}));class OptionsColor{constructor(){this.value=""}static create(source,data){const color=new OptionsColor;return color.load(source),void 0!==data&&(isString(data)||isArray(data)?color.load({value:data}):color.load(data)),color}load(data){void 0!==data?.value&&(this.value=data.value)}}class Background{constructor(){this.color=new OptionsColor,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(data){data&&(void 0!==data.color&&(this.color=OptionsColor.create(this.color,data.color)),void 0!==data.image&&(this.image=data.image),void 0!==data.position&&(this.position=data.position),void 0!==data.repeat&&(this.repeat=data.repeat),void 0!==data.size&&(this.size=data.size),void 0!==data.opacity&&(this.opacity=data.opacity))}}class BackgroundMaskCover{constructor(){this.opacity=1}load(data){data&&(void 0!==data.color&&(this.color=OptionsColor.create(this.color,data.color)),void 0!==data.image&&(this.image=data.image),void 0!==data.opacity&&(this.opacity=data.opacity))}}class BackgroundMask{constructor(){this.composite="destination-out",this.cover=new BackgroundMaskCover,this.enable=!1}load(data){if(data){if(void 0!==data.composite&&(this.composite=data.composite),void 0!==data.cover){const cover=data.cover,color=isString(data.cover)?{color:data.cover}:data.cover;this.cover.load(void 0!==cover.color||void 0!==cover.image?cover:{color})}void 0!==data.enable&&(this.enable=data.enable)}}}class FullScreen{constructor(){this.enable=!0,this.zIndex=0}load(data){data&&(void 0!==data.enable&&(this.enable=data.enable),void 0!==data.zIndex&&(this.zIndex=data.zIndex))}}class ClickEvent{constructor(){this.enable=!1,this.mode=[]}load(data){data&&(void 0!==data.enable&&(this.enable=data.enable),void 0!==data.mode&&(this.mode=data.mode))}}!function(DivType){DivType.circle="circle",DivType.rectangle="rectangle"}(DivType||(DivType={}));class DivEvent{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=DivType.circle}load(data){data&&(void 0!==data.selectors&&(this.selectors=data.selectors),void 0!==data.enable&&(this.enable=data.enable),void 0!==data.mode&&(this.mode=data.mode),void 0!==data.type&&(this.type=data.type))}}class Parallax{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(data){data&&(void 0!==data.enable&&(this.enable=data.enable),void 0!==data.force&&(this.force=data.force),void 0!==data.smooth&&(this.smooth=data.smooth))}}class HoverEvent{constructor(){this.enable=!1,this.mode=[],this.parallax=new Parallax}load(data){data&&(void 0!==data.enable&&(this.enable=data.enable),void 0!==data.mode&&(this.mode=data.mode),this.parallax.load(data.parallax))}}class ResizeEvent{constructor(){this.delay=.5,this.enable=!0}load(data){void 0!==data&&(void 0!==data.delay&&(this.delay=data.delay),void 0!==data.enable&&(this.enable=data.enable))}}class Events{constructor(){this.onClick=new ClickEvent,this.onDiv=new DivEvent,this.onHover=new HoverEvent,this.resize=new ResizeEvent}load(data){if(!data)return;this.onClick.load(data.onClick);const onDiv=data.onDiv;void 0!==onDiv&&(this.onDiv=executeOnSingleOrMultiple(onDiv,(t=>{const tmp=new DivEvent;return tmp.load(t),tmp}))),this.onHover.load(data.onHover),this.resize.load(data.resize)}}class Modes{constructor(engine,container){this._engine=engine,this._container=container}load(data){if(!data)return;if(!this._container)return;const interactors=this._engine.interactors.get(this._container);if(interactors)for(const interactor of interactors)interactor.loadModeOptions&&interactor.loadModeOptions(this,data)}}class Interactivity{constructor(engine,container){this.detectsOn=InteractivityDetect.window,this.events=new Events,this.modes=new Modes(engine,container)}load(data){if(!data)return;const detectsOn=data.detectsOn;void 0!==detectsOn&&(this.detectsOn=detectsOn),this.events.load(data.events),this.modes.load(data.modes)}}class ManualParticle{load(data){data&&(data.position&&(this.position={x:data.position.x??50,y:data.position.y??50,mode:data.position.mode??PixelMode.percent}),data.options&&(this.options=deepExtend({},data.options)))}}var ResponsiveMode,ThemeMode,CollisionMode,OutMode,LimitMode,InteractorType,ParticleOutType;!function(ResponsiveMode){ResponsiveMode.screen="screen",ResponsiveMode.canvas="canvas"}(ResponsiveMode||(ResponsiveMode={}));class Responsive{constructor(){this.maxWidth=1/0,this.options={},this.mode=ResponsiveMode.canvas}load(data){data&&(void 0!==data.maxWidth&&(this.maxWidth=data.maxWidth),void 0!==data.mode&&(data.mode===ResponsiveMode.screen?this.mode=ResponsiveMode.screen:this.mode=ResponsiveMode.canvas),void 0!==data.options&&(this.options=deepExtend({},data.options)))}}!function(ThemeMode){ThemeMode.any="any",ThemeMode.dark="dark",ThemeMode.light="light"}(ThemeMode||(ThemeMode={}));class ThemeDefault{constructor(){this.auto=!1,this.mode=ThemeMode.any,this.value=!1}load(data){data&&(void 0!==data.auto&&(this.auto=data.auto),void 0!==data.mode&&(this.mode=data.mode),void 0!==data.value&&(this.value=data.value))}}class Theme{constructor(){this.name="",this.default=new ThemeDefault}load(data){data&&(void 0!==data.name&&(this.name=data.name),this.default.load(data.default),void 0!==data.options&&(this.options=deepExtend({},data.options)))}}class AnimationOptions{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(data){data&&(void 0!==data.count&&(this.count=setRangeValue(data.count)),void 0!==data.enable&&(this.enable=data.enable),void 0!==data.speed&&(this.speed=setRangeValue(data.speed)),void 0!==data.decay&&(this.decay=setRangeValue(data.decay)),void 0!==data.delay&&(this.delay=setRangeValue(data.delay)),void 0!==data.sync&&(this.sync=data.sync))}}class RangedAnimationOptions extends AnimationOptions{constructor(){super(),this.mode=AnimationMode.auto,this.startValue=StartValueType.random}load(data){super.load(data),data&&(void 0!==data.mode&&(this.mode=data.mode),void 0!==data.startValue&&(this.startValue=data.startValue))}}class ColorAnimation extends AnimationOptions{constructor(){super(),this.offset=0,this.sync=!0}load(data){super.load(data),data&&void 0!==data.offset&&(this.offset=setRangeValue(data.offset))}}class HslAnimation{constructor(){this.h=new ColorAnimation,this.s=new ColorAnimation,this.l=new ColorAnimation}load(data){data&&(this.h.load(data.h),this.s.load(data.s),this.l.load(data.l))}}class AnimatableColor extends OptionsColor{constructor(){super(),this.animation=new HslAnimation}static create(source,data){const color=new AnimatableColor;return color.load(source),void 0!==data&&(isString(data)||isArray(data)?color.load({value:data}):color.load(data)),color}load(data){if(super.load(data),!data)return;const colorAnimation=data.animation;void 0!==colorAnimation&&(void 0!==colorAnimation.enable?this.animation.h.load(colorAnimation):this.animation.load(data.animation))}}!function(CollisionMode){CollisionMode.absorb="absorb",CollisionMode.bounce="bounce",CollisionMode.destroy="destroy"}(CollisionMode||(CollisionMode={}));class CollisionsAbsorb{constructor(){this.speed=2}load(data){data&&void 0!==data.speed&&(this.speed=data.speed)}}class CollisionsOverlap{constructor(){this.enable=!0,this.retries=0}load(data){data&&(void 0!==data.enable&&(this.enable=data.enable),void 0!==data.retries&&(this.retries=data.retries))}}class ValueWithRandom{constructor(){this.value=0}load(data){data&&void 0!==data.value&&(this.value=setRangeValue(data.value))}}class AnimationValueWithRandom extends ValueWithRandom{constructor(){super(),this.animation=new AnimationOptions}load(data){if(super.load(data),!data)return;const animation=data.animation;void 0!==animation&&this.animation.load(animation)}}class RangedAnimationValueWithRandom extends AnimationValueWithRandom{constructor(){super(),this.animation=new RangedAnimationOptions}load(data){super.load(data)}}class ParticlesBounceFactor extends ValueWithRandom{constructor(){super(),this.value=1}}class ParticlesBounce{constructor(){this.horizontal=new ParticlesBounceFactor,this.vertical=new ParticlesBounceFactor}load(data){data&&(this.horizontal.load(data.horizontal),this.vertical.load(data.vertical))}}class Collisions{constructor(){this.absorb=new CollisionsAbsorb,this.bounce=new ParticlesBounce,this.enable=!1,this.maxSpeed=50,this.mode=CollisionMode.bounce,this.overlap=new CollisionsOverlap}load(data){data&&(this.absorb.load(data.absorb),this.bounce.load(data.bounce),void 0!==data.enable&&(this.enable=data.enable),void 0!==data.maxSpeed&&(this.maxSpeed=setRangeValue(data.maxSpeed)),void 0!==data.mode&&(this.mode=data.mode),this.overlap.load(data.overlap))}}class Effect{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(data){if(!data)return;const options=data.options;if(void 0!==options)for(const effect in options){const item=options[effect];item&&(this.options[effect]=deepExtend(this.options[effect]??{},item))}void 0!==data.close&&(this.close=data.close),void 0!==data.fill&&(this.fill=data.fill),void 0!==data.type&&(this.type=data.type)}}class MoveAngle{constructor(){this.offset=0,this.value=90}load(data){data&&(void 0!==data.offset&&(this.offset=setRangeValue(data.offset)),void 0!==data.value&&(this.value=setRangeValue(data.value)))}}class MoveAttract{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(data){if(data&&(void 0!==data.distance&&(this.distance=setRangeValue(data.distance)),void 0!==data.enable&&(this.enable=data.enable),data.rotate)){const rotateX=data.rotate.x;void 0!==rotateX&&(this.rotate.x=rotateX);const rotateY=data.rotate.y;void 0!==rotateY&&(this.rotate.y=rotateY)}}}class MoveCenter{constructor(){this.x=50,this.y=50,this.mode=PixelMode.percent,this.radius=0}load(data){data&&(void 0!==data.x&&(this.x=data.x),void 0!==data.y&&(this.y=data.y),void 0!==data.mode&&(this.mode=data.mode),void 0!==data.radius&&(this.radius=data.radius))}}class MoveGravity{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(data){data&&(void 0!==data.acceleration&&(this.acceleration=setRangeValue(data.acceleration)),void 0!==data.enable&&(this.enable=data.enable),void 0!==data.inverse&&(this.inverse=data.inverse),void 0!==data.maxSpeed&&(this.maxSpeed=setRangeValue(data.maxSpeed)))}}class MovePath{constructor(){this.clamp=!0,this.delay=new ValueWithRandom,this.enable=!1,this.options={}}load(data){data&&(void 0!==data.clamp&&(this.clamp=data.clamp),this.delay.load(data.delay),void 0!==data.enable&&(this.enable=data.enable),this.generator=data.generator,data.options&&(this.options=deepExtend(this.options,data.options)))}}class MoveTrailFill{load(data){data&&(void 0!==data.color&&(this.color=OptionsColor.create(this.color,data.color)),void 0!==data.image&&(this.image=data.image))}}class MoveTrail{constructor(){this.enable=!1,this.length=10,this.fill=new MoveTrailFill}load(data){data&&(void 0!==data.enable&&(this.enable=data.enable),void 0!==data.fill&&this.fill.load(data.fill),void 0!==data.length&&(this.length=data.length))}}!function(OutMode){OutMode.bounce="bounce",OutMode.none="none",OutMode.out="out",OutMode.destroy="destroy",OutMode.split="split"}(OutMode||(OutMode={}));class OutModes{constructor(){this.default=OutMode.out}load(data){data&&(void 0!==data.default&&(this.default=data.default),this.bottom=data.bottom??data.default,this.left=data.left??data.default,this.right=data.right??data.default,this.top=data.top??data.default)}}class Spin{constructor(){this.acceleration=0,this.enable=!1}load(data){data&&(void 0!==data.acceleration&&(this.acceleration=setRangeValue(data.acceleration)),void 0!==data.enable&&(this.enable=data.enable),data.position&&(this.position=deepExtend({},data.position)))}}class Move{constructor(){this.angle=new MoveAngle,this.attract=new MoveAttract,this.center=new MoveCenter,this.decay=0,this.distance={},this.direction=MoveDirection.none,this.drift=0,this.enable=!1,this.gravity=new MoveGravity,this.path=new MovePath,this.outModes=new OutModes,this.random=!1,this.size=!1,this.speed=2,this.spin=new Spin,this.straight=!1,this.trail=new MoveTrail,this.vibrate=!1,this.warp=!1}load(data){if(!data)return;this.angle.load(isNumber(data.angle)?{value:data.angle}:data.angle),this.attract.load(data.attract),this.center.load(data.center),void 0!==data.decay&&(this.decay=setRangeValue(data.decay)),void 0!==data.direction&&(this.direction=data.direction),void 0!==data.distance&&(this.distance=isNumber(data.distance)?{horizontal:data.distance,vertical:data.distance}:{...data.distance}),void 0!==data.drift&&(this.drift=setRangeValue(data.drift)),void 0!==data.enable&&(this.enable=data.enable),this.gravity.load(data.gravity);const outModes=data.outModes;void 0!==outModes&&(isObject(outModes)?this.outModes.load(outModes):this.outModes.load({default:outModes})),this.path.load(data.path),void 0!==data.random&&(this.random=data.random),void 0!==data.size&&(this.size=data.size),void 0!==data.speed&&(this.speed=setRangeValue(data.speed)),this.spin.load(data.spin),void 0!==data.straight&&(this.straight=data.straight),this.trail.load(data.trail),void 0!==data.vibrate&&(this.vibrate=data.vibrate),void 0!==data.warp&&(this.warp=data.warp)}}class OpacityAnimation extends RangedAnimationOptions{constructor(){super(),this.destroy=DestroyType.none,this.speed=2}load(data){super.load(data),data&&void 0!==data.destroy&&(this.destroy=data.destroy)}}class Opacity extends RangedAnimationValueWithRandom{constructor(){super(),this.animation=new OpacityAnimation,this.value=1}load(data){if(!data)return;super.load(data);const animation=data.animation;void 0!==animation&&this.animation.load(animation)}}class ParticlesDensity{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(data){if(!data)return;void 0!==data.enable&&(this.enable=data.enable);const width=data.width;void 0!==width&&(this.width=width);const height=data.height;void 0!==height&&(this.height=height)}}!function(LimitMode){LimitMode.delete="delete",LimitMode.wait="wait"}(LimitMode||(LimitMode={}));class ParticlesNumberLimit{constructor(){this.mode=LimitMode.delete,this.value=0}load(data){data&&(void 0!==data.mode&&(this.mode=data.mode),void 0!==data.value&&(this.value=data.value))}}class ParticlesNumber{constructor(){this.density=new ParticlesDensity,this.limit=new ParticlesNumberLimit,this.value=0}load(data){data&&(this.density.load(data.density),this.limit.load(data.limit),void 0!==data.value&&(this.value=data.value))}}class Shadow{constructor(){this.blur=0,this.color=new OptionsColor,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(data){data&&(void 0!==data.blur&&(this.blur=data.blur),this.color=OptionsColor.create(this.color,data.color),void 0!==data.enable&&(this.enable=data.enable),void 0!==data.offset&&(void 0!==data.offset.x&&(this.offset.x=data.offset.x),void 0!==data.offset.y&&(this.offset.y=data.offset.y)))}}class Shape{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(data){if(!data)return;const options=data.options;if(void 0!==options)for(const shape in options){const item=options[shape];item&&(this.options[shape]=deepExtend(this.options[shape]??{},item))}void 0!==data.close&&(this.close=data.close),void 0!==data.fill&&(this.fill=data.fill),void 0!==data.type&&(this.type=data.type)}}class SizeAnimation extends RangedAnimationOptions{constructor(){super(),this.destroy=DestroyType.none,this.speed=5}load(data){super.load(data),data&&void 0!==data.destroy&&(this.destroy=data.destroy)}}class Size extends RangedAnimationValueWithRandom{constructor(){super(),this.animation=new SizeAnimation,this.value=3}load(data){if(super.load(data),!data)return;const animation=data.animation;void 0!==animation&&this.animation.load(animation)}}class Stroke{constructor(){this.width=0}load(data){data&&(void 0!==data.color&&(this.color=AnimatableColor.create(this.color,data.color)),void 0!==data.width&&(this.width=setRangeValue(data.width)),void 0!==data.opacity&&(this.opacity=setRangeValue(data.opacity)))}}class ZIndex extends ValueWithRandom{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(data){super.load(data),data&&(void 0!==data.opacityRate&&(this.opacityRate=data.opacityRate),void 0!==data.sizeRate&&(this.sizeRate=data.sizeRate),void 0!==data.velocityRate&&(this.velocityRate=data.velocityRate))}}class ParticlesOptions{constructor(engine,container){this._engine=engine,this._container=container,this.bounce=new ParticlesBounce,this.collisions=new Collisions,this.color=new AnimatableColor,this.color.value="#fff",this.effect=new Effect,this.groups={},this.move=new Move,this.number=new ParticlesNumber,this.opacity=new Opacity,this.reduceDuplicates=!1,this.shadow=new Shadow,this.shape=new Shape,this.size=new Size,this.stroke=new Stroke,this.zIndex=new ZIndex}load(data){if(!data)return;if(void 0!==data.groups)for(const group of Object.keys(data.groups)){if(!Object.hasOwn(data.groups,group))continue;const item=data.groups[group];void 0!==item&&(this.groups[group]=deepExtend(this.groups[group]??{},item))}void 0!==data.reduceDuplicates&&(this.reduceDuplicates=data.reduceDuplicates),this.bounce.load(data.bounce),this.color.load(AnimatableColor.create(this.color,data.color)),this.effect.load(data.effect),this.move.load(data.move),this.number.load(data.number),this.opacity.load(data.opacity),this.shape.load(data.shape),this.size.load(data.size),this.shadow.load(data.shadow),this.zIndex.load(data.zIndex),this.collisions.load(data.collisions),void 0!==data.interactivity&&(this.interactivity=deepExtend({},data.interactivity));const strokeToLoad=data.stroke;if(strokeToLoad&&(this.stroke=executeOnSingleOrMultiple(strokeToLoad,(t=>{const tmp=new Stroke;return tmp.load(t),tmp}))),this._container){const updaters=this._engine.updaters.get(this._container);if(updaters)for(const updater of updaters)updater.loadOptions&&updater.loadOptions(this,data);const interactors=this._engine.interactors.get(this._container);if(interactors)for(const interactor of interactors)interactor.loadParticlesOptions&&interactor.loadParticlesOptions(this,data)}}}function loadOptions(options,...sourceOptionsArr){for(const sourceOptions of sourceOptionsArr)options.load(sourceOptions)}function loadParticlesOptions(engine,container,...sourceOptionsArr){const options=new ParticlesOptions(engine,container);return loadOptions(options,...sourceOptionsArr),options}class Options{constructor(engine,container){this._findDefaultTheme=mode=>this.themes.find((theme=>theme.default.value&&theme.default.mode===mode))??this.themes.find((theme=>theme.default.value&&theme.default.mode===ThemeMode.any)),this._importPreset=preset=>{this.load(this._engine.getPreset(preset))},this._engine=engine,this._container=container,this.autoPlay=!0,this.background=new Background,this.backgroundMask=new BackgroundMask,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new FullScreen,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Interactivity(engine,container),this.manualParticles=[],this.particles=loadParticlesOptions(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(data){if(!data)return;void 0!==data.preset&&executeOnSingleOrMultiple(data.preset,(preset=>this._importPreset(preset))),void 0!==data.autoPlay&&(this.autoPlay=data.autoPlay),void 0!==data.clear&&(this.clear=data.clear),void 0!==data.key&&(this.key=data.key),void 0!==data.name&&(this.name=data.name),void 0!==data.delay&&(this.delay=setRangeValue(data.delay));const detectRetina=data.detectRetina;void 0!==detectRetina&&(this.detectRetina=detectRetina),void 0!==data.duration&&(this.duration=setRangeValue(data.duration));const fpsLimit=data.fpsLimit;void 0!==fpsLimit&&(this.fpsLimit=fpsLimit),void 0!==data.pauseOnBlur&&(this.pauseOnBlur=data.pauseOnBlur),void 0!==data.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=data.pauseOnOutsideViewport),void 0!==data.zLayers&&(this.zLayers=data.zLayers),this.background.load(data.background);const fullScreen=data.fullScreen;isBoolean(fullScreen)?this.fullScreen.enable=fullScreen:this.fullScreen.load(fullScreen),this.backgroundMask.load(data.backgroundMask),this.interactivity.load(data.interactivity),data.manualParticles&&(this.manualParticles=data.manualParticles.map((t=>{const tmp=new ManualParticle;return tmp.load(t),tmp}))),this.particles.load(data.particles),this.style=deepExtend(this.style,data.style),this._engine.loadOptions(this,data),void 0!==data.smooth&&(this.smooth=data.smooth);const interactors=this._engine.interactors.get(this._container);if(interactors)for(const interactor of interactors)interactor.loadOptions&&interactor.loadOptions(this,data);if(void 0!==data.responsive)for(const responsive of data.responsive){const optResponsive=new Responsive;optResponsive.load(responsive),this.responsive.push(optResponsive)}if(this.responsive.sort(((a,b)=>a.maxWidth-b.maxWidth)),void 0!==data.themes)for(const theme of data.themes){const existingTheme=this.themes.find((t=>t.name===theme.name));if(existingTheme)existingTheme.load(theme);else{const optTheme=new Theme;optTheme.load(theme),this.themes.push(optTheme)}}this.defaultThemes.dark=this._findDefaultTheme(ThemeMode.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(ThemeMode.light)?.name}setResponsive(width,pxRatio,defaultOptions){this.load(defaultOptions);const responsiveOptions=this.responsive.find((t=>t.mode===ResponsiveMode.screen&&screen?t.maxWidth>screen.availWidth:t.maxWidth*pxRatio>width));return this.load(responsiveOptions?.options),responsiveOptions?.maxWidth}setTheme(name){if(name){const chosenTheme=this.themes.find((theme=>theme.name===name));chosenTheme&&this.load(chosenTheme.options)}else{const mediaMatch=safeMatchMedia("(prefers-color-scheme: dark)"),clientDarkMode=mediaMatch?.matches,defaultTheme=this._findDefaultTheme(clientDarkMode?ThemeMode.dark:ThemeMode.light);defaultTheme&&this.load(defaultTheme.options)}}}!function(InteractorType){InteractorType.external="external",InteractorType.particles="particles"}(InteractorType||(InteractorType={}));class InteractionManager{constructor(engine,container){this.container=container,this._engine=engine,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(delta){for(const interactor of this._externalInteractors)interactor.isEnabled()&&interactor.interact(delta)}handleClickMode(mode){for(const interactor of this._externalInteractors)interactor.handleClickMode?.(mode)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const interactor of this._interactors){switch(interactor.type){case InteractorType.external:this._externalInteractors.push(interactor);break;case InteractorType.particles:this._particleInteractors.push(interactor)}interactor.init()}}particlesInteract(particle,delta){for(const interactor of this._externalInteractors)interactor.clear(particle,delta);for(const interactor of this._particleInteractors)interactor.isEnabled(particle)&&interactor.interact(particle,delta)}reset(particle){for(const interactor of this._externalInteractors)interactor.isEnabled()&&interactor.reset(particle);for(const interactor of this._particleInteractors)interactor.isEnabled(particle)&&interactor.reset(particle)}}!function(ParticleOutType){ParticleOutType.normal="normal",ParticleOutType.inside="inside",ParticleOutType.outside="outside"}(ParticleOutType||(ParticleOutType={}));function fixOutMode(data){if(!isInArray(data.outMode,data.checkModes))return;const diameter=2*data.radius;data.coord>data.maxCoord-diameter?data.setCb(-data.radius):data.coord<diameter&&data.setCb(data.radius)}class Particle{constructor(engine,container){this.container=container,this._calcPosition=(container,position,zIndex,tryCount=0)=>{for(const[,plugin]of container.plugins){const pluginPos=void 0!==plugin.particlePosition?plugin.particlePosition(position,this):void 0;if(pluginPos)return Vector3d.create(pluginPos.x,pluginPos.y,zIndex)}const exactPosition=calcExactPositionOrRandomFromSize({size:container.canvas.size,position}),pos=Vector3d.create(exactPosition.x,exactPosition.y,zIndex),radius=this.getRadius(),outModes=this.options.move.outModes,fixHorizontal=outMode=>{fixOutMode({outMode,checkModes:[OutMode.bounce],coord:pos.x,maxCoord:container.canvas.size.width,setCb:value=>pos.x+=value,radius})},fixVertical=outMode=>{fixOutMode({outMode,checkModes:[OutMode.bounce],coord:pos.y,maxCoord:container.canvas.size.height,setCb:value=>pos.y+=value,radius})};if(fixHorizontal(outModes.left??outModes.default),fixHorizontal(outModes.right??outModes.default),fixVertical(outModes.top??outModes.default),fixVertical(outModes.bottom??outModes.default),this._checkOverlap(pos,tryCount)){const increment=1;return this._calcPosition(container,void 0,zIndex,tryCount+increment)}return pos},this._calculateVelocity=()=>{const res=function getParticleBaseVelocity(direction){const baseVelocity=Vector.origin;return baseVelocity.length=1,baseVelocity.angle=direction,baseVelocity}(this.direction).copy(),moveOptions=this.options.move;if(moveOptions.direction===MoveDirection.inside||moveOptions.direction===MoveDirection.outside)return res;const rad=degToRad(getRangeValue(moveOptions.angle.value)),radOffset=degToRad(getRangeValue(moveOptions.angle.offset)),range={left:radOffset-.5*rad,right:radOffset+.5*rad};return moveOptions.straight||(res.angle+=randomInRange(setRangeValue(range.left,range.right))),moveOptions.random&&"number"==typeof moveOptions.speed&&(res.length*=getRandom()),res},this._checkOverlap=(pos,tryCount=0)=>{const collisionsOptions=this.options.collisions,radius=this.getRadius();if(!collisionsOptions.enable)return!1;const overlapOptions=collisionsOptions.overlap;if(overlapOptions.enable)return!1;const retries=overlapOptions.retries;if(retries>=0&&tryCount>retries)throw new Error(`${errorPrefix} particle is overlapping and can't be placed`);return!!this.container.particles.find((particle=>getDistance(pos,particle.position)<radius+particle.getRadius()))},this._getRollColor=color=>{if(!color||!this.roll||!this.backColor&&!this.roll.alter)return color;const backFactor=this.roll.horizontal&&this.roll.vertical?2:1,backSum=this.roll.horizontal?.5*Math.PI:0;return Math.floor(((this.roll.angle??0)+backSum)/(Math.PI/backFactor))%2?this.backColor?this.backColor:this.roll.alter?function alterHsl(color,type,value){return{h:color.h,s:color.s,l:color.l+(type===AlterType.darken?-1:1)*value}}(color,this.roll.alter.type,this.roll.alter.value):color:color},this._initPosition=position=>{const container=this.container,zIndexValue=getRangeValue(this.options.zIndex.value);this.position=this._calcPosition(container,position,clamp(zIndexValue,0,container.zLayers)),this.initialPosition=this.position.copy();const canvasSize=container.canvas.size;switch(this.moveCenter={...getPosition(this.options.move.center,canvasSize),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??PixelMode.percent},this.direction=function getParticleDirectionAngle(direction,position,center){if(isNumber(direction))return degToRad(direction);switch(direction){case MoveDirection.top:return.5*-Math.PI;case MoveDirection.topRight:return.25*-Math.PI;case MoveDirection.right:return 0;case MoveDirection.bottomRight:return.25*Math.PI;case MoveDirection.bottom:return.5*Math.PI;case MoveDirection.bottomLeft:return.75*Math.PI;case MoveDirection.left:return Math.PI;case MoveDirection.topLeft:return.75*-Math.PI;case MoveDirection.inside:return Math.atan2(center.y-position.y,center.x-position.x);case MoveDirection.outside:return Math.atan2(position.y-center.y,position.x-center.x);default:return getRandom()*doublePI}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case MoveDirection.inside:this.outType=ParticleOutType.inside;break;case MoveDirection.outside:this.outType=ParticleOutType.outside}this.offset=Vector.origin},this._engine=engine}destroy(override){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const container=this.container,pathGenerator=this.pathGenerator,shapeDrawer=container.shapeDrawers.get(this.shape);shapeDrawer?.particleDestroy?.(this);for(const[,plugin]of container.plugins)plugin.particleDestroyed?.(this,override);for(const updater of container.particles.updaters)updater.particleDestroyed?.(this,override);pathGenerator?.reset(this),this._engine.dispatchEvent(EventType.particleDestroyed,{container:this.container,data:{particle:this}})}draw(delta){const container=this.container,canvas=container.canvas;for(const[,plugin]of container.plugins)canvas.drawParticlePlugin(plugin,this,delta);canvas.drawParticle(this,delta)}getFillColor(){return this._getRollColor(this.bubble.color??getHslFromAnimation(this.color))}getMass(){return this.getRadius()**2*Math.PI*.5}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??getHslFromAnimation(this.strokeColor))}init(id,position,overrideOptions,group){const container=this.container,engine=this._engine;this.id=id,this.group=group,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=ParticleOutType.normal,this.ignoresResizeRatio=!0;const pxRatio=container.retina.pixelRatio,mainOptions=container.actualOptions,particlesOptions=loadParticlesOptions(this._engine,container,mainOptions.particles),{reduceDuplicates}=particlesOptions,effectType=particlesOptions.effect.type,shapeType=particlesOptions.shape.type;this.effect=itemFromSingleOrMultiple(effectType,this.id,reduceDuplicates),this.shape=itemFromSingleOrMultiple(shapeType,this.id,reduceDuplicates);const effectOptions=particlesOptions.effect,shapeOptions=particlesOptions.shape;if(overrideOptions){if(overrideOptions.effect?.type){const effect=itemFromSingleOrMultiple(overrideOptions.effect.type,this.id,reduceDuplicates);effect&&(this.effect=effect,effectOptions.load(overrideOptions.effect))}if(overrideOptions.shape?.type){const shape=itemFromSingleOrMultiple(overrideOptions.shape.type,this.id,reduceDuplicates);shape&&(this.shape=shape,shapeOptions.load(overrideOptions.shape))}}if("random"===this.effect){const availableEffects=[...this.container.effectDrawers.keys()];this.effect=availableEffects[Math.floor(Math.random()*availableEffects.length)]}if("random"===this.shape){const availableShapes=[...this.container.shapeDrawers.keys()];this.shape=availableShapes[Math.floor(Math.random()*availableShapes.length)]}this.effectData=function loadEffectData(effect,effectOptions,id,reduceDuplicates){const effectData=effectOptions.options[effect];if(effectData)return deepExtend({close:effectOptions.close,fill:effectOptions.fill},itemFromSingleOrMultiple(effectData,id,reduceDuplicates))}(this.effect,effectOptions,this.id,reduceDuplicates),this.shapeData=function loadShapeData(shape,shapeOptions,id,reduceDuplicates){const shapeData=shapeOptions.options[shape];if(shapeData)return deepExtend({close:shapeOptions.close,fill:shapeOptions.fill},itemFromSingleOrMultiple(shapeData,id,reduceDuplicates))}(this.shape,shapeOptions,this.id,reduceDuplicates),particlesOptions.load(overrideOptions);const effectData=this.effectData;effectData&&particlesOptions.load(effectData.particles);const shapeData=this.shapeData;shapeData&&particlesOptions.load(shapeData.particles);const interactivity=new Interactivity(engine,container);interactivity.load(container.actualOptions.interactivity),interactivity.load(particlesOptions.interactivity),this.interactivity=interactivity,this.effectFill=effectData?.fill??particlesOptions.effect.fill,this.effectClose=effectData?.close??particlesOptions.effect.close,this.shapeFill=shapeData?.fill??particlesOptions.shape.fill,this.shapeClose=shapeData?.close??particlesOptions.shape.close,this.options=particlesOptions;const pathOptions=this.options.move.path;this.pathDelay=getRangeValue(pathOptions.delay.value)*millisecondsToSeconds,pathOptions.generator&&(this.pathGenerator=this._engine.getPathGenerator(pathOptions.generator),this.pathGenerator&&container.addPath(pathOptions.generator,this.pathGenerator)&&this.pathGenerator.init(container)),container.retina.initParticle(this),this.size=initParticleNumericAnimationValue(this.options.size,pxRatio),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(position),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy();this.moveDecay=1-getRangeValue(this.options.move.decay);const particles=container.particles;particles.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/container.zLayers,this.sides=24;let effectDrawer=container.effectDrawers.get(this.effect);effectDrawer||(effectDrawer=this._engine.getEffectDrawer(this.effect),effectDrawer&&container.effectDrawers.set(this.effect,effectDrawer)),effectDrawer?.loadEffect&&effectDrawer.loadEffect(this);let shapeDrawer=container.shapeDrawers.get(this.shape);shapeDrawer||(shapeDrawer=this._engine.getShapeDrawer(this.shape),shapeDrawer&&container.shapeDrawers.set(this.shape,shapeDrawer)),shapeDrawer?.loadShape&&shapeDrawer.loadShape(this);const sideCountFunc=shapeDrawer?.getSidesCount;sideCountFunc&&(this.sides=sideCountFunc(this)),this.spawning=!1,this.shadowColor=rangeColorToRgb(this.options.shadow.color);for(const updater of particles.updaters)updater.init(this);for(const mover of particles.movers)mover.init?.(this);effectDrawer?.particleInit?.(container,this),shapeDrawer?.particleInit?.(container,this);for(const[,plugin]of container.plugins)plugin.particleCreated?.(this)}isInsideCanvas(){const radius=this.getRadius(),canvasSize=this.container.canvas.size,position=this.position;return position.x>=-radius&&position.y>=-radius&&position.y<=canvasSize.height+radius&&position.x<=canvasSize.width+radius}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const updater of this.container.particles.updaters)updater.reset?.(this)}}class Point{constructor(position,particle){this.position=position,this.particle=particle}}var RangeType;!function(RangeType){RangeType.circle="circle",RangeType.rectangle="rectangle"}(RangeType||(RangeType={}));class BaseRange{constructor(x,y,type){this.position={x,y},this.type=type}}class Circle extends BaseRange{constructor(x,y,radius){super(x,y,RangeType.circle),this.radius=radius}contains(point){return getDistance(point,this.position)<=this.radius}intersects(range){const pos1=this.position,pos2=range.position,distPos_x=Math.abs(pos2.x-pos1.x),distPos_y=Math.abs(pos2.y-pos1.y),r=this.radius;if(range instanceof Circle||range.type===RangeType.circle){return r+range.radius>Math.sqrt(distPos_x**2+distPos_y**2)}if(range instanceof Rectangle||range.type===RangeType.rectangle){const rectRange=range,{width,height}=rectRange.size;return Math.pow(distPos_x-width,2)+Math.pow(distPos_y-height,2)<=r**2||distPos_x<=r+width&&distPos_y<=r+height||distPos_x<=width||distPos_y<=height}return!1}}class Rectangle extends BaseRange{constructor(x,y,width,height){super(x,y,RangeType.rectangle),this.size={height,width}}contains(point){const w=this.size.width,h=this.size.height,pos=this.position;return point.x>=pos.x&&point.x<=pos.x+w&&point.y>=pos.y&&point.y<=pos.y+h}intersects(range){if(range instanceof Circle)return range.intersects(this);const w=this.size.width,h=this.size.height,pos1=this.position,pos2=range.position,size2=range instanceof Rectangle?range.size:{width:0,height:0},w2=size2.width,h2=size2.height;return pos2.x<pos1.x+w&&pos2.x+w2>pos1.x&&pos2.y<pos1.y+h&&pos2.y+h2>pos1.y}}class QuadTree{constructor(rectangle,capacity){this.rectangle=rectangle,this.capacity=capacity,this._subdivide=()=>{const{x,y}=this.rectangle.position,{width,height}=this.rectangle.size,{capacity}=this;for(let i=0;i<4;i++){const fixedIndex=i%2;this._subs.push(new QuadTree(new Rectangle(x+.5*width*fixedIndex,y+.5*height*(Math.round(.5*i)-fixedIndex),.5*width,.5*height),capacity))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(point){return!!this.rectangle.contains(point.position)&&(this._points.length<this.capacity?(this._points.push(point),!0):(this._divided||this._subdivide(),this._subs.some((sub=>sub.insert(point)))))}query(range,check){const res=[];if(!range.intersects(this.rectangle))return[];for(const p of this._points)!range.contains(p.position)&&getDistance(range.position,p.position)>p.particle.getRadius()&&(!check||check(p.particle))||res.push(p.particle);if(this._divided)for(const sub of this._subs)res.push(...sub.query(range,check));return res}queryCircle(position,radius,check){return this.query(new Circle(position.x,position.y,radius),check)}queryRectangle(position,size,check){return this.query(new Rectangle(position.x,position.y,size.width,size.height),check)}}const qTreeRectangle=canvasSize=>{const{height,width}=canvasSize;return new Rectangle(-.25*width,-.25*height,1.5*width,1.5*height)};class Particles{constructor(engine,container){this._addToPool=(...particles)=>{this._pool.push(...particles)},this._applyDensity=(options,manualCount,group)=>{const numberOptions=options.number;if(!options.number.density?.enable)return void(void 0===group?this._limit=numberOptions.limit.value:numberOptions.limit&&this._groupLimits.set(group,numberOptions.limit.value));const densityFactor=this._initDensityFactor(numberOptions.density),optParticlesNumber=numberOptions.value,optParticlesLimit=numberOptions.limit.value>0?numberOptions.limit.value:optParticlesNumber,particlesNumber=Math.min(optParticlesNumber,optParticlesLimit)*densityFactor+manualCount,particlesCount=Math.min(this.count,this.filter((t=>t.group===group)).length);void 0===group?this._limit=numberOptions.limit.value*densityFactor:this._groupLimits.set(group,numberOptions.limit.value*densityFactor),particlesCount<particlesNumber?this.push(Math.abs(particlesNumber-particlesCount),void 0,options,group):particlesCount>particlesNumber&&this.removeQuantity(particlesCount-particlesNumber,group)},this._initDensityFactor=densityOptions=>{const container=this._container;if(!container.canvas.element||!densityOptions.enable)return 1;const canvas=container.canvas.element,pxRatio=container.retina.pixelRatio;return canvas.width*canvas.height/(densityOptions.height*densityOptions.width*pxRatio**2)},this._pushParticle=(position,overrideOptions,group,initializer)=>{try{let particle=this._pool.pop();particle||(particle=new Particle(this._engine,this._container)),particle.init(this._nextId,position,overrideOptions,group);let canAdd=!0;if(initializer&&(canAdd=initializer(particle)),!canAdd)return;return this._array.push(particle),this._zArray.push(particle),this._nextId++,this._engine.dispatchEvent(EventType.particleAdded,{container:this._container,data:{particle}}),particle}catch(e){getLogger().warning(`${errorPrefix} adding particle: ${e}`)}},this._removeParticle=(index,group,override)=>{const particle=this._array[index];if(!particle||particle.group!==group)return!1;const zIdx=this._zArray.indexOf(particle);return this._array.splice(index,1),this._zArray.splice(zIdx,1),particle.destroy(override),this._engine.dispatchEvent(EventType.particleRemoved,{container:this._container,data:{particle}}),this._addToPool(particle),!0},this._engine=engine,this._container=container,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new InteractionManager(engine,container),this._pluginsInitialized=!1;const canvasSize=container.canvas.size;this.quadTree=new QuadTree(qTreeRectangle(canvasSize),4),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const container=this._container;container.actualOptions.manualParticles.forEach((p=>this.addParticle(p.position?getPosition(p.position,container.canvas.size):void 0,p.options)))}addParticle(position,overrideOptions,group,initializer){const limitMode=this._container.actualOptions.particles.number.limit.mode,limit=void 0===group?this._limit:this._groupLimits.get(group)??this._limit,currentCount=this.count;if(limit>0)switch(limitMode){case LimitMode.delete:{const countToRemove=currentCount+1-limit;countToRemove>0&&this.removeQuantity(countToRemove);break}case LimitMode.wait:if(currentCount>=limit)return}return this._pushParticle(position,overrideOptions,group,initializer)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(delta){const container=this._container,canvas=container.canvas;canvas.clear(),this.update(delta);for(const[,plugin]of container.plugins)canvas.drawPlugin(plugin,delta);for(const p of this._zArray)p.draw(delta)}filter(condition){return this._array.filter(condition)}find(condition){return this._array.find(condition)}get(index){return this._array[index]}handleClickMode(mode){this._interactionManager.handleClickMode(mode)}async init(){const container=this._container,options=container.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let handled=!1;for(const[,plugin]of container.plugins)if(handled=plugin.particlesInitialization?.()??handled,handled)break;if(this.addManualParticles(),!handled){const particlesOptions=options.particles,groups=particlesOptions.groups;for(const group in groups){const groupOptions=groups[group];for(let i=this.count,j=0;j<groupOptions.number?.value&&i<particlesOptions.number.value;i++,j++)this.addParticle(void 0,groupOptions,group)}for(let i=this.count;i<particlesOptions.number.value;i++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const container=this._container;this.movers=await this._engine.getMovers(container,!0),this.updaters=await this._engine.getUpdaters(container,!0),await this._interactionManager.init();for(const[,pathGenerator]of container.pathGenerators)pathGenerator.init(container)}push(nb,mouse,overrideOptions,group){for(let i=0;i<nb;i++)this.addParticle(mouse?.position,overrideOptions,group)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(particle,group,override){this.removeAt(this._array.indexOf(particle),void 0,group,override)}removeAt(index,quantity=1,group,override){if(index<0||index>this.count)return;let deleted=0;for(let i=index;deleted<quantity&&i<this.count;i++)this._removeParticle(i--,group,override)&&deleted++}removeQuantity(quantity,group){this.removeAt(0,quantity,group)}setDensity(){const options=this._container.actualOptions,groups=options.particles.groups;for(const group in groups)this._applyDensity(groups[group],0,group);this._applyDensity(options.particles,options.manualParticles.length)}setLastZIndex(zIndex){this._lastZIndex=zIndex,this._needsSort=this._needsSort||this._lastZIndex<zIndex}setResizeFactor(factor){this._resizeFactor=factor}update(delta){const container=this._container,particlesToDelete=new Set;this.quadTree=new QuadTree(qTreeRectangle(container.canvas.size),4);for(const[,pathGenerator]of container.pathGenerators)pathGenerator.update();for(const[,plugin]of container.plugins)plugin.update?.(delta);const resizeFactor=this._resizeFactor;for(const particle of this._array){resizeFactor&&!particle.ignoresResizeRatio&&(particle.position.x*=resizeFactor.width,particle.position.y*=resizeFactor.height,particle.initialPosition.x*=resizeFactor.width,particle.initialPosition.y*=resizeFactor.height),particle.ignoresResizeRatio=!1,this._interactionManager.reset(particle);for(const[,plugin]of this._container.plugins){if(particle.destroyed)break;plugin.particleUpdate?.(particle,delta)}for(const mover of this.movers)mover.isEnabled(particle)&&mover.move(particle,delta);particle.destroyed?particlesToDelete.add(particle):this.quadTree.insert(new Point(particle.getPosition(),particle))}if(particlesToDelete.size){const checkDelete=p=>!particlesToDelete.has(p);this._array=this.filter(checkDelete),this._zArray=this._zArray.filter(checkDelete);for(const particle of particlesToDelete)this._engine.dispatchEvent(EventType.particleRemoved,{container:this._container,data:{particle}});this._addToPool(...particlesToDelete)}this._interactionManager.externalInteract(delta);for(const particle of this._array){for(const updater of this.updaters)updater.update(particle,delta);particle.destroyed||particle.spawning||this._interactionManager.particlesInteract(particle,delta)}if(delete this._resizeFactor,this._needsSort){const zArray=this._zArray;zArray.sort(((a,b)=>b.position.z-a.position.z||a.id-b.id));const lengthOffset=1;this._lastZIndex=zArray[zArray.length-lengthOffset].position.z,this._needsSort=!1}}}class Retina{constructor(container){this.container=container,this.pixelRatio=1,this.reduceFactor=1}init(){const container=this.container,options=container.actualOptions;this.pixelRatio=!options.detectRetina||isSsr()?1:window.devicePixelRatio,this.reduceFactor=1;const ratio=this.pixelRatio,canvas=container.canvas;if(canvas.element){const element=canvas.element;canvas.size.width=element.offsetWidth*ratio,canvas.size.height=element.offsetHeight*ratio}const particles=options.particles,moveOptions=particles.move;this.maxSpeed=getRangeValue(moveOptions.gravity.maxSpeed)*ratio,this.sizeAnimationSpeed=getRangeValue(particles.size.animation.speed)*ratio}initParticle(particle){const options=particle.options,ratio=this.pixelRatio,moveOptions=options.move,moveDistance=moveOptions.distance,props=particle.retina;props.moveDrift=getRangeValue(moveOptions.drift)*ratio,props.moveSpeed=getRangeValue(moveOptions.speed)*ratio,props.sizeAnimationSpeed=getRangeValue(options.size.animation.speed)*ratio;const maxDistance=props.maxDistance;maxDistance.horizontal=void 0!==moveDistance.horizontal?moveDistance.horizontal*ratio:void 0,maxDistance.vertical=void 0!==moveDistance.vertical?moveDistance.vertical*ratio:void 0,props.maxSpeed=getRangeValue(moveOptions.gravity.maxSpeed)*ratio}}function guardCheck(container){return container&&!container.destroyed}function loadContainerOptions(engine,container,...sourceOptionsArr){const options=new Options(engine,container);return loadOptions(options,...sourceOptionsArr),options}class Container{constructor(engine,id,sourceOptions){this._intersectionManager=entries=>{if(guardCheck(this)&&this.actualOptions.pauseOnOutsideViewport)for(const entry of entries)entry.target===this.interactivity.element&&(entry.isIntersecting?this.play():this.pause())},this._nextFrame=timestamp=>{try{if(!this._smooth&&void 0!==this._lastFrameTime&&timestamp<this._lastFrameTime+millisecondsToSeconds/this.fpsLimit)return void this.draw(!1);this._lastFrameTime??=timestamp;const delta=function initDelta(value,fpsLimit=60,smooth=!1){return{value,factor:smooth?60/fpsLimit:60*value/millisecondsToSeconds}}(timestamp-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(delta.value),this._lastFrameTime=timestamp,delta.value>millisecondsToSeconds)return void this.draw(!1);if(this.particles.draw(delta),!this.alive())return void this.destroy();this.animationStatus&&this.draw(!1)}catch(e){getLogger().error(`${errorPrefix} in animation loop`,e)}},this._engine=engine,this.id=Symbol(id),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=sourceOptions,this._initialSourceOptions=sourceOptions,this.retina=new Retina(this),this.canvas=new Canvas(this),this.particles=new Particles(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=loadContainerOptions(this._engine,this),this.actualOptions=loadContainerOptions(this._engine,this),this._eventListeners=new EventListeners(this),this._intersectionObserver=function safeIntersectionObserver(callback){if(!isSsr()&&"undefined"!=typeof IntersectionObserver)return new IntersectionObserver(callback)}((entries=>this._intersectionManager(entries))),this._engine.dispatchEvent(EventType.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&guardCheck(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(callback){if(!guardCheck(this))return;const el=this.interactivity.element;if(!el)return;const clickOrTouchHandler=(e,pos,radius)=>{if(!guardCheck(this))return;const pxRatio=this.retina.pixelRatio,posRetina={x:pos.x*pxRatio,y:pos.y*pxRatio},particles=this.particles.quadTree.queryCircle(posRetina,radius*pxRatio);callback(e,particles)};let touched=!1,touchMoved=!1;this._clickHandlers.set("click",(e=>{if(!guardCheck(this))return;const mouseEvent=e,pos={x:mouseEvent.offsetX||mouseEvent.clientX,y:mouseEvent.offsetY||mouseEvent.clientY};clickOrTouchHandler(e,pos,1)})),this._clickHandlers.set("touchstart",(()=>{guardCheck(this)&&(touched=!0,touchMoved=!1)})),this._clickHandlers.set("touchmove",(()=>{guardCheck(this)&&(touchMoved=!0)})),this._clickHandlers.set("touchend",(e=>{if(guardCheck(this)){if(touched&&!touchMoved){const touchEvent=e,lengthOffset=1;let lastTouch=touchEvent.touches[touchEvent.touches.length-lengthOffset];if(!lastTouch&&(lastTouch=touchEvent.changedTouches[touchEvent.changedTouches.length-lengthOffset],!lastTouch))return;const element=this.canvas.element,canvasRect=element?element.getBoundingClientRect():void 0,minCoordinate=0,pos={x:lastTouch.clientX-(canvasRect?canvasRect.left:minCoordinate),y:lastTouch.clientY-(canvasRect?canvasRect.top:minCoordinate)};clickOrTouchHandler(e,pos,Math.max(lastTouch.radiusX,lastTouch.radiusY))}touched=!1,touchMoved=!1}})),this._clickHandlers.set("touchcancel",(()=>{guardCheck(this)&&(touched=!1,touchMoved=!1)}));for(const[key,handler]of this._clickHandlers)el.addEventListener(key,handler)}addLifeTime(value){this._lifeTime+=value}addPath(key,generator,override=!1){return!(!guardCheck(this)||!override&&this.pathGenerators.has(key))&&(this.pathGenerators.set(key,generator),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(guardCheck(this)){for(const[key,handler]of this._clickHandlers)this.interactivity.element?.removeEventListener(key,handler);this._clickHandlers.clear()}}destroy(remove=!0){if(guardCheck(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const[,effectDrawer]of this.effectDrawers)effectDrawer.destroy?.(this);for(const[,shapeDrawer]of this.shapeDrawers)shapeDrawer.destroy?.(this);for(const key of this.effectDrawers.keys())this.effectDrawers.delete(key);for(const key of this.shapeDrawers.keys())this.shapeDrawers.delete(key);if(this._engine.clearPlugins(this),this.destroyed=!0,remove){const mainArr=this._engine.items,idx=mainArr.findIndex((t=>t===this));if(idx>=0){const deleteCount=1;mainArr.splice(idx,deleteCount)}}this._engine.dispatchEvent(EventType.containerDestroyed,{container:this})}}draw(force){if(!guardCheck(this))return;let refreshTime=force;const frame=timestamp=>{refreshTime&&(this._lastFrameTime=void 0,refreshTime=!1),this._nextFrame(timestamp)};this._drawAnimationFrame=function animate(fn){return _animationLoop.nextFrame(fn)}((timestamp=>frame(timestamp)))}async export(type,options={}){for(const[,plugin]of this.plugins){if(!plugin.export)continue;const res=await plugin.export(type,options);if(res.supported)return res.blob}getLogger().error(`${errorPrefix} - Export plugin with type ${type} not found`)}handleClickMode(mode){if(guardCheck(this)){this.particles.handleClickMode(mode);for(const[,plugin]of this.plugins)plugin.handleClickMode?.(mode)}}async init(){if(!guardCheck(this))return;const effects=this._engine.getSupportedEffects();for(const type of effects){const drawer=this._engine.getEffectDrawer(type);drawer&&this.effectDrawers.set(type,drawer)}const shapes=this._engine.getSupportedShapes();for(const type of shapes){const drawer=this._engine.getShapeDrawer(type);drawer&&this.shapeDrawers.set(type,drawer)}await this.particles.initPlugins(),this._options=loadContainerOptions(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=loadContainerOptions(this._engine,this,this._options);const availablePlugins=await this._engine.getAvailablePlugins(this);for(const[id,plugin]of availablePlugins)this.plugins.set(id,plugin);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers,duration,delay,fpsLimit,smooth}=this.actualOptions;this.zLayers=zLayers,this._duration=getRangeValue(duration)*millisecondsToSeconds,this._delay=getRangeValue(delay)*millisecondsToSeconds,this._lifeTime=0;this.fpsLimit=fpsLimit>0?fpsLimit:120,this._smooth=smooth;for(const[,drawer]of this.effectDrawers)await(drawer.init?.(this));for(const[,drawer]of this.shapeDrawers)await(drawer.init?.(this));for(const[,plugin]of this.plugins)await(plugin.init?.());this._engine.dispatchEvent(EventType.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const[,plugin]of this.plugins)plugin.particlesSetup?.();this._engine.dispatchEvent(EventType.particlesSetup,{container:this})}async loadTheme(name){guardCheck(this)&&(this._currentTheme=name,await this.refresh())}pause(){if(guardCheck(this)&&(void 0!==this._drawAnimationFrame&&(!function cancelAnimation(handle){_animationLoop.cancel(handle)}(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,plugin]of this.plugins)plugin.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(EventType.containerPaused,{container:this})}}play(force){if(!guardCheck(this))return;const needsUpdate=this._paused||force;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),needsUpdate)for(const[,plugin]of this.plugins)plugin.play&&plugin.play();this._engine.dispatchEvent(EventType.containerPlay,{container:this}),this.draw(needsUpdate??!1)}else this._firstStart=!1}async refresh(){if(guardCheck(this))return this.stop(),this.start()}async reset(sourceOptions){if(guardCheck(this))return this._initialSourceOptions=sourceOptions,this._sourceOptions=sourceOptions,this._options=loadContainerOptions(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=loadContainerOptions(this._engine,this,this._options),this.refresh()}async start(){guardCheck(this)&&!this.started&&(await this.init(),this.started=!0,await new Promise((resolve=>{const start=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,plugin]of this.plugins)await(plugin.start?.());this._engine.dispatchEvent(EventType.containerStarted,{container:this}),this.play(),resolve()};this._delayTimeout=setTimeout((()=>{start()}),this._delay)})))}stop(){if(guardCheck(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,plugin]of this.plugins)plugin.stop?.();for(const key of this.plugins.keys())this.plugins.delete(key);this._sourceOptions=this._options,this._engine.dispatchEvent(EventType.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const newMaxWidth=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth!==newMaxWidth&&(this._responsiveMaxWidth=newMaxWidth,!0)}}class EventDispatcher{constructor(){this._listeners=new Map}addEventListener(type,listener){this.removeEventListener(type,listener);let arr=this._listeners.get(type);arr||(arr=[],this._listeners.set(type,arr)),arr.push(listener)}dispatchEvent(type,args){const listeners=this._listeners.get(type);listeners?.forEach((handler=>handler(args)))}hasEventListener(type){return!!this._listeners.get(type)}removeAllEventListeners(type){type?this._listeners.delete(type):this._listeners=new Map}removeEventListener(type,listener){const arr=this._listeners.get(type);if(!arr)return;const length=arr.length,idx=arr.indexOf(listener);if(idx<0)return;1===length?this._listeners.delete(type):arr.splice(idx,1)}}async function getItemsFromInitializer(container,map,initializers,force=!1){let res=map.get(container);return res&&!force||(res=await Promise.all([...initializers.values()].map((t=>t(container)))),map.set(container,res)),res}class Engine{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new EventDispatcher,this._initialized=!1,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const res={};for(const[name,config]of this._configs)res[name]=config;return res}get items(){return this._domArray}get version(){return"3.5.0"}addConfig(config){const key=config.key??config.name??"default";this._configs.set(key,config),this._eventDispatcher.dispatchEvent(EventType.configAdded,{data:{name:key,config}})}async addEffect(effect,drawer,refresh=!0){executeOnSingleOrMultiple(effect,(type=>{this.getEffectDrawer(type)||this.effectDrawers.set(type,drawer)})),await this.refresh(refresh)}addEventListener(type,listener){this._eventDispatcher.addEventListener(type,listener)}async addInteractor(name,interactorInitializer,refresh=!0){this._initializers.interactors.set(name,interactorInitializer),await this.refresh(refresh)}async addMover(name,moverInitializer,refresh=!0){this._initializers.movers.set(name,moverInitializer),await this.refresh(refresh)}async addParticleUpdater(name,updaterInitializer,refresh=!0){this._initializers.updaters.set(name,updaterInitializer),await this.refresh(refresh)}async addPathGenerator(name,generator,refresh=!0){this.getPathGenerator(name)||this.pathGenerators.set(name,generator),await this.refresh(refresh)}async addPlugin(plugin,refresh=!0){this.getPlugin(plugin.id)||this.plugins.push(plugin),await this.refresh(refresh)}async addPreset(preset,options,override=!1,refresh=!0){!override&&this.getPreset(preset)||this.presets.set(preset,options),await this.refresh(refresh)}async addShape(drawer,refresh=!0){for(const validType of drawer.validTypes)this.getShapeDrawer(validType)||this.shapeDrawers.set(validType,drawer);await this.refresh(refresh)}clearPlugins(container){this.updaters.delete(container),this.movers.delete(container),this.interactors.delete(container)}dispatchEvent(type,args){this._eventDispatcher.dispatchEvent(type,args)}dom(){return this.items}domItem(index){return this.item(index)}async getAvailablePlugins(container){const res=new Map;for(const plugin of this.plugins)plugin.needsPlugin(container.actualOptions)&&res.set(plugin.id,await plugin.getPlugin(container));return res}getEffectDrawer(type){return this.effectDrawers.get(type)}async getInteractors(container,force=!1){return getItemsFromInitializer(container,this.interactors,this._initializers.interactors,force)}async getMovers(container,force=!1){return getItemsFromInitializer(container,this.movers,this._initializers.movers,force)}getPathGenerator(type){return this.pathGenerators.get(type)}getPlugin(plugin){return this.plugins.find((t=>t.id===plugin))}getPreset(preset){return this.presets.get(preset)}getShapeDrawer(type){return this.shapeDrawers.get(type)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(container,force=!1){return getItemsFromInitializer(container,this.updaters,this._initializers.updaters,force)}init(){this._initialized||(this._initialized=!0)}item(index){const{items}=this,item=items[index];if(item&&!item.destroyed)return item;{const deleteCount=1;items.splice(index,deleteCount)}}async load(params){const id=params.id??params.element?.id??`tsparticles${Math.floor(1e4*getRandom())}`,{index,url}=params,options=url?await async function getDataFromUrl(data){const url=itemFromSingleOrMultiple(data.url,data.index);if(!url)return data.fallback;const response=await fetch(url);return response.ok?await response.json():(getLogger().error(`${errorPrefix} ${response.status} while retrieving config file`),data.fallback)}({fallback:params.options,url,index}):params.options,currentOptions=itemFromSingleOrMultiple(options,index),{items}=this,oldIndex=items.findIndex((v=>v.id.description===id)),newItem=new Container(this,id,currentOptions);if(oldIndex>=0){const old=this.item(oldIndex),deleteCount=old?1:0;old&&!old.destroyed&&old.destroy(!1),items.splice(oldIndex,deleteCount,newItem)}else items.push(newItem);const domContainer=((id,source)=>{let domContainer=source??document.getElementById(id);return domContainer||(domContainer=document.createElement("div"),domContainer.id=id,domContainer.dataset.generated="true",document.body.append(domContainer),domContainer)})(id,params.element),canvasEl=(domContainer=>{let canvasEl;if(domContainer instanceof HTMLCanvasElement||"canvas"===domContainer.tagName.toLowerCase())canvasEl=domContainer,canvasEl.dataset.generated||(canvasEl.dataset.generated="false");else{const existingCanvases=domContainer.getElementsByTagName("canvas");existingCanvases.length?(canvasEl=existingCanvases[0],canvasEl.dataset.generated="false"):(canvasEl=document.createElement("canvas"),canvasEl.dataset.generated="true",domContainer.appendChild(canvasEl))}return canvasEl.style.width||(canvasEl.style.width="100%"),canvasEl.style.height||(canvasEl.style.height="100%"),canvasEl})(domContainer);return newItem.canvas.loadCanvas(canvasEl),await newItem.start(),newItem}loadOptions(options,sourceOptions){this.plugins.forEach((plugin=>plugin.loadOptions?.(options,sourceOptions)))}loadParticlesOptions(container,options,...sourceOptions){const updaters=this.updaters.get(container);updaters&&updaters.forEach((updater=>updater.loadOptions?.(options,...sourceOptions)))}async refresh(refresh=!0){refresh&&await Promise.all(this.items.map((t=>t.refresh())))}removeEventListener(type,listener){this._eventDispatcher.removeEventListener(type,listener)}setOnClickHandler(callback){const{items}=this;if(!items.length)throw new Error(`${errorPrefix} can only set click handlers after calling tsParticles.load()`);items.forEach((item=>item.addClickHandler(callback)))}}var HslIndexes,RgbColorManager_RgbIndexes,RotateDirection,GradientType,EasingType;!function(HslIndexes){HslIndexes[HslIndexes.h=1]="h",HslIndexes[HslIndexes.s=2]="s",HslIndexes[HslIndexes.l=3]="l",HslIndexes[HslIndexes.a=5]="a"}(HslIndexes||(HslIndexes={}));class HslColorManager{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(color){const hslColor=color.value.hsl??color.value;if(void 0!==hslColor.h&&void 0!==hslColor.s&&void 0!==hslColor.l)return hslToRgb(hslColor)}handleRangeColor(color){const hslColor=color.value.hsl??color.value;if(void 0!==hslColor.h&&void 0!==hslColor.l)return hslToRgb({h:getRangeValue(hslColor.h),l:getRangeValue(hslColor.l),s:getRangeValue(hslColor.s)})}parseString(input){if(!input.startsWith("hsl"))return;const result=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i.exec(input);return result?function hslaToRgba(hsla){const rgbResult=hslToRgb(hsla);return{a:hsla.a,b:rgbResult.b,g:rgbResult.g,r:rgbResult.r}}({a:result.length>4?parseAlpha(result[HslIndexes.a]):1,h:parseInt(result[HslIndexes.h],10),l:parseInt(result[HslIndexes.l],10),s:parseInt(result[HslIndexes.s],10)}):void 0}}!function(RgbIndexes){RgbIndexes[RgbIndexes.r=1]="r",RgbIndexes[RgbIndexes.g=2]="g",RgbIndexes[RgbIndexes.b=3]="b",RgbIndexes[RgbIndexes.a=5]="a"}(RgbColorManager_RgbIndexes||(RgbColorManager_RgbIndexes={}));class RgbColorManager{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(color){const rgbColor=color.value.rgb??color.value;if(void 0!==rgbColor.r)return rgbColor}handleRangeColor(color){const rgbColor=color.value.rgb??color.value;if(void 0!==rgbColor.r)return{r:getRangeValue(rgbColor.r),g:getRangeValue(rgbColor.g),b:getRangeValue(rgbColor.b)}}parseString(input){if(!input.startsWith(this.stringPrefix))return;const result=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i.exec(input);return result?{a:result.length>4?parseAlpha(result[RgbColorManager_RgbIndexes.a]):1,b:parseInt(result[RgbColorManager_RgbIndexes.b],10),g:parseInt(result[RgbColorManager_RgbIndexes.g],10),r:parseInt(result[RgbColorManager_RgbIndexes.r],10)}:void 0}}class ExternalInteractorBase{constructor(container){this.type=InteractorType.external,this.container=container}}class ParticlesInteractorBase{constructor(container){this.type=InteractorType.particles,this.container=container}}!function(RotateDirection){RotateDirection.clockwise="clockwise",RotateDirection.counterClockwise="counter-clockwise",RotateDirection.random="random"}(RotateDirection||(RotateDirection={})),function(GradientType){GradientType.linear="linear",GradientType.radial="radial",GradientType.random="random"}(GradientType||(GradientType={})),function(EasingType){EasingType.easeInBack="ease-in-back",EasingType.easeInCirc="ease-in-circ",EasingType.easeInCubic="ease-in-cubic",EasingType.easeInLinear="ease-in-linear",EasingType.easeInQuad="ease-in-quad",EasingType.easeInQuart="ease-in-quart",EasingType.easeInQuint="ease-in-quint",EasingType.easeInExpo="ease-in-expo",EasingType.easeInSine="ease-in-sine",EasingType.easeOutBack="ease-out-back",EasingType.easeOutCirc="ease-out-circ",EasingType.easeOutCubic="ease-out-cubic",EasingType.easeOutLinear="ease-out-linear",EasingType.easeOutQuad="ease-out-quad",EasingType.easeOutQuart="ease-out-quart",EasingType.easeOutQuint="ease-out-quint",EasingType.easeOutExpo="ease-out-expo",EasingType.easeOutSine="ease-out-sine",EasingType.easeInOutBack="ease-in-out-back",EasingType.easeInOutCirc="ease-in-out-circ",EasingType.easeInOutCubic="ease-in-out-cubic",EasingType.easeInOutLinear="ease-in-out-linear",EasingType.easeInOutQuad="ease-in-out-quad",EasingType.easeInOutQuart="ease-in-out-quart",EasingType.easeInOutQuint="ease-in-out-quint",EasingType.easeInOutExpo="ease-in-out-expo",EasingType.easeInOutSine="ease-in-out-sine"}(EasingType||(EasingType={}));const tsParticles=function init(){const rgbColorManager=new RgbColorManager,hslColorManager=new HslColorManager;addColorManager(rgbColorManager),addColorManager(hslColorManager);const engine=new Engine;return engine.init(),engine}();isSsr()||(window.tsParticles=tsParticles)},"./node_modules/@tsparticles/react/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>f,iC:()=>n});var browser=__webpack_require__("./node_modules/@tsparticles/engine/browser/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js");const f=t=>{const i=t.id??"tsparticles";return(0,react.useEffect)((()=>{let e;return browser.$k3.load({id:i,url:t.url,options:t.options}).then((l=>{var a;e=l,null==(a=t.particlesLoaded)||a.call(t,l)})),()=>{null==e||e.destroy()}}),[i,t,t.url,t.options]),(0,jsx_runtime.jsx)("div",{id:i,className:t.className})};async function n(t){await t(browser.$k3)}},"./node_modules/lucide-react/dist/esm/createLucideIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>createLucideIcon});var react=__webpack_require__("./node_modules/react/index.js");const mergeClasses=(...classes)=>classes.filter(((className,index,array)=>Boolean(className)&&array.indexOf(className)===index)).join(" ");var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=(0,react.forwardRef)((({color="currentColor",size=24,strokeWidth=2,absoluteStrokeWidth,className="",children,iconNode,...rest},ref)=>(0,react.createElement)("svg",{ref,...defaultAttributes,width:size,height:size,stroke:color,strokeWidth:absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth,className:mergeClasses("lucide",className),...rest},[...iconNode.map((([tag,attrs])=>(0,react.createElement)(tag,attrs))),...Array.isArray(children)?children:[children]]))),createLucideIcon=(iconName,iconNode)=>{const Component=(0,react.forwardRef)((({className,...props},ref)=>{return(0,react.createElement)(Icon,{ref,iconNode,className:mergeClasses(`lucide-${string=iconName,string.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,className),...props});var string}));return Component.displayName=`${iconName}`,Component}},"./node_modules/lucide-react/dist/esm/icons/sparkle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Sparkle});const Sparkle=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Sparkle",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]])},"./node_modules/tsparticles/browser/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>loadFull});var AbsorberClickMode,browser=__webpack_require__("./node_modules/@tsparticles/engine/browser/index.js");class AbsorberSizeLimit{constructor(){this.radius=0,this.mass=0}load(data){data&&(void 0!==data.mass&&(this.mass=data.mass),void 0!==data.radius&&(this.radius=data.radius))}}class AbsorberSize extends browser.PVU{constructor(){super(),this.density=5,this.value=50,this.limit=new AbsorberSizeLimit}load(data){data&&(super.load(data),void 0!==data.density&&(this.density=data.density),(0,browser.EtT)(data.limit)?this.limit.radius=data.limit:this.limit.load(data.limit))}}class Absorber{constructor(){this.color=new browser.Oit,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new AbsorberSize}load(data){void 0!==data&&(void 0!==data.color&&(this.color=browser.Oit.create(this.color,data.color)),void 0!==data.draggable&&(this.draggable=data.draggable),this.name=data.name,void 0!==data.opacity&&(this.opacity=data.opacity),void 0!==data.position&&(this.position={},void 0!==data.position.x&&(this.position.x=(0,browser.DT4)(data.position.x)),void 0!==data.position.y&&(this.position.y=(0,browser.DT4)(data.position.y))),void 0!==data.size&&this.size.load(data.size),void 0!==data.destroy&&(this.destroy=data.destroy),void 0!==data.orbits&&(this.orbits=data.orbits))}}!function(AbsorberClickMode){AbsorberClickMode.absorber="absorber"}(AbsorberClickMode||(AbsorberClickMode={}));const origin_x=0,origin_y=0,maxAngle=2*Math.PI;class AbsorberInstance{constructor(absorbers,container,options,position){this.absorbers=absorbers,this.container=container,this._calcPosition=()=>{const exactPosition=(0,browser.l1q)({size:this.container.canvas.size,position:this.options.position});return browser.Miz.create(exactPosition.x,exactPosition.y)},this._updateParticlePosition=(particle,v)=>{if(particle.destroyed)return;const container=this.container,canvasSize=container.canvas.size;if(particle.needsNewPosition){const newPosition=(0,browser.MhH)({size:canvasSize});particle.position.setTo(newPosition),particle.velocity.setTo(particle.initialVelocity),particle.absorberOrbit=void 0,particle.needsNewPosition=!1}if(this.options.orbits){if(void 0===particle.absorberOrbit&&(particle.absorberOrbit=browser.Miz.origin,particle.absorberOrbit.length=(0,browser.YfF)(particle.getPosition(),this.position),particle.absorberOrbit.angle=(0,browser.G0i)()*maxAngle),particle.absorberOrbit.length<=this.size&&!this.options.destroy){const minSize=Math.min(canvasSize.width,canvasSize.height),offset=1,randomOffset=.1,randomFactor=.2;particle.absorberOrbit.length=minSize*(offset+((0,browser.G0i)()*randomFactor-randomOffset))}void 0===particle.absorberOrbitDirection&&(particle.absorberOrbitDirection=particle.velocity.x>=0?browser.pTR.clockwise:browser.pTR.counterClockwise);const orbitRadius=particle.absorberOrbit.length,orbitAngle=particle.absorberOrbit.angle,orbitDirection=particle.absorberOrbitDirection;particle.velocity.setTo(browser.Miz.origin);const updateFunc={x:orbitDirection===browser.pTR.clockwise?Math.cos:Math.sin,y:orbitDirection===browser.pTR.clockwise?Math.sin:Math.cos};particle.position.x=this.position.x+orbitRadius*updateFunc.x(orbitAngle),particle.position.y=this.position.y+orbitRadius*updateFunc.y(orbitAngle),particle.absorberOrbit.length-=v.length,particle.absorberOrbit.angle+=(particle.retina.moveSpeed??0)*container.retina.pixelRatio/browser.a56*container.retina.reduceFactor}else{const addV=browser.Miz.origin;addV.length=v.length,addV.angle=v.angle,particle.velocity.addTo(addV)}},this.initialPosition=position?browser.Miz.create(position.x,position.y):void 0,options instanceof Absorber?this.options=options:(this.options=new Absorber,this.options.load(options)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=(0,browser.VGA)(this.options.size.value)*container.retina.pixelRatio,this.mass=this.size*this.options.size.density*container.retina.reduceFactor;const limit=this.options.size.limit;this.limit={radius:limit.radius*container.retina.pixelRatio*container.retina.reduceFactor,mass:limit.mass},this.color=(0,browser.BN0)(this.options.color)??{b:0,g:0,r:0},this.position=this.initialPosition?.copy()??this._calcPosition()}attract(particle){const container=this.container,options=this.options;if(options.draggable){const mouse=container.interactivity.mouse;if(mouse.clicking&&mouse.downPosition){(0,browser.YfF)(this.position,mouse.downPosition)<=this.size&&(this.dragging=!0)}else this.dragging=!1;this.dragging&&mouse.position&&(this.position.x=mouse.position.x,this.position.y=mouse.position.y)}const pos=particle.getPosition(),{dx,dy,distance}=(0,browser.vrU)(this.position,pos),v=browser.Miz.create(dx,dy);if(v.length=this.mass/Math.pow(distance,2)*container.retina.reduceFactor,distance<this.size+particle.getRadius()){const sizeFactor=.033*particle.getRadius()*container.retina.pixelRatio;this.size>particle.getRadius()&&distance<this.size-particle.getRadius()||void 0!==particle.absorberOrbit&&particle.absorberOrbit.length<0?options.destroy?particle.destroy():(particle.needsNewPosition=!0,this._updateParticlePosition(particle,v)):(options.destroy&&(particle.size.value-=sizeFactor),this._updateParticlePosition(particle,v)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=sizeFactor),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=sizeFactor*this.options.size.density*container.retina.reduceFactor)}else this._updateParticlePosition(particle,v)}draw(context){context.translate(this.position.x,this.position.y),context.beginPath(),context.arc(origin_x,origin_y,this.size,0,maxAngle,!1),context.closePath(),context.fillStyle=(0,browser.xxz)(this.color,this.opacity),context.fill()}resize(){const initialPosition=this.initialPosition;this.position=initialPosition&&(0,browser.Tj8)(initialPosition,this.container.canvas.size,browser.Miz.origin)?initialPosition:this._calcPosition()}}class Absorbers{constructor(container){this.container=container,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],container.getAbsorber=idxOrName=>void 0===idxOrName||(0,browser.EtT)(idxOrName)?this.array[idxOrName??0]:this.array.find((t=>t.name===idxOrName)),container.addAbsorber=async(options,position)=>this.addAbsorber(options,position)}async addAbsorber(options,position){const absorber=new AbsorberInstance(this,this.container,options,position);return this.array.push(absorber),Promise.resolve(absorber)}draw(context){for(const absorber of this.array)absorber.draw(context)}handleClickMode(mode){const absorberOptions=this.absorbers,modeAbsorbers=this.interactivityAbsorbers;if(mode===AbsorberClickMode.absorber){const absorbersOptions=(0,browser.TA3)(modeAbsorbers)??(0,browser.TA3)(absorberOptions),aPosition=this.container.interactivity.mouse.clickPosition;this.addAbsorber(absorbersOptions,aPosition)}}async init(){this.absorbers=this.container.actualOptions.absorbers,this.interactivityAbsorbers=this.container.actualOptions.interactivity.modes.absorbers;const promises=(0,browser.wJ2)(this.absorbers,(async absorber=>{await this.addAbsorber(absorber)}));promises instanceof Array?await Promise.all(promises):await promises}particleUpdate(particle){for(const absorber of this.array)if(absorber.attract(particle),particle.destroyed)break}removeAbsorber(absorber){const index=this.array.indexOf(absorber);index>=0&&this.array.splice(index,1)}resize(){for(const absorber of this.array)absorber.resize()}stop(){this.array=[]}}class AbsorbersPlugin{constructor(){this.id="absorbers"}async getPlugin(container){return Promise.resolve(new Absorbers(container))}loadOptions(options,source){(this.needsPlugin(options)||this.needsPlugin(source))&&(source?.absorbers&&(options.absorbers=(0,browser.wJ2)(source.absorbers,(absorber=>{const tmp=new Absorber;return tmp.load(absorber),tmp}))),options.interactivity.modes.absorbers=(0,browser.wJ2)(source?.interactivity?.modes?.absorbers,(absorber=>{const tmp=new Absorber;return tmp.load(absorber),tmp})))}needsPlugin(options){if(!options)return!1;const absorbers=options.absorbers;return(0,browser.cyL)(absorbers)?!!absorbers.length:!!absorbers||!(!options.interactivity?.events?.onClick?.mode||!(0,browser.hnD)(AbsorberClickMode.absorber,options.interactivity.events.onClick.mode))}}class DestroyBounds{load(data){data&&(void 0!==data.bottom&&(this.bottom=(0,browser.DT4)(data.bottom)),void 0!==data.left&&(this.left=(0,browser.DT4)(data.left)),void 0!==data.right&&(this.right=(0,browser.DT4)(data.right)),void 0!==data.top&&(this.top=(0,browser.DT4)(data.top)))}}var DestroyMode;!function(DestroyMode){DestroyMode.none="none",DestroyMode.split="split"}(DestroyMode||(DestroyMode={}));class SplitFactor extends browser.PVU{constructor(){super(),this.value=3}}class SplitRate extends browser.PVU{constructor(){super(),this.value={min:4,max:9}}}class Split{constructor(){this.count=1,this.factor=new SplitFactor,this.rate=new SplitRate,this.sizeOffset=!0}load(data){data&&(void 0!==data.color&&(this.color=browser.Oit.create(this.color,data.color)),void 0!==data.count&&(this.count=data.count),this.factor.load(data.factor),this.rate.load(data.rate),this.particles=(0,browser.wJ2)(data.particles,(particles=>(0,browser.zwS)({},particles))),void 0!==data.sizeOffset&&(this.sizeOffset=data.sizeOffset),data.colorOffset&&(this.colorOffset=this.colorOffset??{},void 0!==data.colorOffset.h&&(this.colorOffset.h=data.colorOffset.h),void 0!==data.colorOffset.s&&(this.colorOffset.s=data.colorOffset.s),void 0!==data.colorOffset.l&&(this.colorOffset.l=data.colorOffset.l)))}}class Destroy{constructor(){this.bounds=new DestroyBounds,this.mode=DestroyMode.none,this.split=new Split}load(data){data&&(data.mode&&(this.mode=data.mode),data.bounds&&this.bounds.load(data.bounds),this.split.load(data.split))}}const defaultOffset=0,minDestroySize=.5,defaultSplitCount=0,increment=1,unbreakableTime=500;function addSplitParticle(engine,container,parent,splitParticlesOptions){const destroyOptions=parent.options.destroy;if(!destroyOptions)return;const splitOptions=destroyOptions.split,options=(0,browser.yVN)(engine,container,parent.options),factor=(0,browser.VGA)(splitOptions.factor.value),parentColor=parent.getFillColor();splitOptions.color?options.color.load(splitOptions.color):splitOptions.colorOffset&&parentColor?options.color.load({value:{hsl:{h:parentColor.h+(0,browser.VGA)(splitOptions.colorOffset.h??defaultOffset),s:parentColor.s+(0,browser.VGA)(splitOptions.colorOffset.s??defaultOffset),l:parentColor.l+(0,browser.VGA)(splitOptions.colorOffset.l??defaultOffset)}}}):options.color.load({value:{hsl:parent.getFillColor()}}),options.move.load({center:{x:parent.position.x,y:parent.position.y,mode:browser.qiC.precise}}),(0,browser.EtT)(options.size.value)?options.size.value/=factor:(options.size.value.min/=factor,options.size.value.max/=factor),options.load(splitParticlesOptions);const offset=splitOptions.sizeOffset?(0,browser.DT4)(-parent.size.value,parent.size.value):defaultOffset,position={x:parent.position.x+(0,browser.U43)(offset),y:parent.position.y+(0,browser.U43)(offset)};return container.particles.addParticle(position,options,parent.group,(particle=>!(particle.size.value<minDestroySize)&&(particle.velocity.length=(0,browser.U43)((0,browser.DT4)(parent.velocity.length,particle.velocity.length)),particle.splitCount=(parent.splitCount??defaultSplitCount)+increment,particle.unbreakable=!0,setTimeout((()=>{particle.unbreakable=!1}),unbreakableTime),!0)))}class DestroyUpdater{constructor(engine,container){this.container=container,this.engine=engine}init(particle){const container=this.container,destroyOptions=particle.options.destroy;if(!destroyOptions)return;particle.splitCount=0;const destroyBoundsOptions=destroyOptions.bounds;particle.destroyBounds||(particle.destroyBounds={});const{bottom,left,right,top}=destroyBoundsOptions,{destroyBounds}=particle,canvasSize=container.canvas.size;bottom&&(destroyBounds.bottom=(0,browser.VGA)(bottom)*canvasSize.height/browser.a56),left&&(destroyBounds.left=(0,browser.VGA)(left)*canvasSize.width/browser.a56),right&&(destroyBounds.right=(0,browser.VGA)(right)*canvasSize.width/browser.a56),top&&(destroyBounds.top=(0,browser.VGA)(top)*canvasSize.height/browser.a56)}isEnabled(particle){return!particle.destroyed}loadOptions(options,...sources){options.destroy||(options.destroy=new Destroy);for(const source of sources)options.destroy.load(source?.destroy)}particleDestroyed(particle,override){if(override)return;const destroyOptions=particle.options.destroy;destroyOptions&&destroyOptions.mode===DestroyMode.split&&function split(engine,container,particle){const destroyOptions=particle.options.destroy;if(!destroyOptions)return;const splitOptions=destroyOptions.split;if(splitOptions.count>=0&&(void 0===particle.splitCount||particle.splitCount++>splitOptions.count))return;const rate=(0,browser.VGA)(splitOptions.rate.value),particlesSplitOptions=(0,browser.TA3)(splitOptions.particles);for(let i=0;i<rate;i++)addSplitParticle(engine,container,particle,particlesSplitOptions)}(this.engine,this.container,particle)}update(particle){if(!this.isEnabled(particle))return;const position=particle.getPosition(),bounds=particle.destroyBounds;bounds&&(void 0!==bounds.bottom&&position.y>=bounds.bottom||void 0!==bounds.left&&position.x<=bounds.left||void 0!==bounds.right&&position.x>=bounds.right||void 0!==bounds.top&&position.y<=bounds.top)&&particle.destroy()}}class EmitterLife{constructor(){this.wait=!1}load(data){data&&(void 0!==data.count&&(this.count=data.count),void 0!==data.delay&&(this.delay=(0,browser.DT4)(data.delay)),void 0!==data.duration&&(this.duration=(0,browser.DT4)(data.duration)),void 0!==data.wait&&(this.wait=data.wait))}}class EmitterRate{constructor(){this.quantity=1,this.delay=.1}load(data){void 0!==data&&(void 0!==data.quantity&&(this.quantity=(0,browser.DT4)(data.quantity)),void 0!==data.delay&&(this.delay=(0,browser.DT4)(data.delay)))}}class EmitterShapeReplace{constructor(){this.color=!1,this.opacity=!1}load(data){data&&(void 0!==data.color&&(this.color=data.color),void 0!==data.opacity&&(this.opacity=data.opacity))}}class EmitterShape{constructor(){this.options={},this.replace=new EmitterShapeReplace,this.type="square"}load(data){data&&(void 0!==data.options&&(this.options=(0,browser.zwS)({},data.options??{})),this.replace.load(data.replace),void 0!==data.type&&(this.type=data.type))}}class EmitterSize{constructor(){this.mode=browser.qiC.percent,this.height=0,this.width=0}load(data){void 0!==data&&(void 0!==data.mode&&(this.mode=data.mode),void 0!==data.height&&(this.height=data.height),void 0!==data.width&&(this.width=data.width))}}class Emitter{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new EmitterLife,this.rate=new EmitterRate,this.shape=new EmitterShape,this.startCount=0}load(data){data&&(void 0!==data.autoPlay&&(this.autoPlay=data.autoPlay),void 0!==data.size&&(this.size||(this.size=new EmitterSize),this.size.load(data.size)),void 0!==data.direction&&(this.direction=data.direction),this.domId=data.domId,void 0!==data.fill&&(this.fill=data.fill),this.life.load(data.life),this.name=data.name,this.particles=(0,browser.wJ2)(data.particles,(particles=>(0,browser.zwS)({},particles))),this.rate.load(data.rate),this.shape.load(data.shape),void 0!==data.position&&(this.position={},void 0!==data.position.x&&(this.position.x=(0,browser.DT4)(data.position.x)),void 0!==data.position.y&&(this.position.y=(0,browser.DT4)(data.position.y))),void 0!==data.spawnColor&&(void 0===this.spawnColor&&(this.spawnColor=new browser.A9e),this.spawnColor.load(data.spawnColor)),void 0!==data.startCount&&(this.startCount=data.startCount))}}var EmitterClickMode;!function(EmitterClickMode){EmitterClickMode.emitter="emitter"}(EmitterClickMode||(EmitterClickMode={}));function setParticlesOptionsColor(particlesOptions,color){particlesOptions.color?particlesOptions.color.value=color:particlesOptions.color={value:color}}class EmitterInstance{constructor(engine,emitters,container,options,position){this.emitters=emitters,this.container=container,this._destroy=()=>{this._mutationObserver?.disconnect(),this._mutationObserver=void 0,this._resizeObserver?.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{if(this._paused)return;const duration=void 0!==this.options.life?.duration?(0,browser.VGA)(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&void 0!==duration&&duration>0&&(this._duration=duration*browser.XuV)},this._setColorAnimation=(animation,initValue,maxValue,factor=1)=>{const container=this.container;if(!animation.enable)return initValue;const colorOffset=(0,browser.U43)(animation.offset),emitFactor=(0,browser.VGA)(this.options.rate.delay)*browser.XuV/container.retina.reduceFactor;return(initValue+(0,browser.VGA)(animation.speed??0)*container.fpsLimit/emitFactor+colorOffset*factor)%maxValue},this._engine=engine,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=position,options instanceof Emitter?this.options=options:(this.options=new Emitter,this.options.load(options)),this._spawnDelay=(0,browser.VGA)(this.options.life.delay??0)*browser.XuV/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let particlesOptions=(0,browser.zwS)({},this.options.particles);if(particlesOptions??={},particlesOptions.move??={},particlesOptions.move.direction??=this.options.direction,this.options.spawnColor&&(this.spawnColor=(0,browser.R5R)(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=particlesOptions,this._size=this._calcSize(),this.size=(0,browser.YCE)(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??-1,this._immortal=this._lifeCount<=0,this.options.domId){const element=document.getElementById(this.options.domId);element&&(this._mutationObserver=new MutationObserver((()=>{this.resize()})),this._resizeObserver=new ResizeObserver((()=>{this.resize()})),this._mutationObserver.observe(element,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(element))}const shapeOptions=this.options.shape,shapeGenerator=this._engine.emitterShapeManager?.getShapeGenerator(shapeOptions.type);shapeGenerator&&(this._shape=shapeGenerator.generate(this.position,this.size,this.fill,shapeOptions.options)),this._engine.dispatchEvent("emitterCreated",{container,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){await(this._shape?.init())}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??0))){if(void 0===this._emitDelay){const delay=(0,browser.VGA)(this.options.rate.delay);this._emitDelay=delay*browser.XuV/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this._prepareToDie()}}resize(){const initialPosition=this._initialPosition;this.position=initialPosition&&(0,browser.Tj8)(initialPosition,this.container.canvas.size,browser.Miz.origin)?initialPosition:this._calcPosition(),this._size=this._calcSize(),this.size=(0,browser.YCE)(this._size,this.container.canvas.size),this._shape?.resize(this.position,this.size)}update(delta){this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??0,this._currentEmitDelay=this._emitDelay??0),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),void 0!==this._duration&&(this._currentDuration+=delta.value,this._currentDuration>=this._duration&&(this.pause(),void 0!==this._spawnDelay&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this._calcPosition(),this._shape?.resize(this.position,this.size),this._spawnDelay=(0,browser.VGA)(this.options.life.delay??0)*browser.XuV/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),void 0!==this._spawnDelay&&(this._currentSpawnDelay+=delta.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),void 0!==this._emitDelay&&(this._currentEmitDelay+=delta.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const element=document.getElementById(this.options.domId);if(element){const elRect=element.getBoundingClientRect(),pxRatio=this.container.retina.pixelRatio;return{x:(elRect.x+.5*elRect.width)*pxRatio,y:(elRect.y+.5*elRect.height)*pxRatio}}}return(0,browser.l1q)({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const container=this.container;if(this.options.domId){const element=document.getElementById(this.options.domId);if(element){const elRect=element.getBoundingClientRect();return{width:elRect.width*container.retina.pixelRatio,height:elRect.height*container.retina.pixelRatio,mode:browser.qiC.precise}}}return this.options.size??(()=>{const size=new EmitterSize;return size.load({height:0,mode:browser.qiC.percent,width:0}),size})()}_emit(){if(this._paused)return;const quantity=(0,browser.VGA)(this.options.rate.quantity);this._emitParticles(quantity)}_emitParticles(quantity){const singleParticlesOptions=(0,browser.TA3)(this._particlesOptions);for(let i=0;i<quantity;i++){const particlesOptions=(0,browser.zwS)({},singleParticlesOptions);if(this.spawnColor){const hslAnimation=this.options.spawnColor?.animation;if(hslAnimation){const maxValues={h:360,s:100,l:100},colorFactor=3.6;this.spawnColor.h=this._setColorAnimation(hslAnimation.h,this.spawnColor.h,maxValues.h,colorFactor),this.spawnColor.s=this._setColorAnimation(hslAnimation.s,this.spawnColor.s,maxValues.s),this.spawnColor.l=this._setColorAnimation(hslAnimation.l,this.spawnColor.l,maxValues.l)}setParticlesOptionsColor(particlesOptions,this.spawnColor)}const shapeOptions=this.options.shape;let position=this.position;if(this._shape){const shapePosData=this._shape.randomPosition();if(shapePosData){position=shapePosData.position;const replaceData=shapeOptions.replace;replaceData.color&&shapePosData.color&&setParticlesOptionsColor(particlesOptions,shapePosData.color),replaceData.opacity&&(particlesOptions.opacity?particlesOptions.opacity.value=shapePosData.opacity:particlesOptions.opacity={value:shapePosData.opacity})}else position=null}position&&this.container.particles.addParticle(position,particlesOptions)}}}class Emitters{constructor(engine,container){this.container=container,this._engine=engine,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};container.getEmitter=idxOrName=>void 0===idxOrName||(0,browser.EtT)(idxOrName)?this.array[idxOrName??0]:this.array.find((t=>t.name===idxOrName)),container.addEmitter=async(options,position)=>this.addEmitter(options,position),container.removeEmitter=idxOrName=>{const emitter=container.getEmitter(idxOrName);emitter&&this.removeEmitter(emitter)},container.playEmitter=idxOrName=>{const emitter=container.getEmitter(idxOrName);emitter&&emitter.externalPlay()},container.pauseEmitter=idxOrName=>{const emitter=container.getEmitter(idxOrName);emitter&&emitter.externalPause()}}async addEmitter(options,position){const emitterOptions=new Emitter;emitterOptions.load(options);const emitter=new EmitterInstance(this._engine,this,this.container,emitterOptions,position);return await emitter.init(),this.array.push(emitter),emitter}handleClickMode(mode){const emitterOptions=this.emitters,modeEmitters=this.interactivityEmitters;if(mode!==EmitterClickMode.emitter)return;let emittersModeOptions;if(modeEmitters&&(0,browser.cyL)(modeEmitters.value)){const minLength=0;if(modeEmitters.value.length>minLength&&modeEmitters.random.enable){emittersModeOptions=[];const usedIndexes=[];for(let i=0;i<modeEmitters.random.count;i++){const idx=(0,browser.n02)(modeEmitters.value);usedIndexes.includes(idx)&&usedIndexes.length<modeEmitters.value.length?i--:(usedIndexes.push(idx),emittersModeOptions.push((0,browser.Vh1)(modeEmitters.value,idx)))}}else emittersModeOptions=modeEmitters.value}else emittersModeOptions=modeEmitters?.value;const emittersOptions=emittersModeOptions??emitterOptions,ePosition=this.container.interactivity.mouse.clickPosition;(0,browser.wJ2)(emittersOptions,(async emitter=>{await this.addEmitter(emitter,ePosition)}))}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,this.emitters)if((0,browser.cyL)(this.emitters))for(const emitterOptions of this.emitters)await this.addEmitter(emitterOptions);else await this.addEmitter(this.emitters)}pause(){for(const emitter of this.array)emitter.pause()}play(){for(const emitter of this.array)emitter.play()}removeEmitter(emitter){const index=this.array.indexOf(emitter);index>=0&&this.array.splice(index,1)}resize(){for(const emitter of this.array)emitter.resize()}stop(){this.array=[]}update(delta){for(const emitter of this.array)emitter.update(delta)}}class EmittersPlugin{constructor(engine){this._engine=engine,this.id="emitters"}getPlugin(container){return Promise.resolve(new Emitters(this._engine,container))}loadOptions(options,source){if(!this.needsPlugin(options)&&!this.needsPlugin(source))return;source?.emitters&&(options.emitters=(0,browser.wJ2)(source.emitters,(emitter=>{const tmp=new Emitter;return tmp.load(emitter),tmp})));const interactivityEmitters=source?.interactivity?.modes?.emitters;if(interactivityEmitters)if((0,browser.cyL)(interactivityEmitters))options.interactivity.modes.emitters={random:{count:1,enable:!0},value:interactivityEmitters.map((s=>{const tmp=new Emitter;return tmp.load(s),tmp}))};else{const emitterMode=interactivityEmitters;if(void 0!==emitterMode.value){const defaultCount=1;if((0,browser.cyL)(emitterMode.value))options.interactivity.modes.emitters={random:{count:emitterMode.random.count??defaultCount,enable:emitterMode.random.enable??!1},value:emitterMode.value.map((s=>{const tmp=new Emitter;return tmp.load(s),tmp}))};else{const tmp=new Emitter;tmp.load(emitterMode.value),options.interactivity.modes.emitters={random:{count:emitterMode.random.count??defaultCount,enable:emitterMode.random.enable??!1},value:tmp}}}else{(options.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Emitter}).value.load(interactivityEmitters)}}}needsPlugin(options){if(!options)return!1;const emitters=options.emitters;return(0,browser.cyL)(emitters)&&!!emitters.length||void 0!==emitters||!!options.interactivity?.events?.onClick?.mode&&(0,browser.hnD)(EmitterClickMode.emitter,options.interactivity.events.onClick.mode)}}const shapeGeneratorss=new Map;class ShapeManager{constructor(engine){this._engine=engine}addShapeGenerator(name,generator){this.getShapeGenerator(name)||shapeGeneratorss.set(name,generator)}getShapeGenerator(name){return shapeGeneratorss.get(name)}getSupportedShapeGenerators(){return shapeGeneratorss.keys()}}class EmitterShapeBase{constructor(position,size,fill,options){this.position=position,this.size=size,this.fill=fill,this.options=options}resize(position,size){this.position=position,this.size=size}}const doublePI=2*Math.PI;class EmittersCircleShape extends EmitterShapeBase{constructor(position,size,fill,options){super(position,size,fill,options)}async init(){}randomPosition(){const size=this.size,fill=this.fill,position=this.position,[a,b]=[.5*size.width,.5*size.height],randomTheta=((x,y)=>{const u=.25*(0,browser.G0i)(),theta=Math.atan(y/x*Math.tan(doublePI*u)),v=(0,browser.G0i)();return v<.25?theta:v<.5?Math.PI-theta:v<.75?Math.PI+theta:-theta})(a,b),maxRadius=(theta=randomTheta,(x=a)*(y=b)/Math.sqrt((y*Math.cos(theta))**2+(x*Math.sin(theta))**2)),randomRadius=fill?maxRadius*Math.sqrt((0,browser.G0i)()):maxRadius;var x,y,theta;return{position:{x:position.x+randomRadius*Math.cos(randomTheta),y:position.y+randomRadius*Math.sin(randomTheta)}}}}class EmittersCircleShapeGenerator{generate(position,size,fill,options){return new EmittersCircleShape(position,size,fill,options)}}var Sides;function randomSquareCoordinate(position,offset){return position+offset*((0,browser.G0i)()-browser.N3d)}!function(Sides){Sides[Sides.TopLeft=0]="TopLeft",Sides[Sides.TopRight=1]="TopRight",Sides[Sides.BottomRight=2]="BottomRight",Sides[Sides.BottomLeft=3]="BottomLeft"}(Sides||(Sides={}));class EmittersSquareShape extends EmitterShapeBase{constructor(position,size,fill,options){super(position,size,fill,options)}async init(){}randomPosition(){const fill=this.fill,position=this.position,size=this.size;if(fill)return{position:{x:randomSquareCoordinate(position.x,size.width),y:randomSquareCoordinate(position.y,size.height)}};{const halfW=.5*size.width,halfH=.5*size.height,side=Math.floor(4*(0,browser.G0i)()),v=2*((0,browser.G0i)()-browser.N3d);switch(side){case Sides.TopLeft:return{position:{x:position.x+v*halfW,y:position.y-halfH}};case Sides.TopRight:return{position:{x:position.x-halfW,y:position.y+v*halfH}};case Sides.BottomRight:return{position:{x:position.x+v*halfW,y:position.y+halfH}};case Sides.BottomLeft:default:return{position:{x:position.x+halfW,y:position.y+v*halfH}}}}}}class EmittersSquareShapeGenerator{generate(position,size,fill,options){return new EmittersSquareShape(position,size,fill,options)}}class Trail{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(data){data&&(void 0!==data.delay&&(this.delay=data.delay),void 0!==data.quantity&&(this.quantity=data.quantity),void 0!==data.particles&&(this.particles=(0,browser.zwS)({},data.particles)),void 0!==data.pauseOnStop&&(this.pauseOnStop=data.pauseOnStop))}}class TrailMaker extends browser.sJd{constructor(container){super(container),this._delay=0}clear(){}init(){}interact(delta){const container=this.container,{interactivity}=container;if(!container.retina.reduceFactor)return;const trailOptions=container.actualOptions.interactivity.modes.trail;if(!trailOptions)return;const optDelay=trailOptions.delay*browser.XuV/this.container.retina.reduceFactor;if(this._delay<optDelay&&(this._delay+=delta.value),this._delay<optDelay)return;const canEmit=!(trailOptions.pauseOnStop&&(interactivity.mouse.position===this._lastPosition||interactivity.mouse.position?.x===this._lastPosition?.x&&interactivity.mouse.position?.y===this._lastPosition?.y)),mousePos=container.interactivity.mouse.position;mousePos?this._lastPosition={...mousePos}:delete this._lastPosition,canEmit&&container.particles.push(trailOptions.quantity,container.interactivity.mouse,trailOptions.particles),this._delay-=optDelay}isEnabled(particle){const container=this.container,options=container.actualOptions,mouse=container.interactivity.mouse,events=(particle?.interactivity??options.interactivity).events;return mouse.clicking&&mouse.inside&&!!mouse.position&&(0,browser.hnD)("trail",events.onClick.mode)||mouse.inside&&!!mouse.position&&(0,browser.hnD)("trail",events.onHover.mode)}loadModeOptions(options,...sources){options.trail||(options.trail=new Trail);for(const source of sources)options.trail.load(source?.trail)}reset(){}}var RollMode;!function(RollMode){RollMode.both="both",RollMode.horizontal="horizontal",RollMode.vertical="vertical"}(RollMode||(RollMode={}));const Utils_doublePI=2*Math.PI;class RollLight{constructor(){this.enable=!1,this.value=0}load(data){data&&(void 0!==data.enable&&(this.enable=data.enable),void 0!==data.value&&(this.value=(0,browser.DT4)(data.value)))}}class Roll{constructor(){this.darken=new RollLight,this.enable=!1,this.enlighten=new RollLight,this.mode=RollMode.vertical,this.speed=25}load(data){data&&(void 0!==data.backColor&&(this.backColor=browser.Oit.create(this.backColor,data.backColor)),this.darken.load(data.darken),void 0!==data.enable&&(this.enable=data.enable),this.enlighten.load(data.enlighten),void 0!==data.mode&&(this.mode=data.mode),void 0!==data.speed&&(this.speed=(0,browser.DT4)(data.speed)))}}class RollUpdater{getTransformValues(particle){const roll=particle.roll?.enable&&particle.roll,rollHorizontal=roll&&roll.horizontal,rollVertical=roll&&roll.vertical;return{a:rollHorizontal?Math.cos(roll.angle):void 0,d:rollVertical?Math.sin(roll.angle):void 0}}init(particle){!function initParticle(particle){const rollOpt=particle.options.roll;if(rollOpt?.enable)if(particle.roll={enable:rollOpt.enable,horizontal:rollOpt.mode===RollMode.horizontal||rollOpt.mode===RollMode.both,vertical:rollOpt.mode===RollMode.vertical||rollOpt.mode===RollMode.both,angle:(0,browser.G0i)()*Utils_doublePI,speed:(0,browser.VGA)(rollOpt.speed)/360},rollOpt.backColor)particle.backColor=(0,browser.R5R)(rollOpt.backColor);else if(rollOpt.darken.enable&&rollOpt.enlighten.enable){const alterType=(0,browser.G0i)()>=browser.N3d?browser.HKZ.darken:browser.HKZ.enlighten;particle.roll.alter={type:alterType,value:(0,browser.VGA)(alterType===browser.HKZ.darken?rollOpt.darken.value:rollOpt.enlighten.value)}}else rollOpt.darken.enable?particle.roll.alter={type:browser.HKZ.darken,value:(0,browser.VGA)(rollOpt.darken.value)}:rollOpt.enlighten.enable&&(particle.roll.alter={type:browser.HKZ.enlighten,value:(0,browser.VGA)(rollOpt.enlighten.value)});else particle.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}(particle)}isEnabled(particle){const roll=particle.options.roll;return!particle.destroyed&&!particle.spawning&&!!roll?.enable}loadOptions(options,...sources){options.roll||(options.roll=new Roll);for(const source of sources)options.roll.load(source?.roll)}update(particle,delta){this.isEnabled(particle)&&function updateRoll(particle,delta){const roll=particle.options.roll,data=particle.roll;if(!data||!roll?.enable)return;const speed=data.speed*delta.factor,max=Utils_doublePI;data.angle+=speed,data.angle>max&&(data.angle-=max)}(particle,delta)}}const identity=1;function move(particle,moveOptions,moveSpeed,maxSpeed,moveDrift,delta){!function applyPath(particle,delta){const particlesOptions=particle.options,pathOptions=particlesOptions.move.path;if(!pathOptions.enable)return;if(particle.lastPathTime<=particle.pathDelay)return void(particle.lastPathTime+=delta.value);const path=particle.pathGenerator?.generate(particle,delta);path&&particle.velocity.addTo(path);pathOptions.clamp&&(particle.velocity.x=(0,browser.qE8)(particle.velocity.x,-identity,identity),particle.velocity.y=(0,browser.qE8)(particle.velocity.y,-identity,identity));particle.lastPathTime-=particle.pathDelay}(particle,delta);const gravityOptions=particle.gravity,gravityFactor=gravityOptions?.enable&&gravityOptions.inverse?-identity:identity;moveDrift&&moveSpeed&&(particle.velocity.x+=moveDrift*delta.factor/(60*moveSpeed)),gravityOptions?.enable&&moveSpeed&&(particle.velocity.y+=gravityFactor*(gravityOptions.acceleration*delta.factor)/(60*moveSpeed));const decay=particle.moveDecay;particle.velocity.multTo(decay);const velocity=particle.velocity.mult(moveSpeed);gravityOptions?.enable&&maxSpeed>0&&(!gravityOptions.inverse&&velocity.y>=0&&velocity.y>=maxSpeed||gravityOptions.inverse&&velocity.y<=0&&velocity.y<=-maxSpeed)&&(velocity.y=gravityFactor*maxSpeed,moveSpeed&&(particle.velocity.y=velocity.y/moveSpeed));const zIndexOptions=particle.options.zIndex,zVelocityFactor=(identity-particle.zIndexFactor)**zIndexOptions.velocityRate;velocity.multTo(zVelocityFactor);const{position}=particle;position.addTo(velocity),moveOptions.vibrate&&(position.x+=Math.sin(position.x*Math.cos(position.y)),position.y+=Math.cos(position.y*Math.sin(position.x)))}class BaseMover{init(particle){const gravityOptions=particle.options.move.gravity;particle.gravity={enable:gravityOptions.enable,acceleration:(0,browser.VGA)(gravityOptions.acceleration),inverse:gravityOptions.inverse},function initSpin(particle){const container=particle.container,spinOptions=particle.options.move.spin;if(!spinOptions.enable)return;const spinPos=spinOptions.position??{x:50,y:50},spinCenter={x:.01*spinPos.x*container.canvas.size.width,y:.01*spinPos.y*container.canvas.size.height},pos=particle.getPosition(),distance=(0,browser.YfF)(pos,spinCenter),spinAcceleration=(0,browser.VGA)(spinOptions.acceleration);particle.retina.spinAcceleration=spinAcceleration*container.retina.pixelRatio,particle.spin={center:spinCenter,direction:particle.velocity.x>=0?browser.pTR.clockwise:browser.pTR.counterClockwise,angle:particle.velocity.angle,radius:distance,acceleration:particle.retina.spinAcceleration}}(particle)}isEnabled(particle){return!particle.destroyed&&particle.options.move.enable}move(particle,delta){const particleOptions=particle.options,moveOptions=particleOptions.move;if(!moveOptions.enable)return;const container=particle.container,pxRatio=container.retina.pixelRatio;particle.retina.moveSpeed??=(0,browser.VGA)(moveOptions.speed)*pxRatio,particle.retina.moveDrift??=(0,browser.VGA)(particle.options.move.drift)*pxRatio;const slowFactor=function getProximitySpeedFactor(particle){return particle.slow.inRange?particle.slow.factor:identity}(particle),baseSpeed=particle.retina.moveSpeed*container.retina.reduceFactor,moveDrift=particle.retina.moveDrift,maxSize=(0,browser.W9e)(particleOptions.size.value)*pxRatio,moveSpeed=baseSpeed*(moveOptions.size?particle.getRadius()/maxSize:1)*slowFactor*(delta.factor||1)/2,maxSpeed=particle.retina.maxSpeed??container.retina.maxSpeed;moveOptions.spin.enable?function spin(particle,moveSpeed){const container=particle.container;if(!particle.spin)return;const updateFunc={x:particle.spin.direction===browser.pTR.clockwise?Math.cos:Math.sin,y:particle.spin.direction===browser.pTR.clockwise?Math.sin:Math.cos};particle.position.x=particle.spin.center.x+particle.spin.radius*updateFunc.x(particle.spin.angle),particle.position.y=particle.spin.center.y+particle.spin.radius*updateFunc.y(particle.spin.angle),particle.spin.radius+=particle.spin.acceleration;const maxCanvasSize=Math.max(container.canvas.size.width,container.canvas.size.height),halfMaxSize=.5*maxCanvasSize;particle.spin.radius>halfMaxSize?(particle.spin.radius=halfMaxSize,particle.spin.acceleration*=-identity):particle.spin.radius<0&&(particle.spin.radius=0,particle.spin.acceleration*=-identity),particle.spin.angle+=.01*moveSpeed*(identity-particle.spin.radius/maxCanvasSize)}(particle,moveSpeed):move(particle,moveOptions,moveSpeed,maxSpeed,moveDrift,delta),function applyDistance(particle){const initialPosition=particle.initialPosition,{dx,dy}=(0,browser.vrU)(initialPosition,particle.position),dxFixed=Math.abs(dx),dyFixed=Math.abs(dy),{maxDistance}=particle.retina,hDistance=maxDistance.horizontal,vDistance=maxDistance.vertical;if(!hDistance&&!vDistance)return;if((hDistance&&dxFixed>=hDistance||vDistance&&dyFixed>=vDistance)&&!particle.misplaced)particle.misplaced=!!hDistance&&dxFixed>hDistance||!!vDistance&&dyFixed>vDistance,hDistance&&(particle.velocity.x=.5*particle.velocity.y-particle.velocity.x),vDistance&&(particle.velocity.y=.5*particle.velocity.x-particle.velocity.y);else if((!hDistance||dxFixed<hDistance)&&(!vDistance||dyFixed<vDistance)&&particle.misplaced)particle.misplaced=!1;else if(particle.misplaced){const pos=particle.position,vel=particle.velocity;hDistance&&(pos.x<initialPosition.x&&vel.x<0||pos.x>initialPosition.x&&vel.x>0)&&(vel.x*=-(0,browser.G0i)()),vDistance&&(pos.y<initialPosition.y&&vel.y<0||pos.y>initialPosition.y&&vel.y>0)&&(vel.y*=-(0,browser.G0i)())}}(particle)}}const browser_Utils_doublePI=2*Math.PI,Utils_origin_x=0,Utils_origin_y=0;class CircleDrawer{constructor(){this.validTypes=["circle"]}draw(data){!function drawCircle(data){const{context,particle,radius}=data;particle.circleRange||(particle.circleRange={min:0,max:browser_Utils_doublePI});const circleRange=particle.circleRange;context.arc(Utils_origin_x,Utils_origin_y,radius,circleRange.min,circleRange.max,!1)}(data)}getSidesCount(){return 12}particleInit(container,particle){const shapeData=particle.shapeData,angle=shapeData?.angle??{max:360,min:0};particle.circleRange=(0,browser.Gvm)(angle)?{min:(0,browser.puj)(angle.min),max:(0,browser.puj)(angle.max)}:{min:0,max:(0,browser.puj)(angle)}}}class ColorUpdater{constructor(container){this.container=container}init(particle){const hslColor=(0,browser.R5R)(particle.options.color,particle.id,particle.options.reduceDuplicates);hslColor&&(particle.color=(0,browser.pzy)(hslColor,particle.options.color.animation,this.container.retina.reduceFactor))}isEnabled(particle){const{h:hAnimation,s:sAnimation,l:lAnimation}=particle.options.color.animation,{color}=particle;return!particle.destroyed&&!particle.spawning&&(void 0!==color?.h.value&&hAnimation.enable||void 0!==color?.s.value&&sAnimation.enable||void 0!==color?.l.value&&lAnimation.enable)}update(particle,delta){(0,browser.JvX)(particle.color,delta)}}class OpacityUpdater{constructor(container){this.container=container}init(particle){const opacityOptions=particle.options.opacity;particle.opacity=(0,browser.XsS)(opacityOptions,1);const opacityAnimation=opacityOptions.animation;opacityAnimation.enable&&(particle.opacity.velocity=(0,browser.VGA)(opacityAnimation.speed)/browser.a56*this.container.retina.reduceFactor,opacityAnimation.sync||(particle.opacity.velocity*=(0,browser.G0i)()))}isEnabled(particle){return!particle.destroyed&&!particle.spawning&&!!particle.opacity&&particle.opacity.enable&&((particle.opacity.maxLoops??0)<=0||(particle.opacity.maxLoops??0)>0&&(particle.opacity.loops??0)<(particle.opacity.maxLoops??0))}reset(particle){particle.opacity&&(particle.opacity.time=0,particle.opacity.loops=0)}update(particle,delta){this.isEnabled(particle)&&particle.opacity&&(0,browser.UC0)(particle,particle.opacity,!0,particle.options.opacity.animation.destroy,delta)}}class BounceOutMode{constructor(container){this.container=container,this.modes=[browser.Yzx.bounce,browser.Yzx.split]}update(particle,direction,delta,outMode){if(!this.modes.includes(outMode))return;const container=this.container;let handled=!1;for(const[,plugin]of container.plugins)if(void 0!==plugin.particleBounce&&(handled=plugin.particleBounce(particle,delta,direction)),handled)break;if(handled)return;const pos=particle.getPosition(),offset=particle.offset,size=particle.getRadius(),bounds=(0,browser.AEc)(pos,size),canvasSize=container.canvas.size;!function bounceHorizontal(data){if(data.outMode!==browser.Yzx.bounce&&data.outMode!==browser.Yzx.split||data.direction!==browser.v5k.left&&data.direction!==browser.v5k.right)return;data.bounds.right<0&&data.direction===browser.v5k.left?data.particle.position.x=data.size+data.offset.x:data.bounds.left>data.canvasSize.width&&data.direction===browser.v5k.right&&(data.particle.position.x=data.canvasSize.width-data.size-data.offset.x);const velocity=data.particle.velocity.x;let bounced=!1;if(data.direction===browser.v5k.right&&data.bounds.right>=data.canvasSize.width&&velocity>0||data.direction===browser.v5k.left&&data.bounds.left<=0&&velocity<0){const newVelocity=(0,browser.VGA)(data.particle.options.bounce.horizontal.value);data.particle.velocity.x*=-newVelocity,bounced=!0}if(!bounced)return;const minPos=data.offset.x+data.size;data.bounds.right>=data.canvasSize.width&&data.direction===browser.v5k.right?data.particle.position.x=data.canvasSize.width-minPos:data.bounds.left<=0&&data.direction===browser.v5k.left&&(data.particle.position.x=minPos),data.outMode===browser.Yzx.split&&data.particle.destroy()}({particle,outMode,direction,bounds,canvasSize,offset,size}),function bounceVertical(data){if(data.outMode!==browser.Yzx.bounce&&data.outMode!==browser.Yzx.split||data.direction!==browser.v5k.bottom&&data.direction!==browser.v5k.top)return;data.bounds.bottom<0&&data.direction===browser.v5k.top?data.particle.position.y=data.size+data.offset.y:data.bounds.top>data.canvasSize.height&&data.direction===browser.v5k.bottom&&(data.particle.position.y=data.canvasSize.height-data.size-data.offset.y);const velocity=data.particle.velocity.y;let bounced=!1;if(data.direction===browser.v5k.bottom&&data.bounds.bottom>=data.canvasSize.height&&velocity>0||data.direction===browser.v5k.top&&data.bounds.top<=0&&velocity<0){const newVelocity=(0,browser.VGA)(data.particle.options.bounce.vertical.value);data.particle.velocity.y*=-newVelocity,bounced=!0}if(!bounced)return;const minPos=data.offset.y+data.size;data.bounds.bottom>=data.canvasSize.height&&data.direction===browser.v5k.bottom?data.particle.position.y=data.canvasSize.height-minPos:data.bounds.top<=0&&data.direction===browser.v5k.top&&(data.particle.position.y=minPos),data.outMode===browser.Yzx.split&&data.particle.destroy()}({particle,outMode,direction,bounds,canvasSize,offset,size})}}class DestroyOutMode{constructor(container){this.container=container,this.modes=[browser.Yzx.destroy]}update(particle,direction,_delta,outMode){if(!this.modes.includes(outMode))return;const container=this.container;switch(particle.outType){case browser.x_I.normal:case browser.x_I.outside:if((0,browser.Tj8)(particle.position,container.canvas.size,browser.Miz.origin,particle.getRadius(),direction))return;break;case browser.x_I.inside:{const{dx,dy}=(0,browser.vrU)(particle.position,particle.moveCenter),{x:vx,y:vy}=particle.velocity;if(vx<0&&dx>particle.moveCenter.radius||vy<0&&dy>particle.moveCenter.radius||vx>=0&&dx<-particle.moveCenter.radius||vy>=0&&dy<-particle.moveCenter.radius)return;break}}container.particles.remove(particle,void 0,!0)}}class NoneOutMode{constructor(container){this.container=container,this.modes=[browser.Yzx.none]}update(particle,direction,delta,outMode){if(!this.modes.includes(outMode))return;if((particle.options.move.distance.horizontal&&(direction===browser.v5k.left||direction===browser.v5k.right))??(particle.options.move.distance.vertical&&(direction===browser.v5k.top||direction===browser.v5k.bottom)))return;const gravityOptions=particle.options.move.gravity,container=this.container,canvasSize=container.canvas.size,pRadius=particle.getRadius();if(gravityOptions.enable){const position=particle.position;(!gravityOptions.inverse&&position.y>canvasSize.height+pRadius&&direction===browser.v5k.bottom||gravityOptions.inverse&&position.y<-pRadius&&direction===browser.v5k.top)&&container.particles.remove(particle)}else{if(particle.velocity.y>0&&particle.position.y<=canvasSize.height+pRadius||particle.velocity.y<0&&particle.position.y>=-pRadius||particle.velocity.x>0&&particle.position.x<=canvasSize.width+pRadius||particle.velocity.x<0&&particle.position.x>=-pRadius)return;(0,browser.Tj8)(particle.position,container.canvas.size,browser.Miz.origin,pRadius,direction)||container.particles.remove(particle)}}}class OutOutMode{constructor(container){this.container=container,this.modes=[browser.Yzx.out]}update(particle,direction,delta,outMode){if(!this.modes.includes(outMode))return;const container=this.container;switch(particle.outType){case browser.x_I.inside:{const{x:vx,y:vy}=particle.velocity,circVec=browser.Miz.origin;circVec.length=particle.moveCenter.radius,circVec.angle=particle.velocity.angle+Math.PI,circVec.addTo(browser.Miz.create(particle.moveCenter));const{dx,dy}=(0,browser.vrU)(particle.position,circVec);if(vx<=0&&dx>=0||vy<=0&&dy>=0||vx>=0&&dx<=0||vy>=0&&dy<=0)return;particle.position.x=Math.floor((0,browser.U43)({min:0,max:container.canvas.size.width})),particle.position.y=Math.floor((0,browser.U43)({min:0,max:container.canvas.size.height}));const{dx:newDx,dy:newDy}=(0,browser.vrU)(particle.position,particle.moveCenter);particle.direction=Math.atan2(-newDy,-newDx),particle.velocity.angle=particle.direction;break}default:if((0,browser.Tj8)(particle.position,container.canvas.size,browser.Miz.origin,particle.getRadius(),direction))return;switch(particle.outType){case browser.x_I.outside:{particle.position.x=Math.floor((0,browser.U43)({min:-particle.moveCenter.radius,max:particle.moveCenter.radius}))+particle.moveCenter.x,particle.position.y=Math.floor((0,browser.U43)({min:-particle.moveCenter.radius,max:particle.moveCenter.radius}))+particle.moveCenter.y;const{dx,dy}=(0,browser.vrU)(particle.position,particle.moveCenter);particle.moveCenter.radius&&(particle.direction=Math.atan2(dy,dx),particle.velocity.angle=particle.direction);break}case browser.x_I.normal:{const warp=particle.options.move.warp,canvasSize=container.canvas.size,newPos={bottom:canvasSize.height+particle.getRadius()+particle.offset.y,left:-particle.getRadius()-particle.offset.x,right:canvasSize.width+particle.getRadius()+particle.offset.x,top:-particle.getRadius()-particle.offset.y},sizeValue=particle.getRadius(),nextBounds=(0,browser.AEc)(particle.position,sizeValue);direction===browser.v5k.right&&nextBounds.left>canvasSize.width+particle.offset.x?(particle.position.x=newPos.left,particle.initialPosition.x=particle.position.x,warp||(particle.position.y=(0,browser.G0i)()*canvasSize.height,particle.initialPosition.y=particle.position.y)):direction===browser.v5k.left&&nextBounds.right<-particle.offset.x&&(particle.position.x=newPos.right,particle.initialPosition.x=particle.position.x,warp||(particle.position.y=(0,browser.G0i)()*canvasSize.height,particle.initialPosition.y=particle.position.y)),direction===browser.v5k.bottom&&nextBounds.top>canvasSize.height+particle.offset.y?(warp||(particle.position.x=(0,browser.G0i)()*canvasSize.width,particle.initialPosition.x=particle.position.x),particle.position.y=newPos.top,particle.initialPosition.y=particle.position.y):direction===browser.v5k.top&&nextBounds.bottom<-particle.offset.y&&(warp||(particle.position.x=(0,browser.G0i)()*canvasSize.width,particle.initialPosition.x=particle.position.x),particle.position.y=newPos.bottom,particle.initialPosition.y=particle.position.y);break}}}}}const checkOutMode=(outModes,outMode)=>outModes.default===outMode||outModes.bottom===outMode||outModes.left===outMode||outModes.right===outMode||outModes.top===outMode;class OutOfCanvasUpdater{constructor(container){this._updateOutMode=(particle,delta,outMode,direction)=>{for(const updater of this.updaters)updater.update(particle,direction,delta,outMode)},this.container=container,this.updaters=[]}init(particle){this.updaters=[];const outModes=particle.options.move.outModes;checkOutMode(outModes,browser.Yzx.bounce)?this.updaters.push(new BounceOutMode(this.container)):checkOutMode(outModes,browser.Yzx.out)?this.updaters.push(new OutOutMode(this.container)):checkOutMode(outModes,browser.Yzx.destroy)?this.updaters.push(new DestroyOutMode(this.container)):checkOutMode(outModes,browser.Yzx.none)&&this.updaters.push(new NoneOutMode(this.container))}isEnabled(particle){return!particle.destroyed&&!particle.spawning}update(particle,delta){const outModes=particle.options.move.outModes;this._updateOutMode(particle,delta,outModes.bottom??outModes.default,browser.v5k.bottom),this._updateOutMode(particle,delta,outModes.left??outModes.default,browser.v5k.left),this._updateOutMode(particle,delta,outModes.right??outModes.default,browser.v5k.right),this._updateOutMode(particle,delta,outModes.top??outModes.default,browser.v5k.top)}}class SizeUpdater{init(particle){const container=particle.container,sizeAnimation=particle.options.size.animation;sizeAnimation.enable&&(particle.size.velocity=(particle.retina.sizeAnimationSpeed??container.retina.sizeAnimationSpeed)/browser.a56*container.retina.reduceFactor,sizeAnimation.sync||(particle.size.velocity*=(0,browser.G0i)()))}isEnabled(particle){return!particle.destroyed&&!particle.spawning&&particle.size.enable&&((particle.size.maxLoops??0)<=0||(particle.size.maxLoops??0)>0&&(particle.size.loops??0)<(particle.size.maxLoops??0))}reset(particle){particle.size.loops=0}update(particle,delta){this.isEnabled(particle)&&(0,browser.UC0)(particle,particle.size,!0,particle.options.size.animation.destroy,delta)}}async function loadBasic(engine,refresh=!0){await async function loadBaseMover(engine,refresh=!0){await engine.addMover("base",(()=>Promise.resolve(new BaseMover)),refresh)}(engine,!1),await async function loadCircleShape(engine,refresh=!0){await engine.addShape(new CircleDrawer,refresh)}(engine,!1),await async function loadColorUpdater(engine,refresh=!0){await engine.addParticleUpdater("color",(container=>Promise.resolve(new ColorUpdater(container))),refresh)}(engine,!1),await async function loadOpacityUpdater(engine,refresh=!0){await engine.addParticleUpdater("opacity",(container=>Promise.resolve(new OpacityUpdater(container))),refresh)}(engine,!1),await async function loadOutModesUpdater(engine,refresh=!0){await engine.addParticleUpdater("outModes",(container=>Promise.resolve(new OutOfCanvasUpdater(container))),refresh)}(engine,!1),await async function loadSizeUpdater(engine,refresh=!0){await engine.addParticleUpdater("size",(()=>Promise.resolve(new SizeUpdater)),refresh)}(engine,!1),await engine.refresh(refresh)}const defaultFont='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class EmojiDrawer{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[key,emojiData]of this._emojiShapeDict)emojiData instanceof ImageBitmap&&(emojiData?.close(),this._emojiShapeDict.delete(key))}draw(data){!function drawEmoji(data){const{context,particle,radius,opacity}=data,emojiData=particle.emojiData,diameter=2*radius,previousAlpha=context.globalAlpha;emojiData&&(context.globalAlpha=opacity,context.drawImage(emojiData,-radius,-radius,diameter,diameter),context.globalAlpha=previousAlpha)}(data)}async init(container){const options=container.actualOptions,{validTypes}=this;if(!validTypes.find((t=>(0,browser.hnD)(t,options.particles.shape.type))))return;const promises=[(0,browser.AlN)(defaultFont)],shapeOptions=validTypes.map((t=>options.particles.shape.options[t])).find((t=>!!t));shapeOptions&&(0,browser.wJ2)(shapeOptions,(shape=>{shape.font&&promises.push((0,browser.AlN)(shape.font))})),await Promise.all(promises)}particleDestroy(particle){delete particle.emojiData}particleInit(container,particle){const shapeData=particle.shapeData;if(!shapeData?.value)return;const emoji=(0,browser.TA3)(shapeData.value,particle.randomIndexData),font=shapeData.font??defaultFont;if(!emoji)return;const key=`${emoji}_${font}`,existingData=this._emojiShapeDict.get(key);if(existingData)return void(particle.emojiData=existingData);const canvasSize=2*(0,browser.W9e)(particle.size.value);let emojiData;const maxSize=(0,browser.W9e)(particle.size.value);if("undefined"!=typeof OffscreenCanvas){const canvas=new OffscreenCanvas(canvasSize,canvasSize),context=canvas.getContext("2d");if(!context)return;context.font=`400 ${2*maxSize}px ${font}`,context.textBaseline="middle",context.textAlign="center",context.fillText(emoji,maxSize,maxSize),emojiData=canvas.transferToImageBitmap()}else{const canvas=document.createElement("canvas");canvas.width=canvasSize,canvas.height=canvasSize;const context=canvas.getContext("2d");if(!context)return;context.font=`400 ${2*maxSize}px ${font}`,context.textBaseline="middle",context.textAlign="center",context.fillText(emoji,maxSize,maxSize),emojiData=canvas}this._emojiShapeDict.set(key,emojiData),particle.emojiData=emojiData}}const minFactor=1,Utils_identity=1;function processAttract(container,position,attractRadius,area,queryCb){const attractOptions=container.actualOptions.interactivity.modes.attract;if(!attractOptions)return;const query=container.particles.quadTree.query(area,queryCb);for(const particle of query){const{dx,dy,distance}=(0,browser.vrU)(particle.position,position),velocity=attractOptions.speed*attractOptions.factor,attractFactor=(0,browser.qE8)((0,browser.ilx)(attractOptions.easing)(Utils_identity-distance/attractRadius)*velocity,minFactor,attractOptions.maxSpeed),normVec=browser.Miz.create(distance?dx/distance*attractFactor:velocity,distance?dy/distance*attractFactor:velocity);particle.position.subFrom(normVec)}}class Attract{constructor(){this.distance=200,this.duration=.4,this.easing=browser.mgy.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(data){data&&(void 0!==data.distance&&(this.distance=data.distance),void 0!==data.duration&&(this.duration=data.duration),void 0!==data.easing&&(this.easing=data.easing),void 0!==data.factor&&(this.factor=data.factor),void 0!==data.maxSpeed&&(this.maxSpeed=data.maxSpeed),void 0!==data.speed&&(this.speed=data.speed))}}class Attractor extends browser.sJd{constructor(engine,container){super(container),this._engine=engine,container.attract||(container.attract={particles:[]}),this.handleClickMode=mode=>{const attract=this.container.actualOptions.interactivity.modes.attract;if(attract&&"attract"===mode){container.attract||(container.attract={particles:[]}),container.attract.clicking=!0,container.attract.count=0;for(const particle of container.attract.particles)this.isEnabled(particle)&&particle.velocity.setTo(particle.initialVelocity);container.attract.particles=[],container.attract.finish=!1,setTimeout((()=>{container.destroyed||(container.attract||(container.attract={particles:[]}),container.attract.clicking=!1)}),attract.duration*browser.XuV)}}}clear(){}init(){const container=this.container,attract=container.actualOptions.interactivity.modes.attract;attract&&(container.retina.attractModeDistance=attract.distance*container.retina.pixelRatio)}interact(){const container=this.container,options=container.actualOptions,mouseMoveStatus=container.interactivity.status===browser.RbF,events=options.interactivity.events,{enable:hoverEnabled,mode:hoverMode}=events.onHover,{enable:clickEnabled,mode:clickMode}=events.onClick;mouseMoveStatus&&hoverEnabled&&(0,browser.hnD)("attract",hoverMode)?function hoverAttract(container,enabledCb){const mousePos=container.interactivity.mouse.position,attractRadius=container.retina.attractModeDistance;!attractRadius||attractRadius<0||!mousePos||processAttract(container,mousePos,attractRadius,new browser.jlt(mousePos.x,mousePos.y,attractRadius),(p=>enabledCb(p)))}(this.container,(p=>this.isEnabled(p))):clickEnabled&&(0,browser.hnD)("attract",clickMode)&&function clickAttract(container,enabledCb){container.attract||(container.attract={particles:[]});const{attract}=container;if(attract.finish||(attract.count||(attract.count=0),attract.count++,attract.count===container.particles.count&&(attract.finish=!0)),attract.clicking){const mousePos=container.interactivity.mouse.clickPosition,attractRadius=container.retina.attractModeDistance;if(!attractRadius||attractRadius<0||!mousePos)return;processAttract(container,mousePos,attractRadius,new browser.jlt(mousePos.x,mousePos.y,attractRadius),(p=>enabledCb(p)))}else!1===attract.clicking&&(attract.particles=[])}(this.container,(p=>this.isEnabled(p)))}isEnabled(particle){const container=this.container,options=container.actualOptions,mouse=container.interactivity.mouse,events=(particle?.interactivity??options.interactivity).events;if(!(mouse.position&&events.onHover.enable||mouse.clickPosition&&events.onClick.enable))return!1;const hoverMode=events.onHover.mode,clickMode=events.onClick.mode;return(0,browser.hnD)("attract",hoverMode)||(0,browser.hnD)("attract",clickMode)}loadModeOptions(options,...sources){options.attract||(options.attract=new Attract);for(const source of sources)options.attract.load(source?.attract)}reset(){}}const Utils_squareExp=2,browser_Utils_half=.5,halfPI=Math.PI*browser_Utils_half,interaction_external_bounce_browser_Utils_double=2,toleranceFactor=10;function processBounce(container,position,radius,area,enabledCb){const query=container.particles.quadTree.query(area,enabledCb);for(const particle of query)area instanceof browser.jlt?(0,browser.pEn)((0,browser.Tgl)(particle),{position,radius,mass:radius**Utils_squareExp*halfPI,velocity:browser.Miz.origin,factor:browser.Miz.origin}):area instanceof browser.M_G&&(0,browser.jon)(particle,(0,browser.AEc)(position,radius))}function divBounce(container,divs,bounceMode,enabledCb){(0,browser.U6C)(bounceMode,divs,((selector,div)=>function singleSelectorBounce(container,selector,div,bounceCb){const query=document.querySelectorAll(selector);query.length&&query.forEach((item=>{const elem=item,pxRatio=container.retina.pixelRatio,pos={x:(elem.offsetLeft+elem.offsetWidth*browser_Utils_half)*pxRatio,y:(elem.offsetTop+elem.offsetHeight*browser_Utils_half)*pxRatio},radius=elem.offsetWidth*browser_Utils_half*pxRatio,tolerance=toleranceFactor*pxRatio,area=div.type===browser.Q5V.circle?new browser.jlt(pos.x,pos.y,radius+tolerance):new browser.M_G(elem.offsetLeft*pxRatio-tolerance,elem.offsetTop*pxRatio-tolerance,elem.offsetWidth*pxRatio+tolerance*interaction_external_bounce_browser_Utils_double,elem.offsetHeight*pxRatio+tolerance*interaction_external_bounce_browser_Utils_double);bounceCb(pos,radius,area)}))}(container,selector,div,((pos,radius,area)=>processBounce(container,pos,radius,area,enabledCb)))))}class Bounce{constructor(){this.distance=200}load(data){data&&void 0!==data.distance&&(this.distance=data.distance)}}class Bouncer extends browser.sJd{constructor(container){super(container)}clear(){}init(){const container=this.container,bounce=container.actualOptions.interactivity.modes.bounce;bounce&&(container.retina.bounceModeDistance=bounce.distance*container.retina.pixelRatio)}interact(){const container=this.container,events=container.actualOptions.interactivity.events,mouseMoveStatus=container.interactivity.status===browser.RbF,hoverEnabled=events.onHover.enable,hoverMode=events.onHover.mode,divs=events.onDiv;mouseMoveStatus&&hoverEnabled&&(0,browser.hnD)("bounce",hoverMode)?function mouseBounce(container,enabledCb){const pxRatio=container.retina.pixelRatio,tolerance=toleranceFactor*pxRatio,mousePos=container.interactivity.mouse.position,radius=container.retina.bounceModeDistance;!radius||radius<0||!mousePos||processBounce(container,mousePos,radius,new browser.jlt(mousePos.x,mousePos.y,radius+tolerance),enabledCb)}(this.container,(p=>this.isEnabled(p))):divBounce(this.container,divs,"bounce",(p=>this.isEnabled(p)))}isEnabled(particle){const container=this.container,options=container.actualOptions,mouse=container.interactivity.mouse,events=(particle?.interactivity??options.interactivity).events,divs=events.onDiv;return!!mouse.position&&events.onHover.enable&&(0,browser.hnD)("bounce",events.onHover.mode)||(0,browser.iKf)("bounce",divs)}loadModeOptions(options,...sources){options.bounce||(options.bounce=new Bounce);for(const source of sources)options.bounce.load(source?.bounce)}reset(){}}class BubbleBase{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(data){if(data){if(void 0!==data.distance&&(this.distance=data.distance),void 0!==data.duration&&(this.duration=data.duration),void 0!==data.mix&&(this.mix=data.mix),void 0!==data.opacity&&(this.opacity=data.opacity),void 0!==data.color){const sourceColor=(0,browser.cyL)(this.color)?void 0:this.color;this.color=(0,browser.wJ2)(data.color,(color=>browser.Oit.create(sourceColor,color)))}void 0!==data.size&&(this.size=data.size)}}}class BubbleDiv extends BubbleBase{constructor(){super(),this.selectors=[]}load(data){super.load(data),data&&void 0!==data.selectors&&(this.selectors=data.selectors)}}class Bubble extends BubbleBase{load(data){super.load(data),data&&(this.divs=(0,browser.wJ2)(data.divs,(div=>{const tmp=new BubbleDiv;return tmp.load(div),tmp})))}}var ProcessBubbleType;function calculateBubbleValue(particleValue,modeValue,optionsValue,ratio){if(modeValue>=optionsValue){const value=particleValue+(modeValue-optionsValue)*ratio;return(0,browser.qE8)(value,particleValue,modeValue)}if(modeValue<optionsValue){const value=particleValue-(optionsValue-modeValue)*ratio;return(0,browser.qE8)(value,modeValue,particleValue)}}!function(ProcessBubbleType){ProcessBubbleType.color="color",ProcessBubbleType.opacity="opacity",ProcessBubbleType.size="size"}(ProcessBubbleType||(ProcessBubbleType={}));class Bubbler extends browser.sJd{constructor(container){super(container),this._clickBubble=()=>{const container=this.container,options=container.actualOptions,mouseClickPos=container.interactivity.mouse.clickPosition,bubbleOptions=options.interactivity.modes.bubble;if(!bubbleOptions||!mouseClickPos)return;container.bubble||(container.bubble={});const distance=container.retina.bubbleModeDistance;if(!distance||distance<0)return;const query=container.particles.quadTree.queryCircle(mouseClickPos,distance,(p=>this.isEnabled(p))),{bubble}=container;for(const particle of query){if(!bubble.clicking)continue;particle.bubble.inRange=!bubble.durationEnd;const pos=particle.getPosition(),distMouse=(0,browser.YfF)(pos,mouseClickPos),timeSpent=((new Date).getTime()-(container.interactivity.mouse.clickTime??0))/browser.XuV;timeSpent>bubbleOptions.duration&&(bubble.durationEnd=!0),timeSpent>2*bubbleOptions.duration&&(bubble.clicking=!1,bubble.durationEnd=!1);const sizeData={bubbleObj:{optValue:container.retina.bubbleModeSize,value:particle.bubble.radius},particlesObj:{optValue:(0,browser.W9e)(particle.options.size.value)*container.retina.pixelRatio,value:particle.size.value},type:ProcessBubbleType.size};this._process(particle,distMouse,timeSpent,sizeData);const opacityData={bubbleObj:{optValue:bubbleOptions.opacity,value:particle.bubble.opacity},particlesObj:{optValue:(0,browser.W9e)(particle.options.opacity.value),value:particle.opacity?.value??1},type:ProcessBubbleType.opacity};this._process(particle,distMouse,timeSpent,opacityData),!bubble.durationEnd&&distMouse<=distance?this._hoverBubbleColor(particle,distMouse):delete particle.bubble.color}},this._hoverBubble=()=>{const container=this.container,mousePos=container.interactivity.mouse.position,distance=container.retina.bubbleModeDistance;if(!distance||distance<0||!mousePos)return;const query=container.particles.quadTree.queryCircle(mousePos,distance,(p=>this.isEnabled(p)));for(const particle of query){particle.bubble.inRange=!0;const pos=particle.getPosition(),pointDistance=(0,browser.YfF)(pos,mousePos),ratio=1-pointDistance/distance;pointDistance<=distance?ratio>=0&&container.interactivity.status===browser.RbF&&(this._hoverBubbleSize(particle,ratio),this._hoverBubbleOpacity(particle,ratio),this._hoverBubbleColor(particle,ratio)):this.reset(particle),container.interactivity.status===browser.Z04&&this.reset(particle)}},this._hoverBubbleColor=(particle,ratio,divBubble)=>{const options=this.container.actualOptions,bubbleOptions=divBubble??options.interactivity.modes.bubble;if(bubbleOptions){if(!particle.bubble.finalColor){const modeColor=bubbleOptions.color;if(!modeColor)return;const bubbleColor=(0,browser.TA3)(modeColor);particle.bubble.finalColor=(0,browser.R5R)(bubbleColor)}if(particle.bubble.finalColor)if(bubbleOptions.mix){particle.bubble.color=void 0;const pColor=particle.getFillColor();particle.bubble.color=pColor?(0,browser.K6u)((0,browser.EYT)(pColor,particle.bubble.finalColor,1-ratio,ratio)):particle.bubble.finalColor}else particle.bubble.color=particle.bubble.finalColor}},this._hoverBubbleOpacity=(particle,ratio,divBubble)=>{const options=this.container.actualOptions,modeOpacity=divBubble?.opacity??options.interactivity.modes.bubble?.opacity;if(!modeOpacity)return;const optOpacity=particle.options.opacity.value,opacity=calculateBubbleValue(particle.opacity?.value??1,modeOpacity,(0,browser.W9e)(optOpacity),ratio);void 0!==opacity&&(particle.bubble.opacity=opacity)},this._hoverBubbleSize=(particle,ratio,divBubble)=>{const container=this.container,modeSize=divBubble?.size?divBubble.size*container.retina.pixelRatio:container.retina.bubbleModeSize;if(void 0===modeSize)return;const optSize=(0,browser.W9e)(particle.options.size.value)*container.retina.pixelRatio,size=calculateBubbleValue(particle.size.value,modeSize,optSize,ratio);void 0!==size&&(particle.bubble.radius=size)},this._process=(particle,distMouse,timeSpent,data)=>{const container=this.container,bubbleParam=data.bubbleObj.optValue,bubbleOptions=container.actualOptions.interactivity.modes.bubble;if(!bubbleOptions||void 0===bubbleParam)return;const bubbleDuration=bubbleOptions.duration,bubbleDistance=container.retina.bubbleModeDistance,particlesParam=data.particlesObj.optValue,pObjBubble=data.bubbleObj.value,pObj=data.particlesObj.value??0,type=data.type;if(bubbleDistance&&!(bubbleDistance<0)&&bubbleParam!==particlesParam)if(container.bubble||(container.bubble={}),container.bubble.durationEnd)pObjBubble&&(type===ProcessBubbleType.size&&delete particle.bubble.radius,type===ProcessBubbleType.opacity&&delete particle.bubble.opacity);else if(distMouse<=bubbleDistance){if((pObjBubble??pObj)!==bubbleParam){const value=pObj-timeSpent*(pObj-bubbleParam)/bubbleDuration;type===ProcessBubbleType.size&&(particle.bubble.radius=value),type===ProcessBubbleType.opacity&&(particle.bubble.opacity=value)}}else type===ProcessBubbleType.size&&delete particle.bubble.radius,type===ProcessBubbleType.opacity&&delete particle.bubble.opacity},this._singleSelectorHover=(delta,selector,div)=>{const container=this.container,selectors=document.querySelectorAll(selector),bubble=container.actualOptions.interactivity.modes.bubble;bubble&&selectors.length&&selectors.forEach((item=>{const elem=item,pxRatio=container.retina.pixelRatio,pos={x:(elem.offsetLeft+.5*elem.offsetWidth)*pxRatio,y:(elem.offsetTop+.5*elem.offsetHeight)*pxRatio},repulseRadius=.5*elem.offsetWidth*pxRatio,area=div.type===browser.Q5V.circle?new browser.jlt(pos.x,pos.y,repulseRadius):new browser.M_G(elem.offsetLeft*pxRatio,elem.offsetTop*pxRatio,elem.offsetWidth*pxRatio,elem.offsetHeight*pxRatio),query=container.particles.quadTree.query(area,(p=>this.isEnabled(p)));for(const particle of query){if(!area.contains(particle.getPosition()))continue;particle.bubble.inRange=!0;const divs=bubble.divs,divBubble=(0,browser.NVT)(divs,elem);particle.bubble.div&&particle.bubble.div===elem||(this.clear(particle,delta,!0),particle.bubble.div=elem),this._hoverBubbleSize(particle,1,divBubble),this._hoverBubbleOpacity(particle,1,divBubble),this._hoverBubbleColor(particle,1,divBubble)}}))},container.bubble||(container.bubble={}),this.handleClickMode=mode=>{"bubble"===mode&&(container.bubble||(container.bubble={}),container.bubble.clicking=!0)}}clear(particle,delta,force){particle.bubble.inRange&&!force||(delete particle.bubble.div,delete particle.bubble.opacity,delete particle.bubble.radius,delete particle.bubble.color)}init(){const container=this.container,bubble=container.actualOptions.interactivity.modes.bubble;bubble&&(container.retina.bubbleModeDistance=bubble.distance*container.retina.pixelRatio,void 0!==bubble.size&&(container.retina.bubbleModeSize=bubble.size*container.retina.pixelRatio))}interact(delta){const events=this.container.actualOptions.interactivity.events,onHover=events.onHover,onClick=events.onClick,hoverEnabled=onHover.enable,hoverMode=onHover.mode,clickEnabled=onClick.enable,clickMode=onClick.mode,divs=events.onDiv;hoverEnabled&&(0,browser.hnD)("bubble",hoverMode)?this._hoverBubble():clickEnabled&&(0,browser.hnD)("bubble",clickMode)?this._clickBubble():(0,browser.U6C)("bubble",divs,((selector,div)=>this._singleSelectorHover(delta,selector,div)))}isEnabled(particle){const container=this.container,options=container.actualOptions,mouse=container.interactivity.mouse,events=(particle?.interactivity??options.interactivity).events,{onClick,onDiv,onHover}=events,divBubble=(0,browser.iKf)("bubble",onDiv);return!!(divBubble||onHover.enable&&mouse.position||onClick.enable&&mouse.clickPosition)&&((0,browser.hnD)("bubble",onHover.mode)||(0,browser.hnD)("bubble",onClick.mode)||divBubble)}loadModeOptions(options,...sources){options.bubble||(options.bubble=new Bubble);for(const source of sources)options.bubble.load(source?.bubble)}reset(particle){particle.bubble.inRange=!1}}class ConnectLinks{constructor(){this.opacity=.5}load(data){data&&void 0!==data.opacity&&(this.opacity=data.opacity)}}class Connect{constructor(){this.distance=80,this.links=new ConnectLinks,this.radius=60}load(data){data&&(void 0!==data.distance&&(this.distance=data.distance),this.links.load(data.links),void 0!==data.radius&&(this.radius=data.radius))}}const gradientMin=0,gradientMax=1;function lineStyle(container,ctx,p1,p2){const connectOptions=container.actualOptions.interactivity.modes.connect;if(connectOptions)return function gradient(context,p1,p2,opacity){const gradStop=Math.floor(p2.getRadius()/p1.getRadius()),color1=p1.getFillColor(),color2=p2.getFillColor();if(!color1||!color2)return;const sourcePos=p1.getPosition(),destPos=p2.getPosition(),midRgb=(0,browser.EYT)(color1,color2,p1.getRadius(),p2.getRadius()),grad=context.createLinearGradient(sourcePos.x,sourcePos.y,destPos.x,destPos.y);return grad.addColorStop(gradientMin,(0,browser.LCf)(color1,opacity)),grad.addColorStop((0,browser.qE8)(gradStop,gradientMin,gradientMax),(0,browser.xxz)(midRgb,opacity)),grad.addColorStop(gradientMax,(0,browser.LCf)(color2,opacity)),grad}(ctx,p1,p2,connectOptions.links.opacity)}function drawConnection(container,p1,p2){container.canvas.draw((ctx=>{const ls=lineStyle(container,ctx,p1,p2);if(!ls)return;const pos1=p1.getPosition(),pos2=p2.getPosition();!function drawConnectLine(context,width,lineStyle,begin,end){(0,browser.V6E)(context,begin,end),context.lineWidth=width,context.strokeStyle=lineStyle,context.stroke()}(ctx,p1.retina.linksWidth??0,ls,pos1,pos2)}))}class Connector extends browser.sJd{constructor(container){super(container)}clear(){}init(){const container=this.container,connect=container.actualOptions.interactivity.modes.connect;connect&&(container.retina.connectModeDistance=connect.distance*container.retina.pixelRatio,container.retina.connectModeRadius=connect.radius*container.retina.pixelRatio)}interact(){const container=this.container;if(container.actualOptions.interactivity.events.onHover.enable&&"pointermove"===container.interactivity.status){const mousePos=container.interactivity.mouse.position,{connectModeDistance,connectModeRadius}=container.retina;if(!connectModeDistance||connectModeDistance<0||!connectModeRadius||connectModeRadius<0||!mousePos)return;const distance=Math.abs(connectModeRadius),query=container.particles.quadTree.queryCircle(mousePos,distance,(p=>this.isEnabled(p)));query.forEach(((p1,i)=>{const pos1=p1.getPosition();for(const p2 of query.slice(i+1)){const pos2=p2.getPosition(),distMax=Math.abs(connectModeDistance),xDiff=Math.abs(pos1.x-pos2.x),yDiff=Math.abs(pos1.y-pos2.y);xDiff<distMax&&yDiff<distMax&&drawConnection(container,p1,p2)}}))}}isEnabled(particle){const container=this.container,mouse=container.interactivity.mouse,events=(particle?.interactivity??container.actualOptions.interactivity).events;return!(!events.onHover.enable||!mouse.position)&&(0,browser.hnD)("connect",events.onHover.mode)}loadModeOptions(options,...sources){options.connect||(options.connect=new Connect);for(const source of sources)options.connect.load(source?.connect)}reset(){}}class GrabLinks{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(data){data&&(void 0!==data.blink&&(this.blink=data.blink),void 0!==data.color&&(this.color=browser.Oit.create(this.color,data.color)),void 0!==data.consent&&(this.consent=data.consent),void 0!==data.opacity&&(this.opacity=data.opacity))}}class Grab{constructor(){this.distance=100,this.links=new GrabLinks}load(data){data&&(void 0!==data.distance&&(this.distance=data.distance),this.links.load(data.links))}}function drawGrab(container,particle,lineColor,opacity,mousePos){container.canvas.draw((ctx=>{const beginPos=particle.getPosition();!function drawGrabLine(context,width,begin,end,colorLine,opacity){(0,browser.V6E)(context,begin,end),context.strokeStyle=(0,browser.xxz)(colorLine,opacity),context.lineWidth=width,context.stroke()}(ctx,particle.retina.linksWidth??0,beginPos,mousePos,lineColor,opacity)}))}class Grabber extends browser.sJd{constructor(container){super(container)}clear(){}init(){const container=this.container,grab=container.actualOptions.interactivity.modes.grab;grab&&(container.retina.grabModeDistance=grab.distance*container.retina.pixelRatio)}interact(){const container=this.container,interactivity=container.actualOptions.interactivity;if(!interactivity.modes.grab||!interactivity.events.onHover.enable||container.interactivity.status!==browser.RbF)return;const mousePos=container.interactivity.mouse.position;if(!mousePos)return;const distance=container.retina.grabModeDistance;if(!distance||distance<0)return;const query=container.particles.quadTree.queryCircle(mousePos,distance,(p=>this.isEnabled(p)));for(const particle of query){const pos=particle.getPosition(),pointDistance=(0,browser.YfF)(pos,mousePos);if(pointDistance>distance)continue;const grabLineOptions=interactivity.modes.grab.links,lineOpacity=grabLineOptions.opacity,opacityLine=lineOpacity-pointDistance*lineOpacity/distance;if(opacityLine<=0)continue;const optColor=grabLineOptions.color??particle.options.links?.color;if(!container.particles.grabLineColor&&optColor){const linksOptions=interactivity.modes.grab.links;container.particles.grabLineColor=(0,browser.PGG)(optColor,linksOptions.blink,linksOptions.consent)}const colorLine=(0,browser._hh)(particle,void 0,container.particles.grabLineColor);colorLine&&drawGrab(container,particle,colorLine,opacityLine,mousePos)}}isEnabled(particle){const container=this.container,mouse=container.interactivity.mouse,events=(particle?.interactivity??container.actualOptions.interactivity).events;return events.onHover.enable&&!!mouse.position&&(0,browser.hnD)("grab",events.onHover.mode)}loadModeOptions(options,...sources){options.grab||(options.grab=new Grab);for(const source of sources)options.grab.load(source?.grab)}reset(){}}class Pauser extends browser.sJd{constructor(container){super(container),this.handleClickMode=mode=>{if("pause"!==mode)return;const container=this.container;container.animationStatus?container.pause():container.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}class Push{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(data){if(!data)return;void 0!==data.default&&(this.default=data.default),void 0!==data.groups&&(this.groups=data.groups.map((t=>t))),this.groups.length||(this.default=!0);const quantity=data.quantity;void 0!==quantity&&(this.quantity=(0,browser.DT4)(quantity))}}class Pusher extends browser.sJd{constructor(container){super(container),this.handleClickMode=mode=>{if("push"!==mode)return;const container=this.container,pushOptions=container.actualOptions.interactivity.modes.push;if(!pushOptions)return;const quantity=(0,browser.VGA)(pushOptions.quantity);if(quantity<=0)return;const group=(0,browser.Vh1)([void 0,...pushOptions.groups]),groupOptions=void 0!==group?container.actualOptions.particles.groups[group]:void 0;container.particles.push(quantity,container.interactivity.mouse,groupOptions,group)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(options,...sources){options.push||(options.push=new Push);for(const source of sources)options.push.load(source?.push)}reset(){}}class Remove{constructor(){this.quantity=2}load(data){if(!data)return;const quantity=data.quantity;void 0!==quantity&&(this.quantity=(0,browser.DT4)(quantity))}}class Remover extends browser.sJd{constructor(container){super(container),this.handleClickMode=mode=>{const container=this.container,options=container.actualOptions;if(!options.interactivity.modes.remove||"remove"!==mode)return;const removeNb=(0,browser.VGA)(options.interactivity.modes.remove.quantity);container.particles.removeQuantity(removeNb)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(options,...sources){options.remove||(options.remove=new Remove);for(const source of sources)options.remove.load(source?.remove)}reset(){}}class RepulseBase{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=browser.mgy.easeOutQuad}load(data){data&&(void 0!==data.distance&&(this.distance=data.distance),void 0!==data.duration&&(this.duration=data.duration),void 0!==data.easing&&(this.easing=data.easing),void 0!==data.factor&&(this.factor=data.factor),void 0!==data.speed&&(this.speed=data.speed),void 0!==data.maxSpeed&&(this.maxSpeed=data.maxSpeed))}}class RepulseDiv extends RepulseBase{constructor(){super(),this.selectors=[]}load(data){super.load(data),data&&void 0!==data.selectors&&(this.selectors=data.selectors)}}class Repulse extends RepulseBase{load(data){super.load(data),data&&(this.divs=(0,browser.wJ2)(data.divs,(div=>{const tmp=new RepulseDiv;return tmp.load(div),tmp})))}}class Repulser extends browser.sJd{constructor(engine,container){super(container),this._clickRepulse=()=>{const container=this.container,repulseOptions=container.actualOptions.interactivity.modes.repulse;if(!repulseOptions)return;const repulse=container.repulse??{particles:[]};if(repulse.finish||(repulse.count||(repulse.count=0),repulse.count++,repulse.count===container.particles.count&&(repulse.finish=!0)),repulse.clicking){const repulseDistance=container.retina.repulseModeDistance;if(!repulseDistance||repulseDistance<0)return;const repulseRadius=Math.pow(repulseDistance/6,3),mouseClickPos=container.interactivity.mouse.clickPosition;if(void 0===mouseClickPos)return;const range=new browser.jlt(mouseClickPos.x,mouseClickPos.y,repulseRadius),query=container.particles.quadTree.query(range,(p=>this.isEnabled(p)));for(const particle of query){const{dx,dy,distance}=(0,browser.vrU)(mouseClickPos,particle.position),d=distance**2,force=-repulseRadius*repulseOptions.speed/d;if(d<=repulseRadius){repulse.particles.push(particle);const vect=browser.Miz.create(dx,dy);vect.length=force,particle.velocity.setTo(vect)}}}else if(!1===repulse.clicking){for(const particle of repulse.particles)particle.velocity.setTo(particle.initialVelocity);repulse.particles=[]}},this._hoverRepulse=()=>{const container=this.container,mousePos=container.interactivity.mouse.position,repulseRadius=container.retina.repulseModeDistance;!repulseRadius||repulseRadius<0||!mousePos||this._processRepulse(mousePos,repulseRadius,new browser.jlt(mousePos.x,mousePos.y,repulseRadius))},this._processRepulse=(position,repulseRadius,area,divRepulse)=>{const container=this.container,query=container.particles.quadTree.query(area,(p=>this.isEnabled(p))),repulseOptions=container.actualOptions.interactivity.modes.repulse;if(!repulseOptions)return;const{easing,speed,factor,maxSpeed}=repulseOptions,easingFunc=(0,browser.ilx)(easing),velocity=(divRepulse?.speed??speed)*factor;for(const particle of query){const{dx,dy,distance}=(0,browser.vrU)(particle.position,position),repulseFactor=(0,browser.qE8)(easingFunc(1-distance/repulseRadius)*velocity,0,maxSpeed),normVec=browser.Miz.create(distance?dx/distance*repulseFactor:velocity,distance?dy/distance*repulseFactor:velocity);particle.position.addTo(normVec)}},this._singleSelectorRepulse=(selector,div)=>{const container=this.container,repulse=container.actualOptions.interactivity.modes.repulse;if(!repulse)return;const query=document.querySelectorAll(selector);query.length&&query.forEach((item=>{const elem=item,pxRatio=container.retina.pixelRatio,pos={x:(elem.offsetLeft+.5*elem.offsetWidth)*pxRatio,y:(elem.offsetTop+.5*elem.offsetHeight)*pxRatio},repulseRadius=.5*elem.offsetWidth*pxRatio,area=div.type===browser.Q5V.circle?new browser.jlt(pos.x,pos.y,repulseRadius):new browser.M_G(elem.offsetLeft*pxRatio,elem.offsetTop*pxRatio,elem.offsetWidth*pxRatio,elem.offsetHeight*pxRatio),divs=repulse.divs,divRepulse=(0,browser.NVT)(divs,elem);this._processRepulse(pos,repulseRadius,area,divRepulse)}))},this._engine=engine,container.repulse||(container.repulse={particles:[]}),this.handleClickMode=mode=>{const repulseOpts=this.container.actualOptions.interactivity.modes.repulse;if(!repulseOpts||"repulse"!==mode)return;container.repulse||(container.repulse={particles:[]});const repulse=container.repulse;repulse.clicking=!0,repulse.count=0;for(const particle of container.repulse.particles)this.isEnabled(particle)&&particle.velocity.setTo(particle.initialVelocity);repulse.particles=[],repulse.finish=!1,setTimeout((()=>{container.destroyed||(repulse.clicking=!1)}),repulseOpts.duration*browser.XuV)}}clear(){}init(){const container=this.container,repulse=container.actualOptions.interactivity.modes.repulse;repulse&&(container.retina.repulseModeDistance=repulse.distance*container.retina.pixelRatio)}interact(){const container=this.container,options=container.actualOptions,mouseMoveStatus=container.interactivity.status===browser.RbF,events=options.interactivity.events,hover=events.onHover,hoverEnabled=hover.enable,hoverMode=hover.mode,click=events.onClick,clickEnabled=click.enable,clickMode=click.mode,divs=events.onDiv;mouseMoveStatus&&hoverEnabled&&(0,browser.hnD)("repulse",hoverMode)?this._hoverRepulse():clickEnabled&&(0,browser.hnD)("repulse",clickMode)?this._clickRepulse():(0,browser.U6C)("repulse",divs,((selector,div)=>this._singleSelectorRepulse(selector,div)))}isEnabled(particle){const container=this.container,options=container.actualOptions,mouse=container.interactivity.mouse,events=(particle?.interactivity??options.interactivity).events,divs=events.onDiv,hover=events.onHover,click=events.onClick,divRepulse=(0,browser.iKf)("repulse",divs);if(!(divRepulse||hover.enable&&mouse.position||click.enable&&mouse.clickPosition))return!1;const hoverMode=hover.mode,clickMode=click.mode;return(0,browser.hnD)("repulse",hoverMode)||(0,browser.hnD)("repulse",clickMode)||divRepulse}loadModeOptions(options,...sources){options.repulse||(options.repulse=new Repulse);for(const source of sources)options.repulse.load(source?.repulse)}reset(){}}class Slow{constructor(){this.factor=3,this.radius=200}load(data){data&&(void 0!==data.factor&&(this.factor=data.factor),void 0!==data.radius&&(this.radius=data.radius))}}class Slower extends browser.sJd{constructor(container){super(container)}clear(particle,delta,force){particle.slow.inRange&&!force||(particle.slow.factor=1)}init(){const container=this.container,slow=container.actualOptions.interactivity.modes.slow;slow&&(container.retina.slowModeRadius=slow.radius*container.retina.pixelRatio)}interact(){}isEnabled(particle){const container=this.container,mouse=container.interactivity.mouse,events=(particle?.interactivity??container.actualOptions.interactivity).events;return events.onHover.enable&&!!mouse.position&&(0,browser.hnD)("slow",events.onHover.mode)}loadModeOptions(options,...sources){options.slow||(options.slow=new Slow);for(const source of sources)options.slow.load(source?.slow)}reset(particle){particle.slow.inRange=!1;const container=this.container,options=container.actualOptions,mousePos=container.interactivity.mouse.position,radius=container.retina.slowModeRadius,slowOptions=options.interactivity.modes.slow;if(!slowOptions||!radius||radius<0||!mousePos)return;const particlePos=particle.getPosition(),dist=(0,browser.YfF)(mousePos,particlePos),proximityFactor=dist/radius,slowFactor=slowOptions.factor,{slow}=particle;dist>radius||(slow.inRange=!0,slow.factor=proximityFactor/slowFactor)}}const stringStart=0,currentColorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function loadImage(image){return new Promise((resolve=>{image.loading=!0;const img=new Image;image.element=img,img.addEventListener("load",(()=>{image.loading=!1,resolve()})),img.addEventListener("error",(()=>{image.element=void 0,image.error=!0,image.loading=!1,(0,browser.tZQ)().error(`${browser.dIx} loading image: ${image.source}`),resolve()})),img.src=image.source}))}async function downloadSvgImage(image){if("svg"!==image.type)return void await loadImage(image);image.loading=!0;const response=await fetch(image.source);response.ok?image.svgData=await response.text():((0,browser.tZQ)().error(`${browser.dIx} Image not found`),image.error=!0),image.loading=!1}function replaceImageColor(image,imageData,color,particle){const svgColoredData=function replaceColorSvg(imageShape,color,opacity){const{svgData}=imageShape;if(!svgData)return"";const colorStyle=(0,browser.LCf)(color,opacity);if(svgData.includes("fill"))return svgData.replace(currentColorRegex,(()=>colorStyle));const preFillIndex=svgData.indexOf(">");return`${svgData.substring(stringStart,preFillIndex)} fill="${colorStyle}"${svgData.substring(preFillIndex)}`}(image,color,particle.opacity?.value??1),imageRes={color,gif:imageData.gif,data:{...image,svgData:svgColoredData},loaded:!1,ratio:imageData.width/imageData.height,replaceColor:imageData.replaceColor,source:imageData.src};return new Promise((resolve=>{const svg=new Blob([svgColoredData],{type:"image/svg+xml"}),domUrl=URL||window.URL||window.webkitURL||window,url=domUrl.createObjectURL(svg),img=new Image;img.addEventListener("load",(()=>{imageRes.loaded=!0,imageRes.element=img,resolve(imageRes),domUrl.revokeObjectURL(url)}));img.addEventListener("error",(()=>{(async()=>{domUrl.revokeObjectURL(url);const img2={...image,error:!1,loading:!0};await loadImage(img2),imageRes.loaded=!0,imageRes.element=img2.element,resolve(imageRes)})()})),img.src=url}))}const InterlaceOffsets=[0,4,2,1],InterlaceSteps=[8,8,4,2];class ByteStream{constructor(bytes){this.pos=0,this.data=new Uint8ClampedArray(bytes)}getString(count){const slice=this.data.slice(this.pos,this.pos+count);return this.pos+=slice.length,slice.reduce(((acc,curr)=>acc+String.fromCharCode(curr)),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let blockString="",size=0;do{size=this.data[this.pos++];for(let count=size;--count>=0;blockString+=String.fromCharCode(this.data[this.pos++]));}while(0!==size);return blockString}readSubBlocksBin(){let size=this.data[this.pos],len=0;for(let offset=0;0!==size;offset+=size+1,size=this.data[this.pos+offset])len+=size;const blockData=new Uint8Array(len);size=this.data[this.pos++];for(let i=0;0!==size;size=this.data[this.pos++])for(let count=size;--count>=0;blockData[i++]=this.data[this.pos++]);return blockData}skipSubBlocks(){for(const increment=1,noData=0;this.data[this.pos]!==noData;this.pos+=this.data[this.pos]+increment);this.pos++}}var DisposalMethod,GIFDataHeaders;!function(DisposalMethod){DisposalMethod[DisposalMethod.Replace=0]="Replace",DisposalMethod[DisposalMethod.Combine=1]="Combine",DisposalMethod[DisposalMethod.RestoreBackground=2]="RestoreBackground",DisposalMethod[DisposalMethod.RestorePrevious=3]="RestorePrevious",DisposalMethod[DisposalMethod.UndefinedA=4]="UndefinedA",DisposalMethod[DisposalMethod.UndefinedB=5]="UndefinedB",DisposalMethod[DisposalMethod.UndefinedC=6]="UndefinedC",DisposalMethod[DisposalMethod.UndefinedD=7]="UndefinedD"}(DisposalMethod||(DisposalMethod={})),function(GIFDataHeaders){GIFDataHeaders[GIFDataHeaders.Extension=33]="Extension",GIFDataHeaders[GIFDataHeaders.ApplicationExtension=255]="ApplicationExtension",GIFDataHeaders[GIFDataHeaders.GraphicsControlExtension=249]="GraphicsControlExtension",GIFDataHeaders[GIFDataHeaders.PlainTextExtension=1]="PlainTextExtension",GIFDataHeaders[GIFDataHeaders.CommentExtension=254]="CommentExtension",GIFDataHeaders[GIFDataHeaders.Image=44]="Image",GIFDataHeaders[GIFDataHeaders.EndOfFile=59]="EndOfFile"}(GIFDataHeaders||(GIFDataHeaders={}));const GifUtils_Utils_origin_x=0,GifUtils_Utils_origin_y=0,defaultLoopCount=0;function parseColorTable(byteStream,count){const colors=[];for(let i=0;i<count;i++)colors.push({r:byteStream.data[byteStream.pos],g:byteStream.data[byteStream.pos+1],b:byteStream.data[byteStream.pos+2]}),byteStream.pos+=3;return colors}async function parseBlock(byteStream,gif,avgAlpha,getFrameIndex,getTransparencyIndex,progressCallback){switch(byteStream.nextByte()){case GIFDataHeaders.EndOfFile:return!0;case GIFDataHeaders.Image:await async function parseImageBlock(byteStream,gif,avgAlpha,getFrameIndex,getTransparencyIndex,progressCallback){const frame=gif.frames[getFrameIndex(!0)];frame.left=byteStream.nextTwoBytes(),frame.top=byteStream.nextTwoBytes(),frame.width=byteStream.nextTwoBytes(),frame.height=byteStream.nextTwoBytes();const packedByte=byteStream.nextByte(),localColorTableFlag=!(128&~packedByte),interlacedFlag=!(64&~packedByte);frame.sortFlag=!(32&~packedByte),frame.reserved=(24&packedByte)>>>3;const localColorCount=1<<1+(7&packedByte);localColorTableFlag&&(frame.localColorTable=parseColorTable(byteStream,localColorCount));const getColor=index=>{const{r,g,b}=(localColorTableFlag?frame.localColorTable:gif.globalColorTable)[index];return index!==getTransparencyIndex(null)?{r,g,b,a:255}:{r,g,b,a:avgAlpha?~~((r+g+b)/3):0}},image=(()=>{try{return new ImageData(frame.width,frame.height,{colorSpace:"srgb"})}catch(error){if(error instanceof DOMException&&"IndexSizeError"===error.name)return null;throw error}})();if(null==image)throw new EvalError("GIF frame size is to large");const minCodeSize=byteStream.nextByte(),imageData=byteStream.readSubBlocksBin(),clearCode=1<<minCodeSize,readBits=(pos,len)=>{const bytePos=pos>>>3,bitPos=7&pos;return(imageData[bytePos]+(imageData[bytePos+1]<<8)+(imageData[bytePos+2]<<16)&(1<<len)-1<<bitPos)>>>bitPos};if(interlacedFlag){for(let code=0,size=minCodeSize+1,pos=0,dic=[[0]],pass=0;pass<4;pass++){if(InterlaceOffsets[pass]<frame.height){let pixelPos=0,lineIndex=0,exit=!1;for(;!exit;){const last=code;if(code=readBits(pos,size),pos+=size+1,code===clearCode){size=minCodeSize+1,dic.length=clearCode+2;for(let i=0;i<dic.length;i++)dic[i]=i<clearCode?[i]:[]}else{code>=dic.length?dic.push(dic[last].concat(dic[last][0])):last!==clearCode&&dic.push(dic[last].concat(dic[code][0]));for(const item of dic[code]){const{r,g,b,a}=getColor(item);image.data.set([r,g,b,a],InterlaceOffsets[pass]*frame.width+InterlaceSteps[pass]*lineIndex+pixelPos%(4*frame.width)),pixelPos+=4}dic.length===1<<size&&size<12&&size++}pixelPos===4*frame.width*(lineIndex+1)&&(lineIndex++,InterlaceOffsets[pass]+InterlaceSteps[pass]*lineIndex>=frame.height&&(exit=!0))}}progressCallback?.(byteStream.pos/(byteStream.data.length-1),getFrameIndex(!1)+1,image,{x:frame.left,y:frame.top},{width:gif.width,height:gif.height})}frame.image=image,frame.bitmap=await createImageBitmap(image)}else{let code=0,size=minCodeSize+1,pos=0,pixelPos=-4,exit=!1;const dic=[[0]];for(;!exit;){const last=code;if(code=readBits(pos,size),pos+=size,code===clearCode){size=minCodeSize+1,dic.length=clearCode+2;for(let i=0;i<dic.length;i++)dic[i]=i<clearCode?[i]:[]}else{if(code===clearCode+1){exit=!0;break}code>=dic.length?dic.push(dic[last].concat(dic[last][0])):last!==clearCode&&dic.push(dic[last].concat(dic[code][0]));for(const item of dic[code]){const{r,g,b,a}=getColor(item);image.data.set([r,g,b,a],pixelPos+=4)}dic.length>=1<<size&&size<12&&size++}}frame.image=image,frame.bitmap=await createImageBitmap(image),progressCallback?.((byteStream.pos+1)/byteStream.data.length,getFrameIndex(!1)+1,frame.image,{x:frame.left,y:frame.top},{width:gif.width,height:gif.height})}}(byteStream,gif,avgAlpha,getFrameIndex,getTransparencyIndex,progressCallback);break;case GIFDataHeaders.Extension:!function parseExtensionBlock(byteStream,gif,getFrameIndex,getTransparencyIndex){switch(byteStream.nextByte()){case GIFDataHeaders.GraphicsControlExtension:{const frame=gif.frames[getFrameIndex(!1)];byteStream.pos++;const packedByte=byteStream.nextByte();frame.GCreserved=(224&packedByte)>>>5,frame.disposalMethod=(28&packedByte)>>>2,frame.userInputDelayFlag=!(2&~packedByte);const transparencyFlag=!(1&~packedByte);frame.delayTime=10*byteStream.nextTwoBytes();const transparencyIndex=byteStream.nextByte();transparencyFlag&&getTransparencyIndex(transparencyIndex),byteStream.pos++;break}case GIFDataHeaders.ApplicationExtension:{byteStream.pos++;const applicationExtension={identifier:byteStream.getString(8),authenticationCode:byteStream.getString(3),data:byteStream.readSubBlocksBin()};gif.applicationExtensions.push(applicationExtension);break}case GIFDataHeaders.CommentExtension:gif.comments.push([getFrameIndex(!1),byteStream.readSubBlocks()]);break;case GIFDataHeaders.PlainTextExtension:if(0===gif.globalColorTable.length)throw new EvalError("plain text extension without global color table");byteStream.pos++,gif.frames[getFrameIndex(!1)].plainTextData={left:byteStream.nextTwoBytes(),top:byteStream.nextTwoBytes(),width:byteStream.nextTwoBytes(),height:byteStream.nextTwoBytes(),charSize:{width:byteStream.nextTwoBytes(),height:byteStream.nextTwoBytes()},foregroundColor:byteStream.nextByte(),backgroundColor:byteStream.nextByte(),text:byteStream.readSubBlocks()};break;default:byteStream.skipSubBlocks()}}(byteStream,gif,getFrameIndex,getTransparencyIndex);break;default:throw new EvalError("undefined block found")}return!1}async function loadGifImage(image){if("gif"===image.type){image.loading=!0;try{image.gifData=await async function decodeGIF(gifURL,progressCallback,avgAlpha){avgAlpha||(avgAlpha=!1);const res=await fetch(gifURL);if(!res.ok&&404===res.status)throw new EvalError("file not found");const buffer=await res.arrayBuffer(),gif={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},byteStream=new ByteStream(new Uint8ClampedArray(buffer));if("GIF89a"!==byteStream.getString(6))throw new Error("not a supported GIF file");gif.width=byteStream.nextTwoBytes(),gif.height=byteStream.nextTwoBytes();const packedByte=byteStream.nextByte(),globalColorTableFlag=!(128&~packedByte);gif.colorRes=(112&packedByte)>>>4,gif.sortFlag=!(8&~packedByte);const globalColorCount=1<<1+(7&packedByte),backgroundColorIndex=byteStream.nextByte();gif.pixelAspectRatio=byteStream.nextByte(),0!==gif.pixelAspectRatio&&(gif.pixelAspectRatio=(gif.pixelAspectRatio+15)/64),globalColorTableFlag&&(gif.globalColorTable=parseColorTable(byteStream,globalColorCount));const backgroundImage=(()=>{try{return new ImageData(gif.width,gif.height,{colorSpace:"srgb"})}catch(error){if(error instanceof DOMException&&"IndexSizeError"===error.name)return null;throw error}})();if(null==backgroundImage)throw new Error("GIF frame size is to large");const{r,g,b}=gif.globalColorTable[backgroundColorIndex];backgroundImage.data.set(globalColorTableFlag?[r,g,b,255]:[0,0,0,0]);for(let i=4;i<backgroundImage.data.length;i*=2)backgroundImage.data.copyWithin(i,0,i);gif.backgroundImage=backgroundImage;let frameIndex=-1,incrementFrameIndex=!0,transparencyIndex=-1;const getframeIndex=increment=>(increment&&(incrementFrameIndex=!0),frameIndex),getTransparencyIndex=newValue=>(null!=newValue&&(transparencyIndex=newValue),transparencyIndex);try{do{incrementFrameIndex&&(gif.frames.push({left:0,top:0,width:0,height:0,disposalMethod:DisposalMethod.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),frameIndex++,transparencyIndex=-1,incrementFrameIndex=!1)}while(!await parseBlock(byteStream,gif,avgAlpha,getframeIndex,getTransparencyIndex,progressCallback));gif.frames.length--;for(const frame of gif.frames){if(frame.userInputDelayFlag&&0===frame.delayTime){gif.totalTime=1/0;break}gif.totalTime+=frame.delayTime}return gif}catch(error){if(error instanceof EvalError)throw new Error(`error while parsing frame ${frameIndex} "${error.message}"`);throw error}}(image.source),image.gifLoopCount=function getGIFLoopAmount(gif){for(const extension of gif.applicationExtensions)if(extension.identifier+extension.authenticationCode==="NETSCAPE2.0")return extension.data[1]+(extension.data[2]<<8);return NaN}(image.gifData)??defaultLoopCount,image.gifLoopCount||(image.gifLoopCount=1/0)}catch{image.error=!0}image.loading=!1}else await loadImage(image)}class ImageDrawer{constructor(engine){this.validTypes=["image","images"],this.loadImageShape=async imageShape=>{if(!this._engine.loadImage)throw new Error(`${browser.dIx} image shape not initialized`);await this._engine.loadImage({gif:imageShape.gif,name:imageShape.name,replaceColor:imageShape.replaceColor??!1,src:imageShape.src})},this._engine=engine}addImage(image){this._engine.images||(this._engine.images=[]),this._engine.images.push(image)}draw(data){const{context,radius,particle,opacity}=data,image=particle.image,element=image?.element;if(image){if(context.globalAlpha=opacity,image.gif&&image.gifData)!function drawGif(data){const{context,radius,particle,delta}=data,image=particle.image;if(!image?.gifData||!image.gif)return;const offscreenCanvas=new OffscreenCanvas(image.gifData.width,image.gifData.height),offscreenContext=offscreenCanvas.getContext("2d");if(!offscreenContext)throw new Error("could not create offscreen canvas context");offscreenContext.imageSmoothingQuality="low",offscreenContext.imageSmoothingEnabled=!1,offscreenContext.clearRect(GifUtils_Utils_origin_x,GifUtils_Utils_origin_y,offscreenCanvas.width,offscreenCanvas.height),void 0===particle.gifLoopCount&&(particle.gifLoopCount=image.gifLoopCount??defaultLoopCount);let frameIndex=particle.gifFrame??0;const pos={x:.5*-image.gifData.width,y:.5*-image.gifData.height},frame=image.gifData.frames[frameIndex];if(void 0===particle.gifTime&&(particle.gifTime=0),frame.bitmap){switch(context.scale(radius/image.gifData.width,radius/image.gifData.height),frame.disposalMethod){case DisposalMethod.UndefinedA:case DisposalMethod.UndefinedB:case DisposalMethod.UndefinedC:case DisposalMethod.UndefinedD:case DisposalMethod.Replace:offscreenContext.drawImage(frame.bitmap,frame.left,frame.top),context.drawImage(offscreenCanvas,pos.x,pos.y),offscreenContext.clearRect(GifUtils_Utils_origin_x,GifUtils_Utils_origin_y,offscreenCanvas.width,offscreenCanvas.height);break;case DisposalMethod.Combine:offscreenContext.drawImage(frame.bitmap,frame.left,frame.top),context.drawImage(offscreenCanvas,pos.x,pos.y);break;case DisposalMethod.RestoreBackground:offscreenContext.drawImage(frame.bitmap,frame.left,frame.top),context.drawImage(offscreenCanvas,pos.x,pos.y),offscreenContext.clearRect(GifUtils_Utils_origin_x,GifUtils_Utils_origin_y,offscreenCanvas.width,offscreenCanvas.height),image.gifData.globalColorTable.length?offscreenContext.putImageData(image.gifData.backgroundImage,pos.x,pos.y):offscreenContext.putImageData(image.gifData.frames[0].image,pos.x+frame.left,pos.y+frame.top);break;case DisposalMethod.RestorePrevious:{const previousImageData=offscreenContext.getImageData(GifUtils_Utils_origin_x,GifUtils_Utils_origin_y,offscreenCanvas.width,offscreenCanvas.height);offscreenContext.drawImage(frame.bitmap,frame.left,frame.top),context.drawImage(offscreenCanvas,pos.x,pos.y),offscreenContext.clearRect(GifUtils_Utils_origin_x,GifUtils_Utils_origin_y,offscreenCanvas.width,offscreenCanvas.height),offscreenContext.putImageData(previousImageData,GifUtils_Utils_origin_x,GifUtils_Utils_origin_y)}}if(particle.gifTime+=delta.value,particle.gifTime>frame.delayTime){if(particle.gifTime-=frame.delayTime,++frameIndex>=image.gifData.frames.length){if(--particle.gifLoopCount<=defaultLoopCount)return;frameIndex=0,offscreenContext.clearRect(GifUtils_Utils_origin_x,GifUtils_Utils_origin_y,offscreenCanvas.width,offscreenCanvas.height)}particle.gifFrame=frameIndex}context.scale(image.gifData.width/radius,image.gifData.height/radius)}}(data);else if(element){const ratio=image.ratio,pos={x:-radius,y:-radius},diameter=2*radius;context.drawImage(element,pos.x,pos.y,diameter,diameter/ratio)}context.globalAlpha=1}}getSidesCount(){return 12}async init(container){const options=container.actualOptions;if(options.preload&&this._engine.loadImage)for(const imageData of options.preload)await this._engine.loadImage(imageData)}loadShape(particle){if("image"!==particle.shape&&"images"!==particle.shape)return;this._engine.images||(this._engine.images=[]);const imageData=particle.shapeData;if(!imageData)return;this._engine.images.find((t=>t.name===imageData.name||t.source===imageData.src))||this.loadImageShape(imageData).then((()=>{this.loadShape(particle)}))}particleInit(container,particle){if("image"!==particle.shape&&"images"!==particle.shape)return;this._engine.images||(this._engine.images=[]);const images=this._engine.images,imageData=particle.shapeData;if(!imageData)return;const color=particle.getFillColor(),image=images.find((t=>t.name===imageData.name||t.source===imageData.src));if(!image)return;const replaceColor=imageData.replaceColor??image.replaceColor;image.loading?setTimeout((()=>{this.particleInit(container,particle)})):(async()=>{let imageRes;imageRes=image.svgData&&color?await replaceImageColor(image,imageData,color,particle):{color,data:image,element:image.element,gif:image.gif,gifData:image.gifData,gifLoopCount:image.gifLoopCount,loaded:!0,ratio:imageData.width&&imageData.height?imageData.width/imageData.height:image.ratio??1,replaceColor,source:imageData.src},imageRes.ratio||(imageRes.ratio=1);const imageShape={image:imageRes,fill:imageData.fill??particle.shapeFill,close:imageData.close??particle.shapeClose};particle.image=imageShape.image,particle.shapeFill=imageShape.fill,particle.shapeClose=imageShape.close})()}}class Preload{constructor(){this.src="",this.gif=!1}load(data){data&&(void 0!==data.gif&&(this.gif=data.gif),void 0!==data.height&&(this.height=data.height),void 0!==data.name&&(this.name=data.name),void 0!==data.replaceColor&&(this.replaceColor=data.replaceColor),void 0!==data.src&&(this.src=data.src),void 0!==data.width&&(this.width=data.width))}}class ImagePreloaderPlugin{constructor(engine){this.id="imagePreloader",this._engine=engine}async getPlugin(){return await Promise.resolve(),{}}loadOptions(options,source){if(!source?.preload)return;options.preload||(options.preload=[]);const preloadOptions=options.preload;for(const item of source.preload){const existing=preloadOptions.find((t=>t.name===item.name||t.src===item.src));if(existing)existing.load(item);else{const preload=new Preload;preload.load(item),preloadOptions.push(preload)}}}needsPlugin(){return!0}}const extLength=3;async function loadImageShape(engine,refresh=!0){!function addLoadImageToEngine(engine){engine.loadImage||(engine.loadImage=async data=>{if(!data.name&&!data.src)throw new Error(`${browser.dIx} no image source provided`);if(engine.images||(engine.images=[]),!engine.images.find((t=>t.name===data.name||t.source===data.src)))try{const image={gif:data.gif??!1,name:data.name??data.src,source:data.src,type:data.src.substring(data.src.length-extLength),error:!1,loading:!0,replaceColor:data.replaceColor,ratio:data.width&&data.height?data.width/data.height:void 0};let imageFunc;engine.images.push(image),imageFunc=data.gif?loadGifImage:data.replaceColor?downloadSvgImage:loadImage,await imageFunc(image)}catch{throw new Error(`${browser.dIx} ${data.name??data.src} not found`)}})}(engine);const preloader=new ImagePreloaderPlugin(engine);await engine.addPlugin(preloader,refresh),await engine.addShape(new ImageDrawer(engine),refresh)}class LifeDelay extends browser.PVU{constructor(){super(),this.sync=!1}load(data){data&&(super.load(data),void 0!==data.sync&&(this.sync=data.sync))}}class LifeDuration extends browser.PVU{constructor(){super(),this.sync=!1}load(data){data&&(super.load(data),void 0!==data.sync&&(this.sync=data.sync))}}class Life{constructor(){this.count=0,this.delay=new LifeDelay,this.duration=new LifeDuration}load(data){data&&(void 0!==data.count&&(this.count=data.count),this.delay.load(data.delay),this.duration.load(data.duration))}}class LifeUpdater{constructor(container){this.container=container}init(particle){const container=this.container,lifeOptions=particle.options.life;lifeOptions&&(particle.life={delay:container.retina.reduceFactor?(0,browser.VGA)(lifeOptions.delay.value)*(lifeOptions.delay.sync?1:(0,browser.G0i)())/container.retina.reduceFactor*browser.XuV:0,delayTime:0,duration:container.retina.reduceFactor?(0,browser.VGA)(lifeOptions.duration.value)*(lifeOptions.duration.sync?1:(0,browser.G0i)())/container.retina.reduceFactor*browser.XuV:0,time:0,count:lifeOptions.count},particle.life.duration<=0&&(particle.life.duration=-1),particle.life.count<=0&&(particle.life.count=-1),particle.life&&(particle.spawning=particle.life.delay>0))}isEnabled(particle){return!particle.destroyed}loadOptions(options,...sources){options.life||(options.life=new Life);for(const source of sources)options.life.load(source?.life)}update(particle,delta){this.isEnabled(particle)&&particle.life&&function updateLife(particle,delta,canvasSize){if(!particle.life)return;const life=particle.life;let justSpawned=!1;if(particle.spawning){if(life.delayTime+=delta.value,!(life.delayTime>=particle.life.delay))return;justSpawned=!0,particle.spawning=!1,life.delayTime=0,life.time=0}if(-1===life.duration)return;if(particle.spawning)return;if(justSpawned?life.time=0:life.time+=delta.value,life.time<life.duration)return;if(life.time=0,particle.life.count>0&&particle.life.count--,0===particle.life.count)return void particle.destroy();const widthRange=(0,browser.DT4)(0,canvasSize.width),heightRange=(0,browser.DT4)(0,canvasSize.width);particle.position.x=(0,browser.U43)(widthRange),particle.position.y=(0,browser.U43)(heightRange),particle.spawning=!0,life.delayTime=0,life.time=0,particle.reset();const lifeOptions=particle.options.life;lifeOptions&&(life.delay=(0,browser.VGA)(lifeOptions.delay.value)*browser.XuV,life.duration=(0,browser.VGA)(lifeOptions.duration.value)*browser.XuV)}(particle,delta,this.container.canvas.size)}}class LineDrawer{constructor(){this.validTypes=["line"]}draw(data){!function drawLine(data){const{context,particle,radius}=data,shapeData=particle.shapeData;context.moveTo(-radius,0),context.lineTo(radius,0),context.lineCap=shapeData?.cap??"butt"}(data)}getSidesCount(){return 1}}class ParallaxMover{init(){}isEnabled(particle){return!(0,browser.B90)()&&!particle.destroyed&&particle.container.actualOptions.interactivity.events.onHover.parallax.enable}move(particle){const container=particle.container,parallaxOptions=container.actualOptions.interactivity.events.onHover.parallax;if((0,browser.B90)()||!parallaxOptions.enable)return;const parallaxForce=parallaxOptions.force,mousePos=container.interactivity.mouse.position;if(!mousePos)return;const canvasSize=container.canvas.size,canvasCenter_x=.5*canvasSize.width,canvasCenter_y=.5*canvasSize.height,parallaxSmooth=parallaxOptions.smooth,factor=particle.getRadius()/parallaxForce,centerDistance_x=(mousePos.x-canvasCenter_x)*factor,centerDistance_y=(mousePos.y-canvasCenter_y)*factor,{offset}=particle;offset.x+=(centerDistance_x-offset.x)/parallaxSmooth,offset.y+=(centerDistance_y-offset.y)/parallaxSmooth}}class Attractor_Attractor extends browser.U4p{constructor(container){super(container)}clear(){}init(){}interact(p1){const container=this.container;void 0===p1.attractDistance&&(p1.attractDistance=(0,browser.VGA)(p1.options.move.attract.distance)*container.retina.pixelRatio);const distance=p1.attractDistance,pos1=p1.getPosition(),query=container.particles.quadTree.queryCircle(pos1,distance);for(const p2 of query){if(p1===p2||!p2.options.move.attract.enable||p2.destroyed||p2.spawning)continue;const pos2=p2.getPosition(),{dx,dy}=(0,browser.vrU)(pos1,pos2),rotate=p1.options.move.attract.rotate,ax=dx/(1e3*rotate.x),ay=dy/(1e3*rotate.y),p1Factor=p2.size.value/p1.size.value,p2Factor=1/p1Factor;p1.velocity.x-=ax*p1Factor,p1.velocity.y-=ay*p1Factor,p2.velocity.x+=ax*p2Factor,p2.velocity.y+=ay*p2Factor}}isEnabled(particle){return particle.options.move.attract.enable}reset(){}}const Absorb_half=.5,Absorb_absorbFactor=10,minAbsorbFactor=0;function updateAbsorb(p1,r1,p2,r2,delta,pixelRatio){const factor=(0,browser.qE8)(p1.options.collisions.absorb.speed*delta.factor/Absorb_absorbFactor,minAbsorbFactor,r2);p1.size.value+=factor*Absorb_half,p2.size.value-=factor,r2<=pixelRatio&&(p2.size.value=0,p2.destroy())}const fixBounceSpeed=p=>{void 0===p.collisionMaxSpeed&&(p.collisionMaxSpeed=(0,browser.VGA)(p.options.collisions.maxSpeed)),p.velocity.length>p.collisionMaxSpeed&&(p.velocity.length=p.collisionMaxSpeed)};function bounce(p1,p2){(0,browser.pEn)((0,browser.Tgl)(p1),(0,browser.Tgl)(p2)),fixBounceSpeed(p1),fixBounceSpeed(p2)}function resolveCollision(p1,p2,delta,pixelRatio){switch(p1.options.collisions.mode){case browser._or.absorb:!function absorb(p1,p2,delta,pixelRatio){const r1=p1.getRadius(),r2=p2.getRadius();void 0===r1&&void 0!==r2?p1.destroy():void 0!==r1&&void 0===r2?p2.destroy():void 0!==r1&&void 0!==r2&&(r1>=r2?updateAbsorb(p1,0,p2,r2,delta,pixelRatio):updateAbsorb(p2,0,p1,r1,delta,pixelRatio))}(p1,p2,delta,pixelRatio);break;case browser._or.bounce:bounce(p1,p2);break;case browser._or.destroy:!function destroy(p1,p2){p1.unbreakable||p2.unbreakable||bounce(p1,p2),void 0===p1.getRadius()&&void 0!==p2.getRadius()?p1.destroy():void 0!==p1.getRadius()&&void 0===p2.getRadius()?p2.destroy():void 0!==p1.getRadius()&&void 0!==p2.getRadius()&&(p1.getRadius()>=p2.getRadius()?p2:p1).destroy()}(p1,p2)}}class Collider extends browser.U4p{constructor(container){super(container)}clear(){}init(){}interact(p1,delta){if(p1.destroyed||p1.spawning)return;const container=this.container,pos1=p1.getPosition(),radius1=p1.getRadius(),query=container.particles.quadTree.queryCircle(pos1,2*radius1);for(const p2 of query){if(p1===p2||!p2.options.collisions.enable||p1.options.collisions.mode!==p2.options.collisions.mode||p2.destroyed||p2.spawning)continue;const pos2=p2.getPosition(),radius2=p2.getRadius();if(Math.abs(Math.round(pos1.z)-Math.round(pos2.z))>radius1+radius2)continue;(0,browser.YfF)(pos1,pos2)>radius1+radius2||resolveCollision(p1,p2,delta,container.retina.pixelRatio)}}isEnabled(particle){return particle.options.collisions.enable}reset(){}}class CircleWarp extends browser.jlt{constructor(x,y,radius,canvasSize){super(x,y,radius),this.canvasSize=canvasSize,this.canvasSize={...canvasSize}}contains(point){const{width,height}=this.canvasSize,{x,y}=point;return super.contains(point)||super.contains({x:x-width,y})||super.contains({x:x-width,y:y-height})||super.contains({x,y:y-height})}intersects(range){if(super.intersects(range))return!0;const rect=range,circle=range,newPos={x:range.position.x-this.canvasSize.width,y:range.position.y-this.canvasSize.height};if(void 0!==circle.radius){const biggerCircle=new browser.jlt(newPos.x,newPos.y,2*circle.radius);return super.intersects(biggerCircle)}if(void 0!==rect.size){const rectSW=new browser.M_G(newPos.x,newPos.y,2*rect.size.width,2*rect.size.height);return super.intersects(rectSW)}return!1}}class LinksShadow{constructor(){this.blur=5,this.color=new browser.Oit,this.color.value="#000",this.enable=!1}load(data){data&&(void 0!==data.blur&&(this.blur=data.blur),this.color=browser.Oit.create(this.color,data.color),void 0!==data.enable&&(this.enable=data.enable))}}class LinksTriangle{constructor(){this.enable=!1,this.frequency=1}load(data){data&&(void 0!==data.color&&(this.color=browser.Oit.create(this.color,data.color)),void 0!==data.enable&&(this.enable=data.enable),void 0!==data.frequency&&(this.frequency=data.frequency),void 0!==data.opacity&&(this.opacity=data.opacity))}}class Links{constructor(){this.blink=!1,this.color=new browser.Oit,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new LinksShadow,this.triangles=new LinksTriangle,this.width=1,this.warp=!1}load(data){data&&(void 0!==data.id&&(this.id=data.id),void 0!==data.blink&&(this.blink=data.blink),this.color=browser.Oit.create(this.color,data.color),void 0!==data.consent&&(this.consent=data.consent),void 0!==data.distance&&(this.distance=data.distance),void 0!==data.enable&&(this.enable=data.enable),void 0!==data.frequency&&(this.frequency=data.frequency),void 0!==data.opacity&&(this.opacity=data.opacity),this.shadow.load(data.shadow),this.triangles.load(data.triangles),void 0!==data.width&&(this.width=data.width),void 0!==data.warp&&(this.warp=data.warp))}}const Linker_origin_x=0,Linker_origin_y=0;function getLinkDistance(pos1,pos2,optDistance,canvasSize,warp){const{dx,dy,distance}=(0,browser.vrU)(pos1,pos2);if(!warp||distance<=optDistance)return distance;const absDiffs={x:Math.abs(dx),y:Math.abs(dy)},warpDistances_x=Math.min(absDiffs.x,canvasSize.width-absDiffs.x),warpDistances_y=Math.min(absDiffs.y,canvasSize.height-absDiffs.y);return Math.sqrt(warpDistances_x**2+warpDistances_y**2)}class Linker extends browser.U4p{constructor(container){super(container),this._setColor=p1=>{if(!p1.options.links)return;const container=this.linkContainer,linksOptions=p1.options.links;let linkColor=void 0===linksOptions.id?container.particles.linksColor:container.particles.linksColors.get(linksOptions.id);if(linkColor)return;const optColor=linksOptions.color;linkColor=(0,browser.PGG)(optColor,linksOptions.blink,linksOptions.consent),void 0===linksOptions.id?container.particles.linksColor=linkColor:container.particles.linksColors.set(linksOptions.id,linkColor)},this.linkContainer=container}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}interact(p1){if(!p1.options.links)return;p1.links=[];const pos1=p1.getPosition(),container=this.container,canvasSize=container.canvas.size;if(pos1.x<Linker_origin_x||pos1.y<Linker_origin_y||pos1.x>canvasSize.width||pos1.y>canvasSize.height)return;const linkOpt1=p1.options.links,optOpacity=linkOpt1.opacity,optDistance=p1.retina.linksDistance??0,warp=linkOpt1.warp;let range;range=warp?new CircleWarp(pos1.x,pos1.y,optDistance,canvasSize):new browser.jlt(pos1.x,pos1.y,optDistance);const query=container.particles.quadTree.query(range);for(const p2 of query){const linkOpt2=p2.options.links;if(p1===p2||!linkOpt2?.enable||linkOpt1.id!==linkOpt2.id||p2.spawning||p2.destroyed||!p2.links||p1.links.some((t=>t.destination===p2))||p2.links.some((t=>t.destination===p1)))continue;const pos2=p2.getPosition();if(pos2.x<Linker_origin_x||pos2.y<Linker_origin_y||pos2.x>canvasSize.width||pos2.y>canvasSize.height)continue;const distance=getLinkDistance(pos1,pos2,optDistance,canvasSize,warp&&linkOpt2.warp);if(distance>optDistance)continue;const opacityLine=(1-distance/optDistance)*optOpacity;this._setColor(p1),p1.links.push({destination:p2,opacity:opacityLine})}}isEnabled(particle){return!!particle.options.links?.enable}loadParticlesOptions(options,...sources){options.links||(options.links=new Links);for(const source of sources)options.links.load(source?.links)}reset(){}}function setLinkFrequency(particles,dictionary){const key=function getLinkKey(ids){return ids.sort(((a,b)=>a-b)),ids.join("_")}(particles.map((t=>t.id)));let res=dictionary.get(key);return void 0===res&&(res=(0,browser.G0i)(),dictionary.set(key,res)),res}class LinkInstance{constructor(container){this.container=container,this._drawLinkLine=(p1,link)=>{const p1LinksOptions=p1.options.links;if(!p1LinksOptions?.enable)return;const container=this.container,options=container.actualOptions,p2=link.destination,pos1=p1.getPosition(),pos2=p2.getPosition();let opacity=link.opacity;container.canvas.draw((ctx=>{let colorLine;const twinkle=p1.options.twinkle?.lines;if(twinkle?.enable){const twinkleFreq=twinkle.frequency,twinkleRgb=(0,browser.BN0)(twinkle.color);(0,browser.G0i)()<twinkleFreq&&twinkleRgb&&(colorLine=twinkleRgb,opacity=(0,browser.VGA)(twinkle.opacity))}if(!colorLine){const linkColor=void 0!==p1LinksOptions.id?container.particles.linksColors.get(p1LinksOptions.id):container.particles.linksColor;colorLine=(0,browser._hh)(p1,p2,linkColor)}if(!colorLine)return;const width=p1.retina.linksWidth??0,maxDistance=p1.retina.linksDistance??0,{backgroundMask}=options;!function drawLinkLine(params){let drawn=!1;const{begin,end,maxDistance,context,canvasSize,width,backgroundMask,colorLine,opacity,links}=params;if((0,browser.YfF)(begin,end)<=maxDistance)(0,browser.V6E)(context,begin,end),drawn=!0;else if(links.warp){let pi1,pi2;const endNE={x:end.x-canvasSize.width,y:end.y},d1=(0,browser.vrU)(begin,endNE);if(d1.distance<=maxDistance){const yi=begin.y-d1.dy/d1.dx*begin.x;pi1={x:0,y:yi},pi2={x:canvasSize.width,y:yi}}else{const endSW={x:end.x,y:end.y-canvasSize.height},d2=(0,browser.vrU)(begin,endSW);if(d2.distance<=maxDistance){const xi=-(begin.y-d2.dy/d2.dx*begin.x)/(d2.dy/d2.dx);pi1={x:xi,y:0},pi2={x:xi,y:canvasSize.height}}else{const endSE={x:end.x-canvasSize.width,y:end.y-canvasSize.height},d3=(0,browser.vrU)(begin,endSE);if(d3.distance<=maxDistance){const yi=begin.y-d3.dy/d3.dx*begin.x;pi1={x:-yi/(d3.dy/d3.dx),y:yi},pi2={x:pi1.x+canvasSize.width,y:pi1.y+canvasSize.height}}}}pi1&&pi2&&((0,browser.V6E)(context,begin,pi1),(0,browser.V6E)(context,end,pi2),drawn=!0)}if(!drawn)return;context.lineWidth=width,backgroundMask.enable&&(context.globalCompositeOperation=backgroundMask.composite),context.strokeStyle=(0,browser.xxz)(colorLine,opacity);const{shadow}=links;if(shadow.enable){const shadowColor=(0,browser.BN0)(shadow.color);shadowColor&&(context.shadowBlur=shadow.blur,context.shadowColor=(0,browser.xxz)(shadowColor))}context.stroke()}({context:ctx,width,begin:pos1,end:pos2,maxDistance,canvasSize:container.canvas.size,links:p1LinksOptions,backgroundMask,colorLine,opacity})}))},this._drawLinkTriangle=(p1,link1,link2)=>{const linksOptions=p1.options.links;if(!linksOptions?.enable)return;const triangleOptions=linksOptions.triangles;if(!triangleOptions.enable)return;const container=this.container,options=container.actualOptions,p2=link1.destination,p3=link2.destination,opacityTriangle=triangleOptions.opacity??.5*(link1.opacity+link2.opacity);opacityTriangle<=0||container.canvas.draw((ctx=>{const pos1=p1.getPosition(),pos2=p2.getPosition(),pos3=p3.getPosition(),linksDistance=p1.retina.linksDistance??0;if((0,browser.YfF)(pos1,pos2)>linksDistance||(0,browser.YfF)(pos3,pos2)>linksDistance||(0,browser.YfF)(pos3,pos1)>linksDistance)return;let colorTriangle=(0,browser.BN0)(triangleOptions.color);if(!colorTriangle){const linkColor=void 0!==linksOptions.id?container.particles.linksColors.get(linksOptions.id):container.particles.linksColor;colorTriangle=(0,browser._hh)(p1,p2,linkColor)}colorTriangle&&function drawLinkTriangle(params){const{context,pos1,pos2,pos3,backgroundMask,colorTriangle,opacityTriangle}=params;!function drawTriangle(context,p1,p2,p3){context.beginPath(),context.moveTo(p1.x,p1.y),context.lineTo(p2.x,p2.y),context.lineTo(p3.x,p3.y),context.closePath()}(context,pos1,pos2,pos3),backgroundMask.enable&&(context.globalCompositeOperation=backgroundMask.composite),context.fillStyle=(0,browser.xxz)(colorTriangle,opacityTriangle),context.fill()}({context:ctx,pos1,pos2,pos3,backgroundMask:options.backgroundMask,colorTriangle,opacityTriangle})}))},this._drawTriangles=(options,p1,link,p1Links)=>{const p2=link.destination;if(!options.links?.triangles.enable||!p2.options.links?.triangles.enable)return;const vertices=p2.links?.filter((t=>{const linkFreq=this._getLinkFrequency(p2,t.destination);return p2.options.links&&linkFreq<=p2.options.links.frequency&&p1Links.findIndex((l=>l.destination===t.destination))>=0}));if(vertices?.length)for(const vertex of vertices){const p3=vertex.destination;this._getTriangleFrequency(p1,p2,p3)>options.links.triangles.frequency||this._drawLinkTriangle(p1,link,vertex)}},this._getLinkFrequency=(p1,p2)=>setLinkFrequency([p1,p2],this._freqs.links),this._getTriangleFrequency=(p1,p2,p3)=>setLinkFrequency([p1,p2,p3],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(context,particle){const{links,options}=particle;if(!links?.length)return;const p1Links=links.filter((l=>options.links&&(options.links.frequency>=1||this._getLinkFrequency(particle,l.destination)<=options.links.frequency)));for(const link of p1Links)this._drawTriangles(options,particle,link,p1Links),link.opacity>0&&(particle.retina.linksWidth??0)>0&&this._drawLinkLine(particle,link)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(particle){if(particle.links=[],!particle.options.links)return;const ratio=this.container.retina.pixelRatio,{retina}=particle,{distance,width}=particle.options.links;retina.linksDistance=distance*ratio,retina.linksWidth=width*ratio}particleDestroyed(particle){particle.links=[]}}class LinksPlugin{constructor(){this.id="links"}getPlugin(container){return Promise.resolve(new LinkInstance(container))}loadOptions(){}needsPlugin(){return!0}}async function loadParticlesLinksInteraction(engine,refresh=!0){await async function loadLinksInteraction(engine,refresh=!0){await engine.addInteractor("particlesLinks",(async container=>Promise.resolve(new Linker(container))),refresh)}(engine,refresh),await async function loadLinksPlugin(engine,refresh=!0){const plugin=new LinksPlugin;await engine.addPlugin(plugin,refresh)}(engine,refresh)}const browser_Utils_origin_x=0,browser_Utils_origin_y=0;class PolygonDrawerBase{draw(data){const{particle,radius}=data;!function drawPolygon(data,start,side){const{context}=data,sideCount=side.count.numerator*side.count.denominator,decimalSides=side.count.numerator/side.count.denominator,interiorAngleDegrees=180*(decimalSides-2)/decimalSides,interiorAngle=Math.PI-(0,browser.puj)(interiorAngleDegrees);if(context){context.beginPath(),context.translate(start.x,start.y),context.moveTo(browser_Utils_origin_x,browser_Utils_origin_y);for(let i=0;i<sideCount;i++)context.lineTo(side.length,browser_Utils_origin_y),context.translate(side.length,browser_Utils_origin_y),context.rotate(interiorAngle)}}(data,this.getCenter(particle,radius),this.getSidesData(particle,radius))}getSidesCount(particle){const polygon=particle.shapeData;return Math.round((0,browser.VGA)(polygon?.sides??5))}}class PolygonDrawer extends PolygonDrawerBase{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(particle,radius){return{x:-radius/(particle.sides/3.5),y:-radius/.76}}getSidesData(particle,radius){const sides=particle.sides;return{count:{denominator:1,numerator:sides},length:2.66*radius/(sides/3)}}}class TriangleDrawer extends PolygonDrawerBase{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(particle,radius){return{x:-radius,y:radius/1.66}}getSidesCount(){return 3}getSidesData(particle,radius){return{count:{denominator:2,numerator:3},length:2*radius}}}async function loadPolygonShape(engine,refresh=!0){await async function loadGenericPolygonShape(engine,refresh=!0){await engine.addShape(new PolygonDrawer,refresh)}(engine,refresh),await async function loadTriangleShape(engine,refresh=!0){await engine.addShape(new TriangleDrawer,refresh)}(engine,refresh)}class RotateAnimation{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(data){data&&(void 0!==data.enable&&(this.enable=data.enable),void 0!==data.speed&&(this.speed=(0,browser.DT4)(data.speed)),void 0!==data.decay&&(this.decay=(0,browser.DT4)(data.decay)),void 0!==data.sync&&(this.sync=data.sync))}}class Rotate extends browser.PVU{constructor(){super(),this.animation=new RotateAnimation,this.direction=browser.pTR.clockwise,this.path=!1,this.value=0}load(data){data&&(super.load(data),void 0!==data.direction&&(this.direction=data.direction),this.animation.load(data.animation),void 0!==data.path&&(this.path=data.path))}}const RotateUpdater_doublePI=2*Math.PI;class RotateUpdater{constructor(container){this.container=container}init(particle){const rotateOptions=particle.options.rotate;if(!rotateOptions)return;particle.rotate={enable:rotateOptions.animation.enable,value:(0,browser.puj)((0,browser.VGA)(rotateOptions.value)),min:0,max:RotateUpdater_doublePI},particle.pathRotation=rotateOptions.path;let rotateDirection=rotateOptions.direction;if(rotateDirection===browser.pTR.random){rotateDirection=Math.floor(2*(0,browser.G0i)())>0?browser.pTR.counterClockwise:browser.pTR.clockwise}switch(rotateDirection){case browser.pTR.counterClockwise:case"counterClockwise":particle.rotate.status=browser.H_P.decreasing;break;case browser.pTR.clockwise:particle.rotate.status=browser.H_P.increasing}const rotateAnimation=rotateOptions.animation;rotateAnimation.enable&&(particle.rotate.decay=1-(0,browser.VGA)(rotateAnimation.decay),particle.rotate.velocity=(0,browser.VGA)(rotateAnimation.speed)/360*this.container.retina.reduceFactor,rotateAnimation.sync||(particle.rotate.velocity*=(0,browser.G0i)())),particle.rotation=particle.rotate.value}isEnabled(particle){const rotate=particle.options.rotate;return!!rotate&&(!particle.destroyed&&!particle.spawning&&(!!rotate.value||rotate.animation.enable||rotate.path))}loadOptions(options,...sources){options.rotate||(options.rotate=new Rotate);for(const source of sources)options.rotate.load(source?.rotate)}update(particle,delta){this.isEnabled(particle)&&(particle.isRotating=!!particle.rotate,particle.rotate&&((0,browser.UC0)(particle,particle.rotate,!1,browser.VKE.none,delta),particle.rotation=particle.rotate.value))}}const fixFactor=Math.sqrt(2);class SquareDrawer{constructor(){this.validTypes=["edge","square"]}draw(data){!function drawSquare(data){const{context,radius}=data,fixedRadius=radius/fixFactor,fixedDiameter=2*fixedRadius;context.rect(-fixedRadius,-fixedRadius,fixedDiameter,fixedDiameter)}(data)}getSidesCount(){return 4}}const shape_star_browser_Utils_origin_x=0,shape_star_browser_Utils_origin_y=0;class StarDrawer{constructor(){this.validTypes=["star"]}draw(data){!function drawStar(data){const{context,particle,radius}=data,sides=particle.sides,inset=particle.starInset??2;context.moveTo(shape_star_browser_Utils_origin_x,shape_star_browser_Utils_origin_y-radius);for(let i=0;i<sides;i++)context.rotate(Math.PI/sides),context.lineTo(shape_star_browser_Utils_origin_x,shape_star_browser_Utils_origin_y-radius*inset),context.rotate(Math.PI/sides),context.lineTo(shape_star_browser_Utils_origin_x,shape_star_browser_Utils_origin_y-radius)}(data)}getSidesCount(particle){const star=particle.shapeData;return Math.round((0,browser.VGA)(star?.sides??5))}particleInit(container,particle){const star=particle.shapeData;particle.starInset=(0,browser.VGA)(star?.inset??2)}}class StrokeColorUpdater{constructor(container){this.container=container}init(particle){const container=this.container,options=particle.options,stroke=(0,browser.TA3)(options.stroke,particle.id,options.reduceDuplicates);particle.strokeWidth=(0,browser.VGA)(stroke.width)*container.retina.pixelRatio,particle.strokeOpacity=(0,browser.VGA)(stroke.opacity??1),particle.strokeAnimation=stroke.color?.animation;const strokeHslColor=(0,browser.R5R)(stroke.color)??particle.getFillColor();strokeHslColor&&(particle.strokeColor=(0,browser.pzy)(strokeHslColor,particle.strokeAnimation,container.retina.reduceFactor))}isEnabled(particle){const color=particle.strokeAnimation,{strokeColor}=particle;return!particle.destroyed&&!particle.spawning&&!!color&&(void 0!==strokeColor?.h.value&&strokeColor.h.enable||void 0!==strokeColor?.s.value&&strokeColor.s.enable||void 0!==strokeColor?.l.value&&strokeColor.l.enable)}update(particle,delta){this.isEnabled(particle)&&(0,browser.JvX)(particle.strokeColor,delta)}}async function loadSlim(engine,refresh=!0){await async function loadParallaxMover(engine,refresh=!0){await engine.addMover("parallax",(()=>Promise.resolve(new ParallaxMover)),refresh)}(engine,!1),await async function loadExternalAttractInteraction(engine,refresh=!0){await engine.addInteractor("externalAttract",(container=>Promise.resolve(new Attractor(engine,container))),refresh)}(engine,!1),await async function loadExternalBounceInteraction(engine,refresh=!0){await engine.addInteractor("externalBounce",(container=>Promise.resolve(new Bouncer(container))),refresh)}(engine,!1),await async function loadExternalBubbleInteraction(engine,refresh=!0){await engine.addInteractor("externalBubble",(container=>Promise.resolve(new Bubbler(container))),refresh)}(engine,!1),await async function loadExternalConnectInteraction(engine,refresh=!0){await engine.addInteractor("externalConnect",(container=>Promise.resolve(new Connector(container))),refresh)}(engine,!1),await async function loadExternalGrabInteraction(engine,refresh=!0){await engine.addInteractor("externalGrab",(container=>Promise.resolve(new Grabber(container))),refresh)}(engine,!1),await async function loadExternalPauseInteraction(engine,refresh=!0){await engine.addInteractor("externalPause",(container=>Promise.resolve(new Pauser(container))),refresh)}(engine,!1),await async function loadExternalPushInteraction(engine,refresh=!0){await engine.addInteractor("externalPush",(container=>Promise.resolve(new Pusher(container))),refresh)}(engine,!1),await async function loadExternalRemoveInteraction(engine,refresh=!0){await engine.addInteractor("externalRemove",(container=>Promise.resolve(new Remover(container))),refresh)}(engine,!1),await async function loadExternalRepulseInteraction(engine,refresh=!0){await engine.addInteractor("externalRepulse",(container=>Promise.resolve(new Repulser(engine,container))),refresh)}(engine,!1),await async function loadExternalSlowInteraction(engine,refresh=!0){await engine.addInteractor("externalSlow",(container=>Promise.resolve(new Slower(container))),refresh)}(engine,!1),await async function loadParticlesAttractInteraction(engine,refresh=!0){await engine.addInteractor("particlesAttract",(container=>Promise.resolve(new Attractor_Attractor(container))),refresh)}(engine,!1),await async function loadParticlesCollisionsInteraction(engine,refresh=!0){await engine.addInteractor("particlesCollisions",(container=>Promise.resolve(new Collider(container))),refresh)}(engine,!1),await loadParticlesLinksInteraction(engine,!1),await async function loadEasingQuadPlugin(){(0,browser.nLm)(browser.mgy.easeInQuad,(value=>value**2)),(0,browser.nLm)(browser.mgy.easeOutQuad,(value=>1-(1-value)**2)),(0,browser.nLm)(browser.mgy.easeInOutQuad,(value=>value<.5?2*value**2:1-(-2*value+2)**2/2)),await Promise.resolve()}(),await async function loadEmojiShape(engine,refresh=!0){await engine.addShape(new EmojiDrawer,refresh)}(engine,!1),await loadImageShape(engine,!1),await async function loadLineShape(engine,refresh=!0){await engine.addShape(new LineDrawer,refresh)}(engine,!1),await loadPolygonShape(engine,!1),await async function loadSquareShape(engine,refresh=!0){await engine.addShape(new SquareDrawer,refresh)}(engine,!1),await async function loadStarShape(engine,refresh=!0){await engine.addShape(new StarDrawer,refresh)}(engine,!1),await async function loadLifeUpdater(engine,refresh=!0){await engine.addParticleUpdater("life",(async container=>Promise.resolve(new LifeUpdater(container))),refresh)}(engine,!1),await async function loadRotateUpdater(engine,refresh=!0){await engine.addParticleUpdater("rotate",(container=>Promise.resolve(new RotateUpdater(container))),refresh)}(engine,!1),await async function loadStrokeColorUpdater(engine,refresh=!0){await engine.addParticleUpdater("strokeColor",(container=>Promise.resolve(new StrokeColorUpdater(container))),refresh)}(engine,!1),await loadBasic(engine,refresh)}const shape_text_browser_Utils_double=2,shape_text_browser_Utils_half=.5;function Utils_drawLine(context,line,radius,opacity,index,fill){const pos={x:-(line.length*radius*shape_text_browser_Utils_half),y:radius*shape_text_browser_Utils_half},diameter=radius*shape_text_browser_Utils_double;fill?context.fillText(line,pos.x,pos.y+diameter*index):context.strokeText(line,pos.x,pos.y+diameter*index)}class TextDrawer{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(data){!function drawText(data){const{context,particle,radius,opacity}=data,character=particle.shapeData;if(!character)return;const textData=character.value;if(void 0===textData)return;void 0===particle.text&&(particle.text=(0,browser.TA3)(textData,particle.randomIndexData));const text=particle.text,style=character.style??"",weight=character.weight??"400",size=Math.round(radius)*shape_text_browser_Utils_double,font=character.font??"Verdana",fill=particle.shapeFill,lines=text?.split("\n");if(lines){context.font=`${style} ${weight} ${size}px "${font}"`,context.globalAlpha=opacity;for(let i=0;i<lines.length;i++)Utils_drawLine(context,lines[i],radius,0,i,fill);context.globalAlpha=1}}(data)}async init(container){const options=container.actualOptions,{validTypes}=this;if(validTypes.find((t=>(0,browser.hnD)(t,options.particles.shape.type)))){const shapeOptions=validTypes.map((t=>options.particles.shape.options[t])).find((t=>!!t)),promises=[];(0,browser.wJ2)(shapeOptions,(shape=>{promises.push((0,browser.AlN)(shape.font,shape.weight))})),await Promise.all(promises)}}particleInit(container,particle){if(!particle.shape||!this.validTypes.includes(particle.shape))return;const character=particle.shapeData;if(void 0===character)return;const textData=character.value;void 0!==textData&&(particle.text=(0,browser.TA3)(textData,particle.randomIndexData))}}var TiltDirection;!function(TiltDirection){TiltDirection.clockwise="clockwise",TiltDirection.counterClockwise="counter-clockwise",TiltDirection.random="random"}(TiltDirection||(TiltDirection={}));class TiltAnimation{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(data){data&&(void 0!==data.enable&&(this.enable=data.enable),void 0!==data.speed&&(this.speed=(0,browser.DT4)(data.speed)),void 0!==data.decay&&(this.decay=(0,browser.DT4)(data.decay)),void 0!==data.sync&&(this.sync=data.sync))}}class Tilt extends browser.PVU{constructor(){super(),this.animation=new TiltAnimation,this.direction=TiltDirection.clockwise,this.enable=!1,this.value=0}load(data){super.load(data),data&&(this.animation.load(data.animation),void 0!==data.direction&&(this.direction=data.direction),void 0!==data.enable&&(this.enable=data.enable))}}const TiltUpdater_doublePI=2*Math.PI;class TiltUpdater{constructor(container){this.container=container}getTransformValues(particle){const tilt=particle.tilt?.enable&&particle.tilt;return{b:tilt?Math.cos(tilt.value)*tilt.cosDirection:void 0,c:tilt?Math.sin(tilt.value)*tilt.sinDirection:void 0}}init(particle){const tiltOptions=particle.options.tilt;if(!tiltOptions)return;particle.tilt={enable:tiltOptions.enable,value:(0,browser.puj)((0,browser.VGA)(tiltOptions.value)),sinDirection:(0,browser.G0i)()>=browser.N3d?1:-1,cosDirection:(0,browser.G0i)()>=browser.N3d?1:-1,min:0,max:TiltUpdater_doublePI};let tiltDirection=tiltOptions.direction;if(tiltDirection===TiltDirection.random){tiltDirection=Math.floor(2*(0,browser.G0i)())>0?TiltDirection.counterClockwise:TiltDirection.clockwise}switch(tiltDirection){case TiltDirection.counterClockwise:case"counterClockwise":particle.tilt.status=browser.H_P.decreasing;break;case TiltDirection.clockwise:particle.tilt.status=browser.H_P.increasing}const tiltAnimation=particle.options.tilt?.animation;tiltAnimation?.enable&&(particle.tilt.decay=1-(0,browser.VGA)(tiltAnimation.decay),particle.tilt.velocity=(0,browser.VGA)(tiltAnimation.speed)/360*this.container.retina.reduceFactor,tiltAnimation.sync||(particle.tilt.velocity*=(0,browser.G0i)()))}isEnabled(particle){const tiltAnimation=particle.options.tilt?.animation;return!particle.destroyed&&!particle.spawning&&!!tiltAnimation?.enable}loadOptions(options,...sources){options.tilt||(options.tilt=new Tilt);for(const source of sources)options.tilt.load(source?.tilt)}async update(particle,delta){this.isEnabled(particle)&&particle.tilt&&((0,browser.UC0)(particle,particle.tilt,!1,browser.VKE.none,delta),await Promise.resolve())}}class TwinkleValues{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(data){data&&(void 0!==data.color&&(this.color=browser.Oit.create(this.color,data.color)),void 0!==data.enable&&(this.enable=data.enable),void 0!==data.frequency&&(this.frequency=data.frequency),void 0!==data.opacity&&(this.opacity=(0,browser.DT4)(data.opacity)))}}class Twinkle{constructor(){this.lines=new TwinkleValues,this.particles=new TwinkleValues}load(data){data&&(this.lines.load(data.lines),this.particles.load(data.particles))}}class TwinkleUpdater{getColorStyles(particle,context,radius,opacity){const twinkleOptions=particle.options.twinkle;if(!twinkleOptions)return{};const twinkle=twinkleOptions.particles,twinkling=twinkle.enable&&(0,browser.G0i)()<twinkle.frequency,zIndexOptions=particle.options.zIndex,zOpacityFactor=(1-particle.zIndexFactor)**zIndexOptions.opacityRate,twinklingOpacity=twinkling?(0,browser.VGA)(twinkle.opacity)*zOpacityFactor:opacity,twinkleRgb=(0,browser.R5R)(twinkle.color),twinkleStyle=twinkleRgb?(0,browser.LCf)(twinkleRgb,twinklingOpacity):void 0,res={},needsTwinkle=twinkling&&twinkleStyle;return res.fill=needsTwinkle?twinkleStyle:void 0,res.stroke=needsTwinkle?twinkleStyle:void 0,res}async init(){await Promise.resolve()}isEnabled(particle){const twinkleOptions=particle.options.twinkle;return!!twinkleOptions&&twinkleOptions.particles.enable}loadOptions(options,...sources){options.twinkle||(options.twinkle=new Twinkle);for(const source of sources)options.twinkle.load(source?.twinkle)}async update(){await Promise.resolve()}}class WobbleSpeed{constructor(){this.angle=50,this.move=10}load(data){data&&(void 0!==data.angle&&(this.angle=(0,browser.DT4)(data.angle)),void 0!==data.move&&(this.move=(0,browser.DT4)(data.move)))}}class Wobble{constructor(){this.distance=5,this.enable=!1,this.speed=new WobbleSpeed}load(data){if(data&&(void 0!==data.distance&&(this.distance=(0,browser.DT4)(data.distance)),void 0!==data.enable&&(this.enable=data.enable),void 0!==data.speed))if((0,browser.EtT)(data.speed))this.speed.load({angle:data.speed});else{const rangeSpeed=data.speed;void 0!==rangeSpeed.min?this.speed.load({angle:rangeSpeed}):this.speed.load(data.speed)}}}const updater_wobble_browser_Utils_doublePI=2*Math.PI;const WobbleUpdater_doublePI=2*Math.PI;class WobbleUpdater{constructor(container){this.container=container}init(particle){const wobbleOpt=particle.options.wobble;particle.wobble=wobbleOpt?.enable?{angle:(0,browser.G0i)()*WobbleUpdater_doublePI,angleSpeed:(0,browser.VGA)(wobbleOpt.speed.angle)/360,moveSpeed:(0,browser.VGA)(wobbleOpt.speed.move)/10}:{angle:0,angleSpeed:0,moveSpeed:0},particle.retina.wobbleDistance=(0,browser.VGA)(wobbleOpt?.distance??0)*this.container.retina.pixelRatio}isEnabled(particle){return!particle.destroyed&&!particle.spawning&&!!particle.options.wobble?.enable}loadOptions(options,...sources){options.wobble||(options.wobble=new Wobble);for(const source of sources)options.wobble.load(source?.wobble)}update(particle,delta){this.isEnabled(particle)&&function updateWobble(particle,delta){const{wobble:wobbleOptions}=particle.options,{wobble}=particle;if(!wobbleOptions?.enable||!wobble)return;const angleSpeed=wobble.angleSpeed*delta.factor,distance=wobble.moveSpeed*delta.factor*((particle.retina.wobbleDistance??0)*delta.factor)/(browser.XuV/60),max=updater_wobble_browser_Utils_doublePI,{position}=particle;wobble.angle+=angleSpeed,wobble.angle>max&&(wobble.angle-=max),position.x+=distance*Math.cos(wobble.angle),position.y+=distance*Math.abs(Math.sin(wobble.angle))}(particle,delta)}}async function loadFull(engine,refresh=!0){await async function loadDestroyUpdater(engine,refresh=!0){await engine.addParticleUpdater("destroy",(container=>Promise.resolve(new DestroyUpdater(engine,container))),refresh)}(engine,!1),await async function loadRollUpdater(engine,refresh=!0){await engine.addParticleUpdater("roll",(()=>Promise.resolve(new RollUpdater)),refresh)}(engine,!1),await async function loadTiltUpdater(engine,refresh=!0){await engine.addParticleUpdater("tilt",(container=>Promise.resolve(new TiltUpdater(container))),refresh)}(engine,!1),await async function loadTwinkleUpdater(engine,refresh=!0){await engine.addParticleUpdater("twinkle",(()=>Promise.resolve(new TwinkleUpdater)),refresh)}(engine,!1),await async function loadWobbleUpdater(engine,refresh=!0){await engine.addParticleUpdater("wobble",(container=>Promise.resolve(new WobbleUpdater(container))),refresh)}(engine,!1),await async function loadTextShape(engine,refresh=!0){await engine.addShape(new TextDrawer,refresh)}(engine,!1),await async function loadExternalTrailInteraction(engine,refresh=!0){await engine.addInteractor("externalTrail",(container=>Promise.resolve(new TrailMaker(container))),refresh)}(engine,!1),await async function loadAbsorbersPlugin(engine,refresh=!0){await engine.addPlugin(new AbsorbersPlugin,refresh)}(engine,!1),await async function loadEmittersPlugin(engine,refresh=!0){engine.emitterShapeManager||(engine.emitterShapeManager=new ShapeManager(engine)),engine.addEmitterShapeGenerator||(engine.addEmitterShapeGenerator=(name,generator)=>{engine.emitterShapeManager?.addShapeGenerator(name,generator)});const plugin=new EmittersPlugin(engine);await engine.addPlugin(plugin,refresh)}(engine,!1),await async function loadEmittersShapeCircle(engine,refresh=!0){const emittersEngine=engine;emittersEngine.addEmitterShapeGenerator?.("circle",new EmittersCircleShapeGenerator),await emittersEngine.refresh(refresh)}(engine,!1),await async function loadEmittersShapeSquare(engine,refresh=!0){const emittersEngine=engine;emittersEngine.addEmitterShapeGenerator?.("square",new EmittersSquareShapeGenerator),await emittersEngine.refresh(refresh)}(engine,!1),await loadSlim(engine,refresh)}}}]);